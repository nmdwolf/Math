\chapter{Manifolds}

\section{Charts}

	\newdef{Chart}{\index{chart}\label{manifolds:chart}
    		Let $M$ be a set. Let $U$ be an open subset of $M$ and let $O$ be an open subset of $\mathbb{R}^n$. Let $\varphi:U\rightarrow O$ be a homeomorphism. The pair $(U, \varphi)$ is called a chart on $M$.
	}
	\newdef{Transition map}{
    		Let $(U_1, \varphi_1)$ and $(U_2, \varphi_2)$ be two charts in $\mathcal{A}$. The mapping $\varphi_1^{-1}\circ\varphi_2$ is called a transition map.
    		
    		If $\varphi_1^{-1}\circ\varphi_2$ is continuous then the charts are said to be $C^0$-compatible. However the composition of any two continuous functions is also continuous so it follows that every two charts on a topological manifold are $C^0$-compatible.
	}
	
	\newdef{Atlas}{\index{atlas}
		Let $M$ be a set. Let $\{(U_i, \varphi_i)\}_{i}$ be a set of (pairwise) $\diamond$-compatible charts (where $\diamond$ denotes any compatibility relation) such that $\bigcup_{i} U_i = M$. This set of charts is called a $\diamond$-atlas on $M$. From the remark on $C^0$-compatibility of charts in previous definition it is then obvious that every atlas is a $C^0$-atlas.
	}
	\newdef{Maximal Atlas}{
    		Let $\mathcal{A}_1$ and $\mathcal{A}_2$ be two atlasses covering the same set $M$. If $\mathcal{A}_1 \cup \mathcal{A}_2 = \mathcal{A}$ is again an atlas then the atlasses are said to be equivalent or compatible. The largest such union is called a maximal atlas.
	}
    
	\newdef{Manifold}{\index{manifold}\index{Hausdorff!space}
	    	A set $M$ equipped with a maximal $C^0$-atlas $\mathcal{A}$ is called a topological manifold. An alternative definition (often used in topology) is that of a locally Euclidean Hausdorff space. The topology on $M$ is given by the collection of open sets contained in the charts.
	}
	\begin{remark*}
		In the literature second-countability is often added to the definition of a topological manifold. This ensures that the space has (among others) the property of paracompactness.
	\end{remark*}
	
	\newdef{$C^k$-manifold}{\index{smooth!manifold}
		If all transition maps are $C^k$-diffeomorphisms than the manifold is called a $C^k$-manifold. A $C^\infty$-manifold is also called a smooth manifold.
	}
	
	\begin{theorem}[Whitney]
		Every $C^k$-atlas contains a $C^\infty$-atlas. Furthermore, if two $C^k$-atlasses contain the same $C^\infty$-atlas then they are identical. It follows that every differentiable manifold is automatically smooth.
	\end{theorem}
	
	\begin{theorem}[Rad\'o-Moise]
		In the dimensions $1, 2$ and 3 there exists for every topological manifold a unique smooth structure.
	\end{theorem}
	\begin{theorem}
		For dimensions higher than 4, there exist only finitely many distinct smooth structures.
	\end{theorem}
	\sremark{In $\dim M = 4$ there are only partial results. For non-compact manifolds there exist uncountably many distinct smooth structures. For compact manifolds there exists no complete characterization.}
    
	\newformula{Smooth\footnotemark\ function}{\index{smooth!function}\index{local representation}
		\footnotetext{In this definition one can replace 'smooth' by '$C^k$-differentiable'.}
	    	Let $f:M\rightarrow N$ be a function between two smooth manifolds. $f$ is said to be smooth if there exist charts $(U, \varphi)$ and $(V, \psi)$ for $M$ and $N$ with $f(U)\subseteq V$ such that the function
	        \begin{equation}
	        	\label{diff:manifolds:local_representation}
	        	f_{\varphi\psi} = \psi\circ f \circ\varphi^{-1}
	        \end{equation}
	        is smooth on $\mathbb{R}^n$.
	}
	\sremark{The function $f_{\varphi\psi}$ in equation \ref{diff:manifolds:local_representation} is called the \textbf{local representation} of $f$.}
    
	\begin{notation}
	    	The set of all $C^\infty$ functions on a manifold $M$ defined on a neighbourhood of $m\in M$ is denoted by $\mathcal{F}_m(M)$. This set forms a commutative ring when equipped with the usual sum and product (composition) of functions.
	\end{notation}

\section{Tangent vectors}\label{diff:section:tangent_space}

	\newdef{Tangent vector}{\index{tangent!vector}\index{derivation}\label{manifolds:derivation}
		\nomenclature[S]{$\mathcal{F}_p(M)$}{Ring/algebra of all smooth functions $f:M\rightarrow\mathbb{R}$ defined on a neighbourhood of $p\in M$.}
	    	Let $M$ be a smooth manifold and $p\in M$. Let $f, g:M\rightarrow\mathbb{R} \in \mathcal{F}_p(M)$. A tangent vector on $M$ is a differential operator $v_p$ satisfying the following properties:
	        \begin{enumerate}
			\item Linearity: $v_p(af + g) = av_p(f) + v_p(g)$
			\item Leibniz property: $v_p(fg) = f(p)v_p(g) + g(p)v_p(f)$
	        \end{enumerate}
	        Maps with these properties are also called \textbf{derivations}\footnote{Generally, every operation that satisfies the Leibniz property is called a derivation.}.
	}
	\begin{property}
	    	For every constant function $c:p\mapsto c$ we have:
	    	\begin{equation}
	        	v_p(c) = 0
	        \end{equation}
	\end{property}
    
	\newdef{Tangent space}{\index{tangent!space}\index{basis}\label{diff:manifolds:tangent_vector_partial}
    		Following from the previous definition, we can construct a tangent (vector) space $T_pM$ in each point $p\in M$. The basis vectors are given by:
        	\begin{equation}
        		\boxed{\left.\ds\pderiv{}{q^i}\right|_{p}:\mathcal{F}_p(M, \mathbb{R})\rightarrow\mathbb{R}:f\mapsto \pderiv{}{q^i}\left(f\circ\varphi^{-1}\right)(\varphi(p))}
        	\end{equation}
        	where $(U, \varphi)$ is a coordinate chart such that $p\in U$ and $(q^1, ..., q^n)$ are local coordinates.
	}
	\remark{Due to the explicit dependence of the tangent vectors on the point $p\in M$, it is clear that for curved manifolds the tangent spaces belonging to different points will not be the same.}
	\begin{property}
		From the above tangent space construction it follows that:
        	\begin{equation}
        		\boxed{\dim(T_p M) = \dim(M)}
        	\end{equation}
        	This also implies that the tangent spaces over two distinct points $p, q\in M$ are isomorphic.
	\end{property}
    
	\newdef{Curve}{\index{curve}
	   	A smooth function $\gamma:\mathbb{R}\rightarrow M$ with $\gamma(0) = m$ is called a smooth curve through $m\in M$.
	}
	\newadef{Tangent space}{\label{manifolds:alternative_definition}
	    	The alternative construction goes as follows. Let $(U, \varphi)$ be a chart for the point $p\in M$. Two smooth curves $\gamma_1, \gamma_2$ through $p\in M$ are said to be tangent at $p$ if:
	    	\begin{equation}
	    		\deriv{(\varphi\circ\gamma_1)}{t}(0) = \deriv{(\varphi\circ\gamma_2)}{t}(0)
	    	\end{equation}
	    	or equivalently, if their local representatives are tangent in 0. This relation imposes an equivalence relation\footnote{The relation is well-defined (under a change of chart) because the transition maps (and their Jacobian matrices) are invertible and thus non-singular.} on the set of smooth curves through $p$. One then defines\mnote{def} the tangent space at $p$ as the set of equivalence classes of tangent curves through $p$. Explicitly these equivalence classes are constructed as follows:
    	
		We can define the following tangent vector to the curve $c(t)$ through $p$ as:
	    	\begin{equation}
	    		\boxed{v_p(f) = \left.\deriv{(f\circ c)}{t}\right|_{t=0}}
	    	\end{equation}
	    	Applying the chain rule gives us
	    	\begin{equation}
	    		\label{diff:manifolds:tangent_vector_chain_rule}
	    		v_p(f) = \pderiv{(f\circ\varphi^{-1})}{q^i}(\varphi(p))\deriv{q^i}{t}(0)
		\end{equation}
		where $q^i = (\varphi\circ c)^i$. The first factor depends only on the point $p$ and the second factor is equal for all tangent curves through $p$. We thus see that tangent curves define the same tangent vector.
	}
    
	The proof that both definitions of the tangent space are in fact equivalent is given in the appendices.

\section{Curvature}
	\newformula{Riemann Curvature Tensor}{\index{Riemann!curvature tensor}
    	Let $V\in TM$. Let $D_\mu$ be the covariant derivative.
        \begin{equation}
        	\label{diff:manifolds:riemann_tensor}
            \boxed{[D_\mu, D_\nu]V^\rho = R^\rho_{\ \kappa\mu\nu}V^\kappa}
        \end{equation}
    }
    
    \newformula{Ricci tensor}{\index{Ricci!tensor}
    	\begin{equation}
    		\label{diff:manifolds:ricci_tensor}
            R_{\mu\nu} = R^\lambda_{\ \mu\lambda\nu}
    	\end{equation}
    }
    
    \newformula{Ricci scalar}{\index{Ricci!scalar}\index{curvature!scalar}
    	\begin{equation}
    		\label{diff:manifolds:ricci_scalar}
            R = R^\mu_{\ \mu}
    	\end{equation}
        This scalar quantity is also called the \textbf{scalar curvature}.
    }
    
    \newformula{Einstein Tensor}{\index{Einstein!tensor}
    	\begin{equation}
    		\label{diff:manifolds:einstein_tensor}
            \boxed{G_{\mu\nu} = R_{\mu\nu} - \frac{1}{2}g_{\mu\nu}R}
    	\end{equation}
    }
    \begin{theorem}
    	For 4-dimensional manifolds the Einstein tensor $G_{\mu\nu}$ is the only tensor containing at most second derivatives of the metric $g_{\mu\nu}$ and satisfying:
        \begin{equation}
        	\nabla_\mu G^{\mu\nu} = 0
        \end{equation}
    \end{theorem}
    
\section{Submanifolds}

	\newdef{Submanifold}{\index{submanifold}
		Let $M$ be a manifold. A subset $N\subset M$ is called a submanifold of $M$ if $N$, equipped with the subspace topology, is a topological manifold on its own.
	}

	\newdef{Immersion}{\index{immersion}
		Let $f:M\rightarrow N$ be a differentiable function between smooth manifolds. $f$ is called an immersion if its derivative\footnote{This is formally defined in \ref{diff:manifolds:T_function}. For now it is the map represented by the Jacobian matrix.} is everywhere injective, or equivalently if its derivative has maximal rank\footnotemark\ everywhere:
		\footnotetext{See definition \ref{manifolds:rank}.}
		\begin{equation}
			\text{rk}_p(f) = \dim(M), \forall p\in M
		\end{equation}
	}
	\newdef{Submersion}{\index{submersion}\index{regular point}\label{manifolds:submersion}
		Let $f:M\rightarrow N$ be a differentiable map between smooth manifolds. A \textbf{regular point}\footnotemark\ of $f$ is a point $x\in M$ such that $T_xf$ is surjective. $f$ is called a submersion if its derivative is everywhere surjective, or equivalently if
		\footnotetext{$f(x)$ is then called a \textbf{regular value}.}
		\begin{equation}
			\text{rk}_p(f) = \dim(N), \forall p\in M
		\end{equation}
	}
	
	\newdef{Embedding}{\index{embedding}
		A differentiable function between smooth manifolds is called a smooth embedding if its both an injective immersion and an embedding in the topological sense \ref{topology:embedding}. This implies that the submanifold topology coincides with the subspace topology \ref{topology:relative_topology}.
	}
	
	\newdef{Embedded submanifold}{
		Let $M$ be a manifold. A subset $N$ is an embedded\footnotemark\ submanifold if the inclusion map $f:M\hookrightarrow N$ is a smooth embedding.
		\footnotetext{An immersed submanifold is defined analogously. The requirement of the inclusion map being a smooth embedding is relaxed to it being an (injective) immersion. However the submanifold topology will no longer coincide with the subspace topology.}
	}
	
	\newdef{Slice}{\index{slice}
		Let $m<n$ be two positive integers. The space $\mathbb{R}^m$ can be viewed as a subspace of $\mathbb{R}^n$ by identifying them in the following way:
		\begin{equation}
			\mathbb{R}^m\cong\mathbb{R}^m\times\{\underbrace{0, ..., 0}_{n-m}\}\overset{\iota}{\hookrightarrow}\mathbb{R}^m\times\mathbb{R}^{n-m}\cong\mathbb{R}^n
		\end{equation}
		where $\iota:(x_1, ..., x_m)\mapsto(x_1, ..., x_m, \underbrace{0, ..., 0}_{n-m})$ is the canonical inclusion map.
	}
	\begin{adefinition}
		A $k$-dimensional embedded manifold $N$ of $M$ can now be defined equivalently as a subset of $M$ such that there exists a positive integer $k$ and such that for every point $p\in N$ there exists a chart $(U, \varphi)$ with
		\begin{equation}
			\varphi(U\cap N) = \varphi(U) \cap (\mathbb{R}^k\times\{\underbrace{0, ..., 0}_{n-k}\})
		\end{equation}
		where $n=\text{dim}(M)$. The set $U\cap N$ is called a slice of $(U, \varphi)$ in analogy with the previous definition of a (standard) slice.
	\end{adefinition}
	
	\begin{theorem}[Submersion theorem\footnotemark]\index{regular value theorem}\index{submersion!theorem}
		\footnotetext{Also called the \textbf{regular value theorem}.}
		Consider a smooth map $f:M_1\rightarrow M_2$ between smooth manifolds. Let $y\in M_2$ be a regular value. Then $N=f^{-1}(y)$ is a submanifold of $M_1$ with codimension $\dim(M_2)$.
	\end{theorem}

\section{Manifolds with boundary}

	\newdef{Manifold with boundary}{\index{boundary}\index{interior}
		Let $\mathbb{H}^n$ denote the upper half space, i.e.:
		\begin{equation}
			\label{manifolds:upper_half_space}
			\mathbb{H}^n = \{(x_1, ..., x_n)|x_n \geq 0\}\subset\mathbb{R}^n
		\end{equation}
		An $n$-dimensional manifold with boundary is then given by a set $M$ together with a maximal atlas consisting of (regular) charts $(U, \varphi)$ such that $U$ is diffeomorphic to $\mathbb{R}^n$, these points are called \textbf{interior points}, and (boundary) charts $(V, \phi)$ such that $V$ is diffeomorphic to $\mathbb{H}^n$, these points are called \textbf{boundary points}.
	}
	\begin{remark}[Manifold boundary]
		The boundary $\partial M$, consisting of all boundary points of $M$ as defined in the above definition, should not be confused with the topological boundary of $M$. In general these are different sets. Similarly, the interior $\text{Int}(M) = M \\ \partial M$, in the sense of manifolds, should not be confused with the topological interior.
	\end{remark}
	
	\begin{property}
		Let $M$ be an $n$-dimensional manifold with boundary. Let $(U, \varphi)$ be a chart for $p\in\partial M$. Then
		\begin{equation}
			\varphi(p) \in \partial\mathbb{H}^n = \{(x_1, ..., x_n)|x_n=0\}
		\end{equation}
	\end{property}

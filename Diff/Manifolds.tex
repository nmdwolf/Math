\chapter{Manifolds}\label{chapter:manifolds}

References for this chapter (and \ref{part:diffgeom} in general) are \cite{AMP1, AMP2, diffgeom_physics, kms, sen_nash, schuller}.

\section{Charts}

    \newdef{Chart}{\index{chart}\label{diff:chart}
        Consider a topological space  $M$. Let $U$ be an open subset of $M$ and let $O$ be an open subset of $\mathbb{R}^n$ such that there exists a homeomorphism $\varphi:U\rightarrow O$. The pair $(U,\varphi)$ is called a chart on $M$.
    }
    \newdef{Transition map}{
        Let $(U_1,\varphi_1)$ and $(U_2,\varphi_2)$ be two charts on $M$. The mapping $\varphi_1^{-1}\circ\varphi_2$, defined on the intersection $U_1\cap U_2$, is called the transition map between the charts.

        If $\varphi_1^{-1}\circ\varphi_2$ is continuous, the charts are said to be $C^0$-compatible. However, because the composition of any two continuous functions is also continuous, every two charts on a topological space are $C^0$-compatible.
    }

    \newdef{Atlas}{\index{atlas}
        Let $M$ be a topological space and let $\{(U_i,\varphi_i)\}_{i}$ be a collection of pairwise compatible charts covering $M$. This collection of charts is called an atlas on $M$. From the above remark on $C^0$-compatibility it follows that every atlas is a $C^0$-atlas. Depending on the type of compatibility condition that was used, one can define different types of atlases.
    }
    \newdef{Maximal atlas}{
        Let $\mathcal{A}_1$ and $\mathcal{A}_2$ be two atlases on the same topological space $M$. If $\mathcal{A}_1\cup\mathcal{A}_2=\mathcal{A}$ is again an atlas, then the atlases are said to be equivalent or compatible. The largest such union is called a maximal atlas.
    }

    \newdef{Manifold}{\index{manifold}
        A topological space $M$ equipped with a maximal $C^0$-atlas $\mathcal{A}$ is called a \textbf{topological} manifold. An alternative definition (often used in topology) is that of a locally Euclidean Hausdorff space. The topology on $M$ is generated by the collection of charts.
    }
    \begin{remark*}\index{smooth!manifold}\index{PL manifold}
        \nomenclature[S_Man]{$\textbf{Man}^p$}{category of $C^p$-manifolds}
        \nomenclature[S_Diff]{$\textbf{Diff}$}{category of smooth manifolds}
        In the literature second-countability is often added to the definition of a topological manifold. This ensures that the space has (among others) the property of paracompactness \ref{topology:paracompact} and hence lends itself to the construction of partitions of unity (necessary for the introduction of integration theory as in chapter \ref{section:integration_manifolds}).

        For an alternative definition of manifolds in the context of \textit{smooth spaces} see section \ref{section:smooth_spaces}.

        If all transition maps are $C^k$-diffeomorphisms, the manifold is called a $C^k$-manifold. A $C^\infty$-manifold is also called a \textbf{smooth manifold}. If the transition maps are not only smooth, but even analytic \ref{calculus:analytic}, then the manifold is called an \textbf{analytic} or $C^\omega$-manifold. A topological manifold equipped with a maximal atlas for which the transition maps are piecewise linear is called a \textbf{PL manifold}.
    \end{remark*}

    \newdef{\difficult{Structure sheaf}}{\index{structure!sheaf}
        Let $M$ be a $C^k$-manifold. The structure sheaf $\mathcal{O}_M$ is defined as the sheaf (see definition \ref{sheaf:def}) that assigns to every open set $U\subseteq M$ the set of $C^k$-functions $f:U\rightarrow\mathbb{R}$.

        Generally, one can define for all $j\leq k$ the sheaf $\mathcal{O}^j_M$ as the sheaf that assigns to every open set $U\subseteq M$ the set of $C^j$-functions $f:U\rightarrow\mathbb{R}$.

        From the ''sheafy'' point of view one can equivalently define a smooth manifold as a ringed space that is locally isomorphic to $\mathbb{R}^n$ equipped with its standard space of differentiable functions. (This is an extension of the constructions in algebraic geometry as given in sections \ref{section:varieties} and \ref{section:schemes}.)
    }

    \begin{theorem}[Whitney]\index{Whitney}
        Every $C^k$-atlas contains a $C^\infty$-atlas (at least on paracompact manifold). Furthermore, two $C^k$-atlases are equal if and only if they contain the same $C^\infty$-atlas. It follows that every differentiable manifold is automatically smooth.
    \end{theorem}

    \begin{theorem}[Rad\'o-Moise]\index{Rad\'o-Moise}\label{diff:rado_moise}
        In dimensions $1,2$ and $3$ there exists for every topological manifold a unique smooth structure.
    \end{theorem}
    \begin{theorem}
        For dimensions higher than $4$ there exist only finitely many distinct smooth structures on compact manifolds. In fact, for \textit{PL} manifolds the number of smooth structures is fixed for each dimension (except for $4$).
    \end{theorem}
    \sremark{In $\dim M = 4$ there exist only partial results. For noncompact manifolds there exist uncountably many distinct smooth structures. For compact manifolds there exists no complete characterization.}

    \newdef{Smooth function}{\index{smooth!function}\index{local!representation}\label{manifolds:smooth_function}
        Let $f:M\rightarrow N$ be a function between two smooth manifolds. $f$ is said to be smooth if there exist charts $(U,\varphi)$ and $(V,\psi)$ for $M$ and $N$ with $f(U)\subseteq V$ such that the function
        \begin{gather}
            \label{diff:local_representation}
            f_{\varphi\psi} = \psi\circ f\circ\varphi^{-1}
        \end{gather}
        is smooth on $\mathbb{R}^n$. This function is said to be the \textbf{local representation} of $f$.
    }
    \begin{example}[Smooth curve]\index{curve}\label{diff:curve}
        A smooth function $\gamma:\mathbb{R}\rightarrow M$ with $\gamma(0)=p$ is called a smooth curve through $p\in M$.
    \end{example}

    \begin{notation}
        \nomenclature[S_Cinfty]{$C^\infty_p(M)$}{ring of smooth functions $f:M\rightarrow\mathbb{R}$ on a neighbourhood of $p\in M$}
        The set of all $C^\infty$-functions on a manifold $M$, defined on a neighbourhood of $p\in M$, is denoted by $C^\infty_p(M)$. This set forms a commutative ring when equipped with the usual sum and product (composition) of functions.
    \end{notation}

    \remark{Depending on the choice of chart one can define other types of functions in the same way, e.g. $C^k$-functions or piecewise linear functions.}

    \newdef{Good cover\footnotemark}{\index{cover}\index{finite!type}\label{diff:good_cover}
        \footnotetext{Sometimes called a \textbf{nice cover}.}
        Let $M$ be an $n$-dimensional manifold with an open cover $\mathcal{U}=\{U_i\}_{i\in I}$. The cover $\mathcal{U}$ is called a good cover if every nonempty finite intersection $U_{i_1}\cap\ldots\cap\,U_{i_k}$ is contractible. (Many authors require the intersections to be diffeomorphic to $\mathbb{R}^n$. This is also called a \textbf{differentiable good cover}.)

        If a manifold admits a finite good cover, it is said to be of \textbf{finite type}.
    }

    \begin{property}
        Every paracompact smooth manifold admits a (differentiable) good cover. Furthermore, if the manifold is compact, it admits a finite good cover.
    \end{property}

\section{Tangent vectors}\label{section:tangent_space}

    \newdef{Tangent vector}{\index{tangent!vector}\index{derivation}\label{diff:derivation}
        Let $M$ be a smooth manifold and consider a point $p\in M$. A tangent vector to $M$ at $p$ is a differential operator, i.e. a map $v_p:C^\infty_p(M)\rightarrow\mathbb{R}$ satisfying the properties
        \begin{enumerate}
            \item \textbf{Linearity}: $v_p(af+g) = av_p(f) + v_p(g)$, and
            \item \textbf{Leibniz property}: $v_p(fg) = f(p)v_p(g) + g(p)v_p(f)$
        \end{enumerate}
        for all $f,g:\in C^\infty_p(M)$ and $a\in\mathbb{R}$. Maps with these properties are also called \textbf{derivations}\footnote{More generally, every operation that satisfies the Leibniz property is called a derivation.}.
    }
    \begin{property}
        For every constant function $c:p\mapsto c$ one finds that
        \begin{gather}
            v_p(c)=0.
        \end{gather}
    \end{property}

    \newdef{Tangent space}{\index{tangent!space}\index{basis}\label{diff:tangent_vector_partial}
        Using the previous definition one can construct a tangent (vector) space $T_pM$ at each point $p\in M$. The basis vectors are given by
        \begin{gather}
            \left.\ds\pderiv{}{q^i}\right|_{p}:C^\infty_p(M)\rightarrow\mathbb{R}:f\mapsto \pderiv{}{q^i}\left(f\circ\varphi^{-1}\right)(\varphi(p))
        \end{gather}
        where $(U, \varphi)$ is a coordinate chart such that $p\in U$ with local coordinates $(q^1,\ldots,q^n)$.
    }
    Due to the explicit dependence of the tangent vectors on the point $p\in M$, it is clear that for curved manifolds the tangent spaces belonging to different points are not the same. However, they are related through the following property:
    \begin{property}
        From the above construction it follows that
        \begin{gather}
            \dim(T_p M)=\dim(M)
        \end{gather}
        for all $p\in M$. Theorem \ref{linalgebra:dimension_isomorphism} then implies that the tangent spaces over two distinct points $p,q\in M$ are isomorphic. A way to relate distinct tangent spaces will be presented in sections \ref{section:linear_connections} and \ref{section:covariant_derivatives}.
    \end{property}

    \newadef{Tangent space $\dag$}{\label{diff:alternative_definition}
        Let $(U,\varphi)$ be a chart around the point $p\in M$. Two smooth curves $\gamma_1,\gamma_2$ through $p\in M$ are said to be tangent at $p$ if
        \begin{gather}
            \label{diff:equal_derivative}
            \deriv{(\varphi\circ\gamma_1)}{t}(0) = \deriv{(\varphi\circ\gamma_2)}{t}(0),
        \end{gather}
        or, equivalently, if their local representations are tangent at 0. This defines an equivalence relation\footnote{The relation is well-defined because the transition maps (and their Jacobian matrices) are invertible and thus nonsingular.} on the set of smooth curves through $p$. The tangent space at $p$ is then defined as the set of equivalence classes of tangent curves through $p$. These equivalence classes can be explicitly constructed as follows:

        The tangent vector to the curve $c(t)$ through $p$ is defined by the following formula:
        \begin{gather}
            v_p(f) = \left.\deriv{(f\circ c)}{t}\right|_{t=0}.
        \end{gather}
        Applying the chain rule gives
        \begin{gather}
            \label{diff:tangent_vector_chain_rule}
            v_p(f) = \pderiv{(f\circ\varphi^{-1})}{q^i}(\varphi(p))\deriv{q^i}{t}(0)
        \end{gather}
        where $q^i=(\varphi\circ c)^i$. The first factor depends only on the point $p$ while the second factor is equal for all tangent curves through $p$. It is thus clear that curves satisfying equation \ref{diff:equal_derivative} define the same tangent vector.
    }

\section{Submanifolds}
\subsection{Immersions and submersions}

    In this section the tangent map induced by a smooth function $f:M\rightarrow N$ is denoted by $T_pf:T_pM\rightarrow T_{f(p)}N$. A formal definition is given in equation \ref{diff:T_function} when enough mathematical background has been introduced. For now this will be the map that is locally represented by the Jacobian of $f$.

    \newdef{Immersion}{\index{immersion}
        Let $f:M\rightarrow N$ be a differentiable function between smooth manifolds. It is called an immersion if its derivative is everywhere injective, or equivalently, if its derivative has maximal rank everywhere:
        \begin{gather}
            \text{rk}(T_pf)=\dim(M)\qquad\qquad\forall p\in M.
        \end{gather}
    }

    \newdef{Critical point}{\index{critical!point}\label{diff:nondegenerate_critical_point}
        A point $p\in\dom(f)$ is said to be critical if the rank of the Jacobian $T_pf$ is not maximal. The image of a critical point is called a \textbf{critical value}.

        At a critical point $p\in M$ the Hessian of $f$ gives a well-defined quadratic form. A critical point is said to be \textbf{nondegenerate} if the Hessian is nonsingular there.
    }
    \begin{property}[Criticality]\label{diff:critical_point}
        A point $p\in\dom(f)$ is critical if and only if there exists a chart $(U,\varphi)$ containing $p$ for which $\pderiv{f}{x^i}(p)=0$.
    \end{property}
    \begin{theorem}[Sard]\index{Sard}
        Consider a map $\psi:M\rightarrow N$, where $\dim M=m$ and $\dim N=n$ and let $k_0 = \max\{1, m-n+1\}$. If $\psi$ is of class $C^k$, with $k\geq k_0$, the set of critical values of $\psi$ has Lebesgue measure 0.
    \end{theorem}

    \newdef{Regular point}{
        A regular point of $f$ is a point $p\in M$ such that $T_pf$ is surjective.
    }
    \newdef{Regular value}{\index{regular!value}
        Let $f:M\rightarrow N$ be a differentiable map between smooth manifolds. A point $y\in N$ is called a \textbf{regular value} if every point in the preimage $f^{-1}(y)$ is a regular point or, equivalently, if it is not a critical value.
    }

    \begin{result}\label{diff:regular_point}
        It follows from property \ref{diff:critical_point} that a point $p\in\dom(f)$ is regular if and only if $\pderiv{f}{x^i}(p)\neq0$ in all charts $(U,\varphi)$ containing $p$.
    \end{result}

    \newdef{Submersion}{\index{submersion}\label{diff:submersion}
        Let $f:M\rightarrow N$ be a differentiable map between smooth manifolds. It is called a submersion if all $p\in M$ are regular, or equivalently, if
        \begin{gather}
            \text{rk}(T_pf)=\dim(N)
        \end{gather}
        for all $p\in M$.
    }

    \newdef{Embedding}{\index{embedding}
        A differentiable map between smooth manifolds is called a smooth embedding if it is both an immersion and an embedding in the topological sense \ref{topology:embedding}. This implies that the submanifold topology coincides with the subspace topology \ref{topology:relative_topology}.
    }

\subsection{Submanifolds}

    \newdef{Submanifold}{\index{sub!manifold}
        Let $M$ be a manifold. A subset $N\subset M$ is called a submanifold of $M$ if $N$, equipped with the subspace topology, is a topological manifold on its own.
    }
    \newdef{Embedded submanifold}{
        Let $M$ be a manifold. A smooth manifold $N$ is called an embedded or \textbf{regular submanifold} (of $M$) if there exists an embedding $f:M\hookrightarrow N$.
    }

    \newdef{Slice}{\index{slice}
        Consider two positive integers $m<n$. The space $\mathbb{R}^m$ can be canonically identified with a subspace of $\mathbb{R}^n$ as follows:
        \begin{gather}
            \mathbb{R}^m\cong\mathbb{R}^m\times\{0,\ldots, 0\}\overset{\iota}{\hookrightarrow}\mathbb{R}^m\times\mathbb{R}^{n-m}\cong\mathbb{R}^n
        \end{gather}
        where $\iota:(x_1,\ldots,x_m)\mapsto(x_1,\ldots,x_m,0,\ldots,0)$ is the canonical inclusion map. Subspaces obtained by setting a number of coordinates equal to 0 (or any other constant) are called slices.
    }
    \begin{adefinition}[Embedded submanifold]
        A $k$-dimensional embedded manifold $N$ of $M$ can be defined equivalently as a subset of $M$ such that there exists a positive integer $k$ and such that for every point $p\in N$ there exists a chart $(U,\varphi)$ that satisfies
        \begin{gather}
            \varphi(U\cap N) = \varphi(U) \cap (\mathbb{R}^k\times\{\underbrace{0,\ldots,0}_{\text{dim}(M)-k}\}).
        \end{gather}
        The set $U\cap N$ is called a \textbf{slice} of $(U,\varphi)$ in analogy with the previous definition of a (standard) slice.
    \end{adefinition}

    \newdef{Immersed submanifold}{
        Let $M,N$ be smooth manifolds. $N$ is said to be an immersed submanifold of $M$ if there exists an immersion $i:N\hookrightarrow M$. Locally every immersed submanifold looks like a regular submanifold. Globally, however, the topology does not have to coincide with the subspace topology.
    }

    \begin{theorem}[Submersion theorem\footnotemark]\index{submersion!theorem}
        \footnotetext{Also called the \textbf{regular value theorem}.}
        Consider a smooth map $f:M_1\rightarrow M_2$ between smooth manifolds and let $y\in M_2$ be a regular value. Then $N=f^{-1}(y)$ is a submanifold of $M_1$ with codimension $\dim(M_2)$.
    \end{theorem}

    \newdef{Closed embedded manifold}{
        Let $N$ be an immersed submanifold of $M$. If the inclusion map $i:N\hookrightarrow M$ is closed, $N$ is in fact an embedded submanifold and hence it is called a closed embedded manifold.
    }

    \newdef{Transversal intersection}{\index{transversality}
        Consider a smooth manifold $M$. Two submanifolds $X, Y$ are said to be transversal (or to intersect transversally) if at each intersection point $p$ the following relation holds:
        \begin{gather}
            T_pX + T_pY = T_pM.
        \end{gather}
        If the dimensions of $X$ and $Y$ are complementary (in $M$), the sum becomes a direct sum. If two submanifolds do not intersect at all, they are vacuously\mnote{\dbend} transversal (independent of their dimension).
    }
    \begin{property}
        The codimension of transversal intersections is equal to the sum of the codimensions of the intersecting submanifolds. It follows that if the submanifolds have complementary dimensions, the intersection consists of isolated points.
    \end{property}

    \begin{example}[Stiefel manifold]\index{Stiefel!manifold}
        Let $V$ be an inner product space\footnote{See section \ref{linalgebra:innerproduct}.} over a field $K$. The set of orthonormal $k$-frames can be embedded in $K^{n\times k}$. It is a compact embedded submanifold, called the Stiefel manifold of $k$-frames over $V$.
    \end{example}

\section{Manifolds with boundary}\label{section:manifold_boundary}

    \newdef{Manifold with boundary}{\index{boundary}\index{interior}
        Let $\mathbb{H}^n$ denote the upper half space:
        \begin{gather}
            \label{diff:upper_half_space}
            \mathbb{H}^n:=\mathbb{R}^{n-1}\times\mathbb{R}^+= \{(x_1,\ldots,x_n):x_n \geq 0\}\subset\mathbb{R}^n.
        \end{gather}
        An $n$-dimensional manifold with boundary is defined as a topological space $M$ equipped with a maximal atlas consisting of (regular) charts $(U,\varphi)$ such that $U$ is diffeomorphic to $\mathbb{R}^n$ (these points are called \textbf{interior points}) and \textbf{boundary charts} $(V,\phi)$ such that $V$ is diffeomorphic to $\mathbb{H}^n$ (these points are called \textbf{boundary points}).
    }
    \begin{remark}[Boundary]
        The boundary $\partial M$, consisting of all boundary points of $M$ as defined in the above definition, should not be confused with the topological boundary of $M$. In general these are different sets. Similarly, the interior $\text{Int}(M) = M \backslash\partial M$, in the sense of manifolds, should not be confused with the topological interior.
    \end{remark}

    \begin{property}
        Let $M$ be an $n$-dimensional manifold with boundary and let $(U,\varphi)$ be a chart for $p\in\partial M$.
        \begin{gather}
            \varphi(p) \in \partial\mathbb{H}^n = \{(x_1,\ldots,x_n):x_n=0\}
        \end{gather}
    \end{property}

    \newdef{Manifold with corners}{
        Analogous to the definition of a manifold with boundaries one can define a manifold wih corners using \textbf{corner charts} of the form \[\varphi:U\rightarrow\mathbb{R}^k\times(\mathbb{R}^+)^l.\] In contrast to the case of manifolds with boundary one does need to add an extra requirement when working with higher order corners: For every two charts $(U, \varphi)$ and $(V, \psi)$ the transition function should preserve the corners: \[\varphi\circ\psi^{-1}(V\cap \{0\}\times\mathbb{R}^k) \subset \{0\}\times\mathbb{R}^k.\]
    }
    \begin{remark}
        In the topological setting every manifold with corners (even higher order ones) is homeomorphic to a manifold with boundary. However, when working with smooth structures this result fails. There exists no such diffeomorphism and accordingly one has to make a distinction between the type of corners.
    \end{remark}

\subsection{Cobordisms}

    \newdef{Cobordism}{\index{cobordism}\label{diff:cobordism}
        Two manifolds $X, Y$ are said to be \textbf{cobordant} if there exists a manifold with boundary $M$ such that $\partial M = X\sqcup Y$. The manifold $M$ is said to be a cobordism\footnote{Some authors use the terms \textit{bordism} and \textit{bordant} in this context.} between $X$ and $Y$.
    }
    \sremark{In the category of oriented manifolds one can also define a cobordism, but there the manifolds $X, Y$ should respect the orientation of $\partial M$.}

    \newdef{Cobordism group}{
        Under the operation of disjoint union the closed $n$-dimensional manifolds, modulo cobordisms, form a commutative group $\Omega_n$. Under Cartesian products these match together to form a commutative graded ring $\Omega=\bigoplus_{n=0}^\infty\Omega_n$.
    }

    ?? COMPLETE ??

\section{Morse theory}
\subsection{Morse functions}

    \newdef{Morse function}{\index{Morse!function}
        Let $M$ be a smooth manifold. A smooth function is called a Morse function if it has no degenerate critical points (see definition \ref{diff:nondegenerate_critical_point}).
    }
    \begin{property}
        The set of Morse functions is open and dense in the $C^2$-topology\footnote{See section \ref{section:jet_bundles} on jet spaces.}.
    \end{property}

    \newdef{Morse index}{\index{index}
        Consider a Morse function $f\in C^\infty(M)$. The number of negative eigenvalues at a critical point $p\in M$ is called the (Morse) index of $f$ at $p$. This is often denoted by $\lambda_p(f)$.

        To any Morse function one can associate a series called the \textbf{Morse counting-series}:
        \begin{gather}
            M_t(f) := \sum_{p\in\text{crit}(f)}t^{\lambda_p(f)}.
        \end{gather}
        If $M$ is compact, the nondegeneracy condition implies that the above sum only has a finite number of terms.
    }

    ?? COMPLETE ??

\section{\difficult{Surgery theory}}

    \newdef{Dehn twist}{\index{Dehn twist}
        Consider an orientable surface $M$ together with a simple closed curve $c$. A tubular neighbourhood\footnote{See definition \ref{diff:tubular_neighbourhood} for a formal definition.} $T$ of $c$ is homeomorphic to an annulus and hence allows a parametrization $(e^{i\alpha}, t)$ where $\alpha\in[0, 2\pi[$ and $t\in[0,1]$. A Dehn twist about $c$ is an automorphism which is given by $(e^{i\alpha}, t)\mapsto(e^{i(\alpha+2\pi t)}, t)$ on $T$ and restricts to the identity outside of it.
    }

    ?? COMPLETE ??
\chapter{Manifolds}

References for this chapter (and \autoref{part:diffgeom} in general) are \cite{AMP1, AMP2, kms, sen_nash, schuller}.

\section{Charts}

	\newdef{Chart}{\index{chart}\label{manifolds:chart}
    		Let $M$ be a set. Let $U$ be an open subset of $M$ and let $O$ be an open subset of $\mathbb{R}^n$. Let $\varphi:U\rightarrow O$ be a homeomorphism. The pair $(U, \varphi)$ is called a chart on $M$.
	}
	\newdef{Transition map}{
    		Let $(U_1, \varphi_1)$ and $(U_2, \varphi_2)$ be two charts in $\mathcal{A}$. The mapping $\varphi_1^{-1}\circ\varphi_2$ is called a transition map.
    		
    		If $\varphi_1^{-1}\circ\varphi_2$ is continuous then the charts are said to be $C^0$-compatible. However the composition of any two continuous functions is also continuous so it follows that every two charts on a topological manifold are $C^0$-compatible.
	}
	
	\newdef{Atlas}{\index{atlas}
		Let $M$ be a set. Let $\{(U_i, \varphi_i)\}_{i}$ be a set of (pairwise) $\diamond$-compatible charts (where $\diamond$ denotes any compatibility relation) such that $\bigcup_{i} U_i = M$. This set of charts is called a $\diamond$-atlas on $M$. From the remark on $C^0$-compatibility of charts in previous definition it is then obvious that every atlas is a $C^0$-atlas.
	}
	\newdef{Maximal Atlas}{
    		Let $\mathcal{A}_1$ and $\mathcal{A}_2$ be two atlasses covering the same set $M$. If $\mathcal{A}_1 \cup \mathcal{A}_2 = \mathcal{A}$ is again an atlas then the atlasses are said to be equivalent or compatible. The largest such union is called a maximal atlas.
	}
    
	\newdef{Manifold}{\index{manifold}\index{Hausdorff!space}
	    	A set $M$ equipped with a maximal $C^0$-atlas $\mathcal{A}$ is called a topological manifold. An alternative definition (often used in topology) is that of a locally Euclidean Hausdorff space. The topology on $M$ is given by the collection of open sets contained in the charts.
	}
	\begin{remark*}
		In the literature second-countability is often added to the definition of a topological manifold. This ensures that the space has (among others) the property of paracompactness and hence lends itself to the construction of partitions of unity (necessary for the introduction of integration theory).
	\end{remark*}
	
	For an alternative definition of manifolds in the context of \textit{diffeological spaces}, see definition \ref{manifolds:diffeo_manifold}.
	
	\newdef{$C^k$-manifold}{\index{smooth!manifold}
		\nomenclature[S_Man]{$\text{Man}^p$}{Category of $C^p$-manifolds.}
		\nomenclature[S_Diff]{$\text{Diff}$}{Category of smooth manifolds.}
		If all transition maps are $C^k$-diffeomorphisms then the manifold is called a $C^k$-manifold. A $C^\infty$-manifold is also called a \textbf{smooth manifold}.
	}
	
	\newdef{Structure sheaf}{\index{structure!sheaf}
		Let $M$ be a $C^k$-manifold. The structure sheaf $\mathcal{O}_M$ is defined as the sheaf that assigns to every open set $U\subseteq M$ the set of $C^k$-functions $f:U\rightarrow\mathbb{R}$.
		
		Generally we define for all $j\leq k$ the sheaf $\mathcal{O}^j_M$ as the sheaf that assigns to every open set $U\subseteq M$ the set of $C^j$-functions $f:U\rightarrow\mathbb{R}$.
	}
	
	\begin{theorem}[Whitney]
		Every $C^k$-atlas contains a $C^\infty$-atlas. Furthermore, if two $C^k$-atlasses contain the same $C^\infty$-atlas then they are identical. It follows that every differentiable manifold is automatically smooth.
	\end{theorem}
	
	\begin{theorem}[Rad\'o-Moise]\label{manifolds:rado_moise}
		In the dimensions $1, 2$ and 3 there exists for every topological manifold a unique smooth structure.
	\end{theorem}
	\begin{theorem}
		For dimensions higher than 4, there exist only finitely many distinct smooth structures.
	\end{theorem}
	\sremark{In $\dim M = 4$ there are only partial results. For non-compact manifolds there exist uncountably many distinct smooth structures. For compact manifolds there exists no complete characterization.}
    
	\newformula{Smooth\footnotemark function}{\index{smooth!function}\index{local!representation}
		\footnotetext{In this definition one can replace 'smooth' by '$C^k$-differentiable'.}
	    	Let $f:M\rightarrow N$ be a function between two smooth manifolds. $f$ is said to be smooth if there exist charts $(U, \varphi)$ and $(V, \psi)$ for $M$ and $N$ with $f(U)\subseteq V$ such that the function
	        \begin{equation}
	        	\label{diff:manifolds:local_representation}
	        	f_{\varphi\psi} = \psi\circ f \circ\varphi^{-1}
	        \end{equation}
	        is smooth on $\mathbb{R}^n$.
	}
	\sremark{The function $f_{\varphi\psi}$ in equation \ref{diff:manifolds:local_representation} is called the \textbf{local representation} of $f$.}
    
	\begin{notation}
	    	\nomenclature[S_Cinfty]{$C^\infty_p(M)$}{Ring of all smooth functions $f:M\rightarrow\mathbb{R}$ defined on a neighbourhood of $p\in M$.}
	    	The set of all $C^\infty$ functions on a manifold $M$ defined on a neighbourhood of $m\in M$ is denoted by $C^\infty_m(M)$. This set forms a commutative unital ring when equipped with the usual sum and product (composition) of functions.
	\end{notation}
	
	\newdef{Good cover\footnotemark}{\index{cover}\index{finite!type}
		\footnotetext{Sometimes called a \textbf{nice cover}.}
		Let $M$ be an $n$-dimensional manifold with an open cover $\mathcal{U} = \{U_i\}_{i\in I}$. The cover $\mathcal{U}$ is called a good cover if every non-empty finite intersection $U_{i_1}\cap...\cap U_{i_k}$ is diffeomorphic to $\mathbb{R}^n$. If $M$ admits a finite good cover then $M$ is said to be of \textbf{finite type}.
	}
	
	\begin{property}
		Every smooth manifold admits a good cover. Furthermore if the manifold is compact, then it admits a finite good cover.
	\end{property}

\section{Tangent vectors}\label{diff:section:tangent_space}

	\newdef{Tangent vector}{\index{tangent!vector}\index{derivation}\label{manifolds:derivation}
	    	Let $M$ be a smooth manifold and $p\in M$. Let $f, g:M\rightarrow\mathbb{R} \in C^\infty_p(M)$. A tangent vector on $M$ is a differential operator $v_p$ satisfying the following properties:
	        \begin{enumerate}
			\item Linearity: $v_p(af + g) = av_p(f) + v_p(g)$
			\item Leibniz property: $v_p(fg) = f(p)v_p(g) + g(p)v_p(f)$
	        \end{enumerate}
	        Maps with these properties are also called \textbf{derivations}\footnote{Generally, every operation that satisfies the Leibniz property is called a derivation.}.
	}
	\begin{property}
	    	For every constant function $c:p\mapsto c$ we have:
	    	\begin{equation}
	        	v_p(c) = 0
	        \end{equation}
	\end{property}
    
	\newdef{Tangent space}{\index{tangent!space}\index{basis}\label{diff:manifolds:tangent_vector_partial}
    		Following from the previous definition, we can construct a tangent (vector) space $T_pM$ in each point $p\in M$. The basis vectors are given by:
        	\begin{equation}
        		\boxed{\left.\ds\pderiv{}{q^i}\right|_{p}:C^\infty_p(M, \mathbb{R})\rightarrow\mathbb{R}:f\mapsto \pderiv{}{q^i}\left(f\circ\varphi^{-1}\right)(\varphi(p))}
        	\end{equation}
        	where $(U, \varphi)$ is a coordinate chart such that $p\in U$ and $(q^1, ..., q^n)$ are local coordinates.
	}
	\remark{Due to the explicit dependence of the tangent vectors on the point $p\in M$, it is clear that for curved manifolds the tangent spaces belonging to different points will not be the same.}
	\begin{property}
		From the above tangent space construction it follows that:
        	\begin{equation}
        		\boxed{\dim(T_p M) = \dim(M)}
        	\end{equation}
        	This also implies that the tangent spaces over two distinct points $p, q\in M$ are isomorphic.
	\end{property}
    
	\newdef{Curve}{\index{curve}
	   	A smooth function $\gamma:\mathbb{R}\rightarrow M$ with $\gamma(0) = m$ is called a smooth curve through $m\in M$.
	}
	\newadef{Tangent space}{\label{manifolds:alternative_definition}
	    	The alternative construction goes as follows. Let $(U, \varphi)$ be a chart for the point $p\in M$. Two smooth curves $\gamma_1, \gamma_2$ through $p\in M$ are said to be tangent at $p$ if:
	    	\begin{equation}
	    		\deriv{(\varphi\circ\gamma_1)}{t}(0) = \deriv{(\varphi\circ\gamma_2)}{t}(0)
	    	\end{equation}
	    	or equivalently, if their local representatives are tangent in 0. This relation imposes an equivalence relation\footnote{The relation is well-defined (under a change of chart) because the transition maps (and their Jacobian matrices) are invertible and thus non-singular.} on the set of smooth curves through $p$. One then defines\mnote{def} the tangent space at $p$ as the set of equivalence classes of tangent curves through $p$. Explicitly these equivalence classes are constructed as follows:
    	
		We can define the following tangent vector to the curve $c(t)$ through $p$ as:
	    	\begin{equation}
	    		\boxed{v_p(f) = \left.\deriv{(f\circ c)}{t}\right|_{t=0}}
	    	\end{equation}
	    	Applying the chain rule gives us
	    	\begin{equation}
	    		\label{diff:manifolds:tangent_vector_chain_rule}
	    		v_p(f) = \pderiv{(f\circ\varphi^{-1})}{q^i}(\varphi(p))\deriv{q^i}{t}(0)
		\end{equation}
		where $q^i = (\varphi\circ c)^i$. The first factor depends only on the point $p$ and the second factor is equal for all tangent curves through $p$. We thus see that tangent curves define the same tangent vector.
	}
    
	The proof that both definitions of the tangent space are in fact equivalent is given in the appendices.

\section{Submanifolds}
\subsection{Immersions and submersions}

	\newdef{Immersion}{\index{immersion}
		Let $f:M\rightarrow N$ be a differentiable function between smooth manifolds. $f$ is called an immersion if its derivative\footnote{This is formally defined in \ref{diff:manifolds:T_function}. For now it is the map represented by the Jacobian matrix.} is everywhere injective, or equivalently if its derivative has maximal rank\footnotemark\ everywhere:
		\footnotetext{See definition \ref{manifolds:rank}.}
		\begin{equation}
			\text{rk}_p(f) = \dim(M), \forall p\in M
		\end{equation}
	}
	
	\newdef{Critical point}{\index{critical!point}
		A point $m\in\dom(f)$ is said to be critical if $T_mf$ is not surjective. The image of a critical point is called a critical value.
	}
	\newdef{Non-degenerate critical point}{
		A critical point $p\in M$ of a function $f$ is said to be non-degenerate if the Hessian of $f$ is non-singular at $p$.
	}
	\begin{property}\label{manifolds:critical_point}
		A point $m\in\dom(f)$ is critical if and only if there exists a chart $U\ni m$ for which $\pderiv{f}{x^i}(m) = 0$.
	\end{property}
	\begin{theorem}[Sard]\index{Sard!theorem on critical sets}
		Consider a map $\psi:M\rightarrow N$, where $\dim M=m$ and $\dim N=n$. Set $k_0 = \max\{1, m-n+1\}$. If $\psi$ is of class $C^k$ with $k\geq k_0$ then the set of critical values of $\psi$ has Lebesgue measure 0.
	\end{theorem}
	
	\newdef{Regular point}{
		A regular point of $f$ is a point $x\in M$ such that $T_xf$ is surjective.
	}	
	\newdef{Regular value}{\index{regular!value}
		Let $f:M\rightarrow N$ be a differentiable map between smooth manifolds. A point $y\in N$ is called a \textbf{regular value} if every point in the preimage $f^{-1}(y)$ is a regular point or equivalently if it is not a critical value.
	}
	
	\begin{result}\label{manifolds:regular_point}
		It follows from property \ref{manifolds:critical_point} that a point $m\in\dom(f)$ is regular if and only if $\pderiv{f}{x^i}(m)\neq0$ in all charts $U\ni m$.
	\end{result}
	
	\newdef{Submersion}{\index{submersion}\label{manifolds:submersion}
		Let $f:M\rightarrow N$ be a differentiable map between smooth manifolds.  A map $f$ is called a submersion if all $x\in M$ are regular, or equivalently if
		\begin{equation}
			\text{rk}_p(f) = \dim(N), \forall p\in M
		\end{equation}
	}
	
	\newdef{Embedding}{\index{embedding}
		A differentiable function between smooth manifolds is called a smooth embedding if its both an immersion and an embedding in the topological sense \ref{topology:embedding}. This implies that the submanifold topology coincides with the subspace topology \ref{topology:relative_topology}.
	}

\subsection{Submanifolds}

	\newdef{Submanifold}{\index{sub!manifold}
		Let $M$ be a manifold. A subset $N\subset M$ is called a submanifold of $M$ if $N$, equipped with the subspace topology, is a topological manifold on its own.
	}

	\newdef{Immersive submanifold}{
		Let $M, N$ be smooth manifolds with $N\subset M$. $N$ is said to be an immersive submanifold of $M$ if the inclusion $i:N\hookrightarrow M$ is an immersion.
	}

	\begin{theorem}[Submersion theorem\footnotemark]\index{submersion!theorem}
		\footnotetext{Also called the \textbf{regular value theorem}.}
		Consider a smooth map $f:M_1\rightarrow M_2$ between smooth manifolds. Let $y\in M_2$ be a regular value. Then $N=f^{-1}(y)$ is a submanifold of $M_1$ with codimension $\dim(M_2)$.
	\end{theorem}

	\newdef{Embedded submanifold}{
		Let $M$ be a manifold. A subset $N$ is an embedded\footnotemark\ or \textbf{regular submanifold} if the inclusion map $f:M\hookrightarrow N$ is a smooth embedding. \footnotetext{An immersed submanifold is defined analogously. The requirement of the inclusion map being a smooth embedding is relaxed to it being an (injective) immersion. However the submanifold topology will no longer coincide with the subspace topology.}
	}
	
	\newdef{Slice}{\index{slice}
		Let $m<n$ be two positive integers. The space $\mathbb{R}^m$ can be viewed as a subspace of $\mathbb{R}^n$ by identifying them in the following way:
		\begin{equation}
			\mathbb{R}^m\cong\mathbb{R}^m\times\{\underbrace{0, ..., 0}_{n-m}\}\overset{\iota}{\hookrightarrow}\mathbb{R}^m\times\mathbb{R}^{n-m}\cong\mathbb{R}^n
		\end{equation}
		where $\iota:(x_1, ..., x_m)\mapsto(x_1, ..., x_m, \underbrace{0, ..., 0}_{n-m})$ is the canonical inclusion map.
	}
	\begin{adefinition}
		A $k$-dimensional embedded manifold $N$ of $M$ can be defined equivalently as a subset of $M$ such that there exists a positive integer $k$ and such that for every point $p\in N$ there exists a chart $(U, \varphi)$ that satisfies
		\begin{equation}
			\varphi(U\cap N) = \varphi(U) \cap (\mathbb{R}^k\times\{\underbrace{0, ..., 0}_{\text{dim}(M)-k}\})
		\end{equation}
		The set $U\cap N$ is called a slice of $(U, \varphi)$ in analogy with the previous definition of a (standard) slice.
	\end{adefinition}
	
	\newdef{Closed embedded manifold}{
		Let $N$ be an immersed submanifold of $M$. If the inclusion map $i:N\hookrightarrow M$ is closed, then $N$ is a (closed) embedded manifold.
	}
	
	\newdef{Transversal intersection}{\index{transversality}
		Consider a smooth manifold $M$. Two submanifolds $X, Y$ are said to be transversal (or intersect transversally) if at each intersection point $p$ the following relation holds:
		\begin{equation}
			T_pX + T_pY = T_pM
		\end{equation}
		If the dimensions of $X$ and $Y$ are complementary (in $M$) then the sum becomes a direct sum. If two submanifolds do not intersect at all then they are vacuously transversal (independent of their dimension).
	}
	\begin{property}
		The codimension of the transversal intersection of two submanifolds is equal to the sum of the codimensions of the intersecting submanifolds. It follows that if the submanifolds have complentary dimensions the intersection consists of isolated points.
	\end{property}

\section{Morse theory and ODE's}
\subsection{Morse functions}

	\newdef{Morse function}{\index{Morse!function}
		Let $M$ be a smooth manifold. A smooth function $f\in C^\infty(M)$ is called a Morse function if it has no degenerate critical point.
	}
	\begin{property}
		The set of Morse functions is open and dense in the $C^2$-topology\footnote{See section \ref{section:jet_bundles} on jet spaces.}.
	\end{property}
	
\subsection{First order linear ODE's}

	In this subsection we will consider ODE's of the form
	\begin{equation}
		y'(x) = A(x)y(x)
	\end{equation}
	where $A(x)$ is a matrix, possibly depending on $x$.
	
	\begin{formula}[Liouville]\index{Liouville!formula for ODE's}
		Consider the solution matrix $\Phi$(x), i.e. the matrix in which every row represents a solution of the ODE.
	\end{formula}

\section{Manifolds with boundary}

	\newdef{Manifold with boundary}{\index{boundary}\index{interior}
		Let $\mathbb{H}^n$ denote the upper half space, i.e.:
		\begin{equation}
			\label{manifolds:upper_half_space}
			\mathbb{H}^n\cong\mathbb{R}^{n-1}\times\mathbb{R}^+= \{(x_1, ..., x_n)|x_n \geq 0\}\subset\mathbb{R}^n
		\end{equation}
		An $n$-dimensional manifold with boundary is then given by a set $M$ together with a maximal atlas consisting of (regular) charts $(U, \varphi)$ such that $U$ is diffeomorphic to $\mathbb{R}^n$, these points are called \textbf{interior points}, and (boundary) charts $(V, \phi)$ such that $V$ is diffeomorphic to $\mathbb{H}^n$, these points are called \textbf{boundary points}.
	}
	\begin{remark}[Manifold boundary]
		The boundary $\partial M$, consisting of all boundary points of $M$ as defined in the above definition, should not be confused with the topological boundary of $M$. In general these are different sets. Similarly, the interior $\text{Int}(M) = M \backslash\partial M$, in the sense of manifolds, should not be confused with the topological interior.
	\end{remark}
	
	\begin{property}
		Let $M$ be an $n$-dimensional manifold with boundary. Let $(U, \varphi)$ be a chart for $p\in\partial M$. Then
		\begin{equation}
			\varphi(p) \in \partial\mathbb{H}^n = \{(x_1, ..., x_n)|x_n=0\}
		\end{equation}
	\end{property}
	
	\newdef{Manifold with corners}{
		Analogous to the definition of a manifold with boundaries one can define a manifold wih corners using \textit{corner charts} of the form \[\varphi:U\rightarrow\mathbb{R}^k\times(\mathbb{R}^+)^l\] In contrast to the case of manifolds with boundary one does need to add an extra requirement when working with higher order corners: For every two charts $(U, \varphi)$ and $(V, \psi)$ the transition function should preserve the corners: \[\varphi\circ\psi^{-1}(V\cap \{0\}\times\mathbb{R}^k \subset \{0\}\times\mathbb{R}^k\]
	}
	\begin{remark}
		In the topological setting every manifold with corners (ven higher order ones) is homeomorphic to a manifold with boundary. However when working with smooth structures this result fails, there exists no diffeomorphism.
	\end{remark}
	
\subsection{Cobordisms}

	\newdef{Cobordism}{\index{cobordism}
		Two manifolds $X, Y$ are said to be \textbf{cobordant} if there exists a manifold with boundary $M$ such that $\partial M = X\sqcup Y$. The manifold $M$ is said to be a cobordism\footnote{Some authors use the terms \textit{bordism} and \textit{bordant} in this context.} between $X$ and $Y$.
	}
	\sremark{In the category of oriented manifolds one can also define a cobordism, but there the manifolds $X, Y$ should respect the orientation of $\partial M$.}
	
\section{Diffeological spaces}

	\newdef{Diffeological space}{\index{diffeological space}\index{plot}\label{topology:diffeological_space}
		Let $X$ be a set. A diffeology $\mathcal{D}$ on $X$ is defined as a collection of maps $f:U\subseteq\mathbb{R}^n\rightarrow X$, called \textbf{plots}, satisfying the following conditions:
		\begin{itemize}
			\item If $f$ is constant then $f\in\mathcal{D}$.
			\item If every point in $\dom(f)$ has a neighbourhood $V$ on which $f|_V\in\mathcal{D}$ then $f\in\mathcal{D}$.
			\item If $g\in\mathcal{D}$ and $h:W\subseteq\mathbb{R}^m\rightarrow\dom(g)$ is smooth then $g\circ h\in\mathcal{D}$.
		\end{itemize}
		where $U, V$ and $W$ are open. The set $X$ can be turned into a topological space by equipping it with the \textbf{D-topology}, i.e. the final topology with respect to $\mathcal{D}$.
	}
	\remark{The domain of different plots can be subsets of different Euclidean spaces $\mathbb{R}^m$ and $\mathbb{R}^n$.}
	\newdef{Differentiable map}{\index{differentiable}
		Let $(X, \mathcal{D})$ and $(Y, \mathcal{D}')$ be diffeological spaces. A map $g:X\rightarrow Y$ is said to be differentiable if for every $f\in\mathcal{D}$ the composition $g\circ f\in\mathcal{D}'$.
		
		The diffeological spaces together with their differentiable morphisms form a category DiffeologicalSp.
	}
	
	\begin{adefinition}\index{manifold}\label{manifolds:diffeo_manifold}
		Let $M$ be a diffeological space\footnote{See definition \ref{topology:diffeological_space}.}. $M$ is an $n$-manifold if it is locally diffeomorphic to $\mathbb{R}^n$.
	\end{adefinition}

\section{Path groupoid}

	\newdef{Thin homotopy}{\index{homotopy!thin}
		Let $M$ be a smooth manifold. A homotopy $H:[0, 1]^2\rightarrow M$ is called thin if it is smooth and if it pulls back\footnote{See section \ref{manifolds:section:forms}.} every two-form to 0:
		\begin{equation}
			\forall \omega\in\Omega^2(M): H^*\omega = 0
		\end{equation}
	}
	\newdef{Lazy path\footnotemark}{\index{path!lazy}\index{sitting instants}
		\footnotetext{Also called a path with \textbf{sitting instants}.}
		Let $M$ be a smooth manifold. A path $f:[0, 1]\rightarrow M$ is said to be lazy if it is locally constant on a neighbourhood of $0$ and $1$.
	}
	
	\newdef{Path groupoid}{\index{groupoid!path}
		Let $M$ be a smooth manifold. The path groupoid $P_1(M)$ is the groupoid which has the points of $M$ as objects and the thin homotopy classes of lazy paths on $M$ with fixed endpoints as morphisms.
	}
	\sremark{The restriction to lazy paths is required to ensure the smoothness of composite paths. The quotient by thin homotopies is required to ensure the validity of the associativity and invertibility properties.}

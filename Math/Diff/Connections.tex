\section{Connections}\label{section:connections}
\subsection{Vertical vectors}

    Because smooth fibre bundles are also smooth manifolds, one can define the traditional notions such as the tangent bundle. Due to the composite nature of these geometric objects, one can decompose the tangent bundle in horizontal and vertical (sub)bundles:
    \newdef{Vertical vector}{\index{bundle!vertical}
        Let $\bundle$ be a smooth fibre bundle. The subbundle $\mathrm{Vert}(TE):=\ker(\pi_\ast)$ of $TE$ is called the vertical (sub)bundle over $E$. The sections of this bundle are called vertical vector fields.
    }
    For principal $G$-bundles an alternative definition exists:
    \begin{adefinition}
        Consider a smooth principal $G$-bundle $\prb$. First, construct a map $\iota_p$ for every element $p\in P$:
        \begin{gather}
            \iota_p:G\rightarrow P:g\mapsto p\cdot g.
        \end{gather}
        Then, define a tangent vector $v\in T_p P$ to be vertical if it lies in the image of $\iota_{p,\ast}$, i.e.~$\mathrm{Vert}(T_pP) := \im(\iota_{p,\ast})$. This definition is equivalent to the previous one because of the short exact sequence
        \begin{gather}
            \label{bundle:principal_bundle_exact_sequence}
            0\longrightarrow\mathfrak{g}\overset{\iota_{p,\ast}}{\longrightarrow}T_pP\overset{\pi_\ast}{\longrightarrow}T_pM\longrightarrow0.
        \end{gather}
    \end{adefinition}

    \begin{property}[Dimension of vertical bundle]\label{bundle:vertical_dimension}
        It follows from the second definition that the vertical vectors of a principal $G$-bundle are nothing but the pushforward of the Lie algebra $\mathfrak{g}$ under the right action of $G$ on $P$. Furthermore, the exactness of the sequence implies that $\iota_{p,\ast}:\mathfrak{g}\rightarrow\mathrm{Vert}(T_pP)$ is an isomorphism of vector spaces. In particular, it implies that
        \begin{gather}
            \dim(\mathrm{Vert}(T_pP)) = \dim(\mathfrak{g}) = \dim(G).
        \end{gather}
    \end{property}

    \newdef{Fundamental vector field}{\index{vector field!fundamental}\label{bundle:fundamental_vector_field}
        Let $P$ be a principal $G$-bundle and consider $A\in\mathfrak{g}$, where $\mathfrak{g}$ is the Lie algebra corresponding to $G$. The vertical vector field $A^\#:P\rightarrow TP$, given by
        \begin{gather}
            A^\#(p) := \iota_{p,\ast}(A)\in\mathrm{Vert}(T_pP)\,,
        \end{gather}
        is called the fundamental vector field associated to $A$. The action of the vector field $A^\#$ is given by
        \begin{gather}
            A^\#_p(f) = \left.\deriv{}{t}f(p\cdot\exp(tA))\right|_{t=0}\,,
        \end{gather}
        where $f\in C^\infty(P)$.
    }

    \begin{property}
        The map $(\cdot)^\#:\mathfrak{g}\rightarrow\Gamma(TP)$ is a Lie algebra morphism:
        \begin{gather}
            [A,B]^\# = [A^\#,B^\#]\,,
        \end{gather}
        where the Lie bracket on the left is the one in $\mathfrak{g}$ and the Lie bracket on the right is the one in $\mathfrak{X}(M)$ given by \eqref{bundle:lie_bracket}.
    \end{property}

    \begin{property}
        The vertical bundle satisfies the following equivariance condition:
        \begin{gather}
            \label{bundle:vert_g_equivariance}
            R_{g,\ast}(\mathrm{Vert}(T_pP)) = \mathrm{Vert}(T_{p\cdot g}P).
        \end{gather}
        By differentiating the equality \[R_g\circ\iota_p = \iota_{p\cdot g}\circ\mathrm{ad}_{g^{-1}}\] and using Example \ref{lie:adjoint_representation} and Definition \ref{bundle:fundamental_vector_field}, one can obtain the following algebraic reformulation:
        \begin{gather}
            R_{g,\ast}\left(A^\#(p)\right) = \left(\mathrm{Ad}_{g^{-1}}A\right)^\#(p\cdot g).
        \end{gather}
    \end{property}

\subsection{Ehresmann connections}

    The exact sequence \eqref{bundle:principal_bundle_exact_sequence} does not split canonically. However, one can make a choice of splitting:
    \newdef{Ehresmann connection}{\index{connection!Ehresmann}\index{horizontal!vector}\label{bundle:connection}
        Consider a smooth fibre bundle $E$. An (Ehresmann) connection on $E$ is the selection of a subspace $\mathrm{Hor}(T_eE)\leq T_eE$ for every $e\in E$ such that:
        \begin{enumerate}
            \item The horizontal and vertical bundles are complementary: $\mathrm{Vert}(T_eE)\oplus\mathrm{Hor}(T_eE) = T_eE$.
            \item The choice of subspace depends smoothly on $e\in E$ in the sense of distributions \ref{bundle:distribution}.
        \end{enumerate}
        The vectors in $\mathrm{Hor}(T_eE)$ are said to be \textbf{horizontal} (with respect to the chosen connection).
    }
    \newdef{Horizontal bundle}{\index{horizontal}
        The horizontal (sub)bundle $\mathrm{Hor}(TE)$ is defined as $\bigsqcup_{e\in E}\mathrm{Hor}(T_eE)$ with the bundle structure induced from $TE$.
    }

    \newdef{Principal connection}{\index{connection!principal}\label{bundle:principal_connection}
        A principal connection on a smooth principal $G$-bundle $P$ is a $G$-equivariant Ehresmann connection, i.e.~an Ehresmann connection for which the horizontal subspaces satisfy the following $G$-equivariance condition:
        \begin{gather}
            R_{g,\ast}(\mathrm{Hor}(T_pP)) = \mathrm{Hor}(T_{p\cdot g}P).
        \end{gather}
    }
    \begin{remark}
        Note that this condition was automatically satisfied for vertical bundles as in Equation \eqref{bundle:vert_g_equivariance}.
    \end{remark}

    \begin{property}[Dimension]\label{bundle:connection_dimensions}
        Properties \ref{bundle:principal_bundle_dimension} and \ref{bundle:vertical_dimension}, together with the direct sum decomposition of $TP$, imply the following relation for all $p\in P$:
        \begin{gather}
            \dim(\mathrm{Hor}(T_pP)) = \dim(M).
        \end{gather}
        All dimensional relations between the data of a principal bundle $\prb$ are now summarized:
        \begin{align}
            \dim(P) &= \dim(M) + \dim(G)\nonumber\\
            \dim(M) &= \dim(\mathrm{Hor}(T_pP))\\
            \dim(G) &= \dim(\mathrm{Vert}(T_pP))\nonumber
        \end{align}
        for all $p\in P$.
    \end{property}

    \newdef{Dual connection}{\index{dual!connection}
        First, define the dual of the horizontal bundle:
        \begin{gather}
            \mathrm{Hor}(T_p^*P) := \big\{h\in T_p^*P\mid h(v)=0, v\in\mathrm{Vert}(T_pP)\big\}.
        \end{gather}
        It is the space of one-forms that vanish on the vertical subspace. A dual connection can then be defined as the selection of a vertical covector bundle $\mathrm{Vert}(T_p^*P)$ satisfying the conditions of Definitions \ref{bundle:connection} and \ref{bundle:principal_connection}, where $\mathrm{Vert}$ and $\mathrm{Hor}$ should now be interchanged. Note that here the horizontal bundle is canonically defined.
    }

    \newdef{Horizontal and vertical forms}{\index{horizontal!form}\index{vertical!form}\label{bundle:horizontal_form}
        Let $\theta\in\Omega^k(P)$ be a differential $k$-form.
        \begin{itemize}
            \item $\theta$ is said to be horizontal if
            \begin{gather}
                \theta(v_1,\ldots,v_k) = 0
            \end{gather}
            whenever at least one of the $v_i$ is in $\mathrm{Vert}(T_pP)$.
            \item $\theta$ is said to be vertical if
            \begin{gather}
                \theta(v_1,\ldots,v_k) = 0
            \end{gather}
            whenever at least one of the $v_i$ is in $\mathrm{Hor}(T_pP)$.
        \end{itemize}
        For functions $f\in\Omega^0(P)$ it is vacuously true that they are both vertical and horizontal.
    }
    \newdef{Tensorial form}{\index{tensorial}\index{basic}\label{bundle:tensorial_form}
        Consider a differential form $\theta$ on a principal $G$-bundle $P$ with values in a vector space $V$ equipped with a representation $\rho:G\rightarrow V$. This form is said to be tensorial or \textbf{basic of type $(V,\rho)$} if it is horizontal and if it satisfies the equivariance condition
        \begin{gather}
            R_g^*\theta = \rho(g^{-1})\theta.
        \end{gather}
        An equivalent construction exists. Let $E:=P\times_\rho V$ be the associated vector bundle of $(V,\rho)$. Tensorial $k$-forms of type $(V,\rho)$ are naturally isomorphic to $E$-valued $k$-forms. The isomorphism is given fibrewise by
        \begin{gather}
            \phi\mapsto\overline{\phi}:=f^{-1}(\pi^*\phi)\,,
        \end{gather}
        where $f:V\rightarrow E_{\pi(u)}\cong(\pi^*E)_u:v\mapsto[u,v]$.
    }

\subsection{Connection forms}

    \newdef{Connection one-form}{\index{connection!form}
        Let $P$ be a principal bundle $G$-bundle. A connection one-form, associated to a given principal connection, is a $\mathfrak{g}$-valued one-form $\omega\in\Omega^1(P;\mathfrak{g})$ that satisfies the following two conditions:
        \begin{enumerate}
            \item\textbf{Cancellation of fundamental vector fields}:
            \begin{gather}
                \omega(A^\#) = A
            \end{gather}
            for all $A\in\mathfrak{g}$.
            \item\textbf{Equivariance}:
            \begin{gather}
                \omega\circ R_{g,\ast} = \mathrm{Ad}_{g^{-1}}\circ\omega
            \end{gather}
            for all $g\in G$.
        \end{enumerate}
        The horizontal subspaces are recovered as the kernel of the connection one-form: $\mathrm{Hor}(T_pP) = \ker\omega|_p$.
    }
    \begin{property}[Connection form from principal connection]
        Consider a principal $G$-bundle $P$. Given a principal connection on $P$, the associated connection one-form is given by the following map:
        \begin{gather}
            \omega := (\iota_{p,\ast})^{-1}\circ\pr_\mathrm{Vert}\,,
        \end{gather}
        where $\pr_\mathrm{Vert}$ is the canonical projection $TP\rightarrow\mathrm{Vert}(TP)$.
    \end{property}

    \begin{property}[Pullback connection]\index{connection!pullback}
        Consider two principal $G$-bundles $P_1,P_2$. Let $\omega$ be a connection one-form on $P_1$ and let $F:P_1\rightarrow P_2$ be a bundle map. The pullback $F^*\omega$ defines a principal connection on $P_2$ called the pullback connection.
    \end{property}

\subsection{Maurer-Cartan form}

    \newdef{Maurer-Cartan form}{\index{Maurer-Cartan!form}\index{Cartan!(connection) form|see{Maurer-Cartan}}
        For every $g\in G$ the tangent space $T_gG$ is isomorphic to $T_eG\equiv\mathfrak{g}$. A canonical isomorphism $T_gG\rightarrow\mathfrak{g}$ is given by the Maurer-Cartan form
        \begin{gather}
            \Omega := L_{g^{-1},\ast}.
        \end{gather}
    }
    \begin{construct}
        Consider the one-point manifold $M=\{\ast\}$. When constructing a principal $G$-bundle over $M$, one can see that the total space $P=\{\ast\}\times G$ can be identified with the structure group $G$. From the relations in Property \ref{bundle:connection_dimensions} it follows that the horizontal spaces are null-spaces (this trivially defines a smooth distribution and a connection in the sense of Ehresmann \ref{bundle:connection}) and that the vertical spaces are equal to the tangent spaces, i.e.~$\mathrm{Vert}(T_gG)=T_gG$, where the identification $P\cong G$ (as manifolds) is used.

        The simplest way to define a connection form $\omega$ on this bundle would be the trivial projection $\mathbbm{1}_{TP}:TP\rightarrow TP=\mathrm{Vert}(TP)$. However, the image of this map would be $T_gG$ and not $\mathfrak{g}$ as required. This can be solved by using the Maurer-Cartan form:
        \begin{gather}
            \omega(v) := \Omega(v).
        \end{gather}
    \end{construct}
    \begin{property}
        The Maurer-Cartan form is the unique principal connection on the bundle $G\hookrightarrow G\rightarrow\{\ast\}$.
    \end{property}

    \newdef{Darboux derivative}{\index{Darboux!derivative}\index{integral}\index{primitive}
        Consider a smooth function $f:M\rightarrow G$ between a manifold and a Lie group. The Darboux derivative of $f$ is defined as follows:
        \begin{gather}
            \omega_f := f^*\Omega.
        \end{gather}
        The function $f$ is called an \textbf{integral} or \textbf{primitive} of $\omega_f$.
    }
    \begin{property}
        Let $M$ be a connected manifold. If two functions $f,f':M\rightarrow G$ have the same Darboux derivative, there exists an element $g\in G$ such that $f(p)=g\cdot f'(p)$ for all $p\in M$.
    \end{property}

    \begin{theorem}[Fundamental theorem of calculus]\index{fundamental theorem!of calculus}\index{Maurer-Cartan!equation}\label{bundle:mc_equation}
        Consider a smooth manifold $M$ and a Lie group $G$ with Lie algebra $\mathfrak{g}$. If $\omega:TM\rightarrow\mathfrak{g}$ satisfies the Maurer-Cartan equation
        \begin{gather}
            \dr\omega + \frac{1}{2}[\omega\wedge\omega] = 0\,,
        \end{gather}
        then (locally) there exists a smooth function $f:M\rightarrow G$ such that $\omega=f^*\Omega$.
    \end{theorem}

\subsection{Local representations}

    \newdef{Yang-Mills field}{\index{Yang-Mills!field}\label{bundle:yang_mills_field}
        Consider a principal $G$-bundle $P\rightarrow M$ and an open subset $U\subseteq M$. Given a principal connection $\omega$ on $P$ and a local section $\sigma:U\rightarrow P$, the Yang-Mills field $\omega^U\in\Omega^1(U; \mathfrak{g})$ is defined as follows:
        \begin{gather}
            \omega^U := \sigma^*\omega.
        \end{gather}
    }
    \newdef{Local representation}{
        Consider a principal bundle $P\rightarrow M$ and let $(U,\varphi)$ be a bundle chart on $P$. The local representation of a principal connection $\omega$ on $P$ with respect to the chart $(U,\varphi)$ is defined as $(\varphi^{-1})^*\omega$.
    }

    \begin{formula}
        Consider a principal connection $\omega$ on a principal $G$-bundle $P\rightarrow M$. Because of Property \ref{bundle:prin_section_triv} every local section $\sigma:U\rightarrow P$ induces both a Yang-Mills field $\omega^U$ and a local representation of $\omega$. These two forms are related by the following equation:
        \begin{gather}
            \sigma^*\omega|_{(m,g)}(v,A) = \mathrm{Ad}_{g^{-1}}\big(\omega^U_m(v)\big) + \Omega_g(A)\,,
        \end{gather}
        where $v\in T_mU$, $A\in\mathfrak{g}$ and $\Omega$ is the Maurer-Cartan form on $G$.
    \end{formula}

    \begin{formula}[Compatibility condition]\label{bundle:compatibility_connection}
        Consider a principal bundle $\prb$ and two open subsets $U,V$ of $M$. Given two local sections $\sigma_U:U\rightarrow P$, $\sigma_V:V\rightarrow P$ and a principal connection $\omega$ on $P$, one can define two Yang-Mills field $\omega^U$ and $\omega^V$.

        On the intersection $U\cap V\subset M$ there exists a (unique) gauge transformation $\xi:U\cap V\rightarrow G$ such that $\sigma_V(m) = \sigma_U(m)\cdot\xi(m)$. Using this gauge transformation one can relate $\omega^U$ and $\omega^V$ as follows:
        \begin{gather}
            \label{bundle:local_compatibility}
            \omega^V = \mathrm{Ad}_{\xi^{-1}}\omega^U + \xi^*\Omega\,,
        \end{gather}
        where $\Omega$ is the Maurer-Cartan form on $G$. This formula holds more generally to (locally) relate the connection one-forms $\omega$ and $\xi^*\omega$ for any gauge transformation $\xi\in\Aut_V(P)$.
    \end{formula}

    \begin{example}[General linear group]
        Let $G=GL(n,\mathbb{R})$. The second term in Equation \eqref{bundle:local_compatibility} can be written as follows:\footnote{A derivation can be found in Lecture 22 of \cite{schuller}.}
        \begin{gather}
            (\xi^*\Omega)^i_{\ j} = (\xi(m)^{-1})^i_{\ k}\pderiv{}{x^\mu}\xi(p)^k_{\ j}\drx^\mu
        \end{gather}
        at every point $m\in M$. Formally, this can be written coordinate-independently as
        \begin{gather}
            \label{bundle:mc_pullback}
            \xi^*\Omega = \xi^{-1}\dr\xi.
        \end{gather}
    \end{example}

    \begin{example}[Christoffel symbols]\index{Christoffel symbols}
        Let $\Gamma^i_{\ j\mu},\overline{\Gamma}^k_{\ l\nu}$ be the Yang-Mills fields corresponding to a connection on the frame bundle of some manifold $M$, where the sections are induced by a choice of coordinates ($x^i$ and $y^i$, respectively). In this case, the expansion coefficients of the Yang-Mills field are called the \textbf{Christoffel symbols} (compare this to Definition \ref{bundle:christoffel_symbol}). Using Equations \eqref{bundle:local_compatibility} and \eqref{bundle:mc_pullback} this becomes:
        \begin{gather}
            \overline{\Gamma}^i_{\ j\mu} = \pderiv{y^\nu}{x^\mu}\left(\pderiv{x^i}{y^k}\Gamma^k_{\ l\nu}\pderiv{y^l}{x^j} + \pderiv{x^i}{y^k}\frac{\partial^2y^k}{\partial x^j\partial x^\nu}\right).
        \end{gather}
    \end{example}

\subsection{Parallel transport}

    \begin{definition}[Horizontal lift]\index{horizontal!lift}
        Consider a principal bundle $\prb$ and a curve $\gamma:[0,1]\rightarrow M$. Given an Ehresmann connection $\mathrm{Hor}$, for every point $p_0\in\pi^{-1}(\gamma(0))$ there exists a unique curve $\widetilde{\gamma}_{p_0}:[0,1]\rightarrow P$ satisfying the following conditions:
        \begin{enumerate}
            \item $\widetilde{\gamma}_{p_0}(0) = p_0$,
            \item $\pi\circ\widetilde{\gamma}_{p_0} = \gamma$, and
            \item $\widetilde{\gamma}_{p_0}'(t)\in\mathrm{Hor}(T_{\widetilde{\gamma}_{p_0}(t)}P)$ for all $t\in[0,1]$.
        \end{enumerate}
        The curve $\widetilde{\gamma}_{p_0}$ is called the \textbf{horizontal lift} of $\gamma$ starting at $p_0$. When it is clear from the context what the basepoint $p_0$ is, the subscript is often omitted and one writes $\widetilde{\gamma}$ instead of $\widetilde{\gamma}_{p_0}$.
    \end{definition}
    \begin{remark}[Horizontal curve]\index{horizontal!curve}
        Curves satisfying the last condition in the above property are said to be horizontal.
    \end{remark}

    \begin{method}
        Consider a principal bundle $\prb$. Let $\gamma$ be a curve in $M$ and let $\omega$ be a principal connection one-form on $P$. For general structure groups $G$, the horizontal lift can be found as follows. Let $\delta$ be a curve in $P$ that projects onto $\gamma$, i.e.~$\pi\circ\delta=\gamma$, such that $\widetilde\gamma_{p_0}(t)=\delta(t)\cdot g(t)$ for some curve $g$ in $G$. The latter curve $g$ can be found as the unique solution of the following first-order ODE:
        \begin{gather}
            \label{bundle:horizontal_ode}
            \mathrm{Ad}_{g(t)^{-1}}\omega_{\delta(t)}(X_{\delta,\delta(t)}) + \Omega_{g(t)}(Y_{g,g(t)}) = 0\,,
        \end{gather}
        where $X_\delta,Y_g$ are tangent vectors to the curves $\delta$ and $g$ respectively and where $\Omega$ is the Maurer-Cartan form on $G$. The solution is uniquely determined through the initial value condition $\delta(0)\cdot g(0) = p_0$.
    \end{method}
    \begin{remark}
        When given a local section $\sigma:U\rightarrow P$, one can rewrite the above ODE in a more explicit form. First, remark that the section induces a curve $\delta = \sigma\circ\gamma$. Taking the derivative then yields $X_\delta = \sigma_*(X_\gamma)$. Using this one can rewrite the ODE as
        \begin{gather}
            \mathrm{Ad}_{g(t)^{-1}}\omega_{\delta(t)}(\sigma_*X_{\gamma,\gamma(t)}) + \Omega_{g(t)}(Y_{g,g(t)}) = 0.
        \end{gather}
        After using the equality $f^*\omega = \omega\circ f_*$ and introducing the Yang-Mills field $A = \sigma^*\omega$, this becomes
        \begin{gather}
            \mathrm{Ad}_{g(t)^{-1}}A(X_{\gamma,\gamma(t)}) + \Omega_{g(t)}(Y_{g,g(t)}) = 0.
        \end{gather}
    \end{remark}

    \begin{example}
         For matrix Lie groups this ODE can be reformulated as follows. Given the trivial section $s:U\rightarrow U\times G:x\mapsto(x,e)$, where $U$ is an open subset of $M$, the horizontal lift of $\gamma$ can locally be parametrized as \[\widetilde{\gamma}(t) = \underbrace{(s\circ\gamma)(t)}_{\delta(t)}\cdot g(t) = (\gamma(t),g(t))\,,\] where $g$ is a curve in $G$. To determine $\widetilde{\gamma}$ it is thus sufficient to find $g$. The ODE \eqref{bundle:horizontal_ode} then becomes
        \begin{gather}
            \label{bundle:horizontal_ode_matrix}
            g'(t) = -\omega(\gamma(t),e,\gamma'(t),0)g(t).
        \end{gather}
        Using the trivial section $s$ one can further rewrite this formula. First, consider the action of the Yang-Mills field $s^*\omega$ on the derivative $\gamma_* = (\gamma(t),\gamma'(t))$. Using the fact that it is linear in the second argument, it can be rewritten as \[s^*\omega(\gamma(t),\gamma'(t)) = A(\gamma(t))\gamma'(t)\,,\] where $A:M\rightarrow\hom(\mathbb{R}^{\dim(M)},\mathfrak{g})$ gives a linear map for each point $\gamma(t)\in M$. The action can also be rewritten using the relation $f^*\omega=\omega\circ f_\ast$ as \[s^*\omega(\gamma(t),\gamma'(t)) = \omega\big(s_\ast(\gamma(t),\gamma'(t))\big) = \omega(\gamma(t),e,\gamma'(t),0).\] Combining these relations with the ODE \eqref{bundle:horizontal_ode_matrix} gives
        \begin{gather}
            \label{bundle:horizontal_ode_derivative}
            \left(\deriv{}{t} + A(\gamma(t))\gamma'(t)\right)g(t) = 0,
        \end{gather}
        where $\deriv{}{t}$ is the matrix given by element-wise multiplication of the derivative $\deriv{}{t}$ and the identity matrix $I$.

        The ODE \eqref{bundle:horizontal_ode} can now be solved. Direct integration and iteration gives
        \begin{gather}
            g(t) = \left[\mathbbm{1} - \int_0^tA(\gamma'(t_1))\,dt_1 + \int_0^t\int_0^{t_1}A(\gamma'(t_1))A(\gamma'(t_2))\,dt_2\,dt_1-\cdots\right]g(0)\,,
        \end{gather}
        where $A$ is the Yang-Mills field associated to the local section $\sigma$. This can be rewritten using the standard \textit{Dyson trick} (see Formula \ref{perturbation:dyson_series}):
        \begin{gather}
            g(t) = \left[\mathbbm{1} - \int_0^t(\gamma'(t_1))\,dt_1 + \frac{1}{2!}\int_0^t\int_0^t\mathcal{T}\Big(A(\gamma'(t_1))A(\gamma'(t_2))\Big)\,dt_2\,dt_1-\cdots\right]g(0).
        \end{gather}
        By noting that this formula is equal to the path-ordered exponential series one finds
        \begin{gather}
            \label{bundle:g0_to_gt}
            g(t) = \mathcal{T}\exp\left(-\int_0^tA(\gamma'(t'))\,dt'\right)g(0).
        \end{gather}
    \end{example}

    \newdef{Parallel transport}{\index{parallel!transport}
        \nomenclature[O_Par]{$\mathrm{Par}_t^\gamma$}{parallel transport map with respect to the curve $\gamma$}
        The parallel transport map along the curve $\gamma$ is defined as follows:
        \begin{gather}
            \mathrm{Par}_t^\gamma:\pi^{-1}(\gamma(0))\rightarrow\pi^{-1}(\gamma(t)):p_0\mapsto\widetilde{\gamma}_{p_0}(t).
        \end{gather}
        This map is $G$-equivariant and it restricts to an isomorphism on the fibres. The group element given by the path-ordered exponential in Equation \eqref{bundle:g0_to_gt} is generally called the \textbf{holonomy} along the curve $\gamma$.
    }

    Using the above constructions that assign Lie group elements to paths, one can give an alternative definition of principal connections:
    \newadef{\difficult{Principal connection}}{\index{connection!principal}\label{bundle:holonomy_functor}
        Let $M$ be a smooth manifold and consider its path groupoid\footnote{See Definition \ref{hdg:path_groupoid} for a rigorous exposition.} $\mathcal{P}_1(M)$ which has the points of $M$ as objects and homotopy classes of smooth paths in $M$ as morphisms. Let $\prb$ be a principal $G$-bundle over $M$ and denote the delooping \ref{cat:group_delooping} of $G$ by $\mathbf{B}G$. The assignment of holonomies to smooth paths locally defines a functor
        \begin{gather}
            \mathrm{hol}_i:\mathcal{P}_1(U_i)\rightarrow\mathbf{B}G
        \end{gather}
        for every chart $U_i\subseteq M$. Globally, these can be glued together using the transition cocycles $g_{ij}$ (in there incarnation as natural isomorphisms) to obtain a functor
        \begin{gather}
            \mathrm{hol}:\mathcal{P}_1(M)\rightarrow\mathbf{Trans}_1(P)\subset G\mathbf{Torsor}\,,
        \end{gather}
        where $\mathbf{Trans}_1(P)$ is the full subcategory of the category of $G$-torsors on the fibres of $P$ (Remark \ref{bundle:fibre_torsor}).

        It can be shown that any functor of this type gives rise to a principal connection on $P$ and, conversely, every principal connection gives rise to a holonomy functor through the parallel transport constructions as given above.
        ?? COMPLETE ??
    }

\subsection{Holonomy group}

    \newdef{Holonomy group}{\index{holonomy}\label{bundle:holonomy_group}
        \nomenclature[S_Hol]{$\mathrm{Hol}_p(\omega)$}{holonomy group at the point $p$ with respect to the principal connection $\omega$}
        Consider a principal bundle $\prb$ and choose a point $m\in M$. Let $\Omega^{ps}_mM\subset\Omega_m M$ denote the subset of the based loop space consisting of piecewise smooth loops with basepoint $m\in M$. The holonomy group $\mathrm{Hol}_p(\omega)$ based at $p\in\pi^{-1}(m)$ with respect to the connection form $\omega$ is given by
        \begin{gather}
            \mathrm{Hol}_p(\omega) := \{g\in G\mid p\sim p\cdot g\}\,,
        \end{gather}
        where two points $p,q\in P$ are identified if there exists a loop $\gamma\in\Omega_m^{ps}M$ such that the horizontal lift $\widetilde{\gamma}$ connects $p$ and $q$.
    }
    \newdef{Reduced holonomy group}{
        The subgroup of the holonomy group induced by contractible loops.
    }

    \newdef{Holonomy bundle}{\index{holonomy!bundle}\label{bundle:holonomy_bundle}
        Let $M$ be a path-connected manifold and consider a principal bundle $P$ over $M$ with principal connection $\omega$. One can equip $P$ with an equivalence relation $\sim$ such that $p\sim q$ if and only if there exists a horizontal curve connecting $p$ and $q$. For every point $p\in P$ one can then construct the following set:
        \begin{gather}
            H(p) := \{q\in P\mid p\sim q\}.
        \end{gather}
        Path-connectedness of the base manifold implies that $H(p)$ and $H(q)$ are isomorphic for all $p,q\in P$. Using this fact one can show that $\sqcup_pH(p)$ is in fact a principal bundle itself. Its structure group is $\mathrm{Hol}_p(\omega)$ for any $p\in P$.
    }

\section{Covariant derivatives}\index{covariant!derivative}\label{section:covariant_derivatives}
\subsection{Koszul connections}

    \newdef{Horizontal lifts on associated bundles}{\index{horizontal!lift}
        Let $P_F := P\times_G F$ be an associated bundle of a principal bundle $\prb$ and let $\gamma$ be a curve in $M$ with horizontal lift $\widetilde{\gamma}_p$ in $P$. The horizontal lift of $\gamma$ to $P_F$ through the point $[p,f]\in P_F$ is defined as follows:
        \begin{gather}
            \widetilde{\gamma}^{P_F}_{[p,f]}(t) := [\widetilde{\gamma}_p(t),f].
        \end{gather}
        Although the element $f$ seems to stay constant along the horizontal lift, it in fact changes according to Equation \eqref{bundle:associated_bundle_equivalence}.
    }
    \newdef{Parallel transport}{\index{parallel!transport}
        Similar to the case of principal bundles $P$, the parallel transport map on an associated bundle $P_F$ is defined as
        \begin{gather}
            \mathrm{Par}_t^\gamma:\pi_F^{-1}(\gamma(0))\rightarrow\pi_F^{-1}(\gamma(t)):[p,f]\mapsto\widetilde{\gamma}^{P_F}_{[p,f]}(t).
        \end{gather}
    }

    \begin{example}[Vector bundles]
        Consider a principal bundle $\prb$ and suppose that the Lie group $G$ acts on a vector space $V$ through a representation $\rho:G\rightarrow\GL(V)$ . One can construct an associated vector bundle $\pi_1:P\times_{\GL(V)} V\rightarrow M$. Moreover, by working over a chart $(U,\varphi)$ one can locally write $P$ and $P_V$ as product bundles. Parallel transport on this vector bundle is then defined as follows. Let $\gamma$ be a curve in $M$ such that $\gamma(0)=x_0$ and $\gamma(1)=x_1$. Furthermore, let the horizontal lift $\widetilde{\gamma}(t) = (\gamma(t),g(t))$ satisfy $\widetilde{\gamma}(0)=(x_0,h)$ as initial condition. Parallel transport of the point $(x_0,v_0)\in U\times V$ along $\gamma$ is given by the following map:
        \begin{gather}
            \mathrm{Par}^\gamma_t:\pi^{-1}_1(x_0)\rightarrow\pi^{-1}_1(\gamma(t)):(x_0, v_0)\mapsto\big(\gamma(t),\rho\big(g(t)h^{-1}\big)v_0\big).
        \end{gather}
        It should be noted that this map is independent of the initial element $h\in G$ despite the presence of the factor $h^{-1}$. Moreover, $\mathrm{Par}^\gamma_t$ is an isomorphism of vector spaces and can thus be used to identify distant fibres (as long as they lie in the same path-component).
    \end{example}
    \begin{remark}
        For every vector bundle one can construct the frame bundle and use the parallel transport map on this bundle to define parallel transport of vectors. Therefore, the previous construction is applicable to any vector bundle.
    \end{remark}

    \newdef{Covariant derivative}{
        Consider a vector bundle $\bundle$ with typical fibre $V$ and its associated principal $\GL(V)$-bundle with principal connection $\omega$. Let $\sigma:M\rightarrow E$ be a section of the vector bundle and let $X$ be a vector field on $M$. The covariant derivative of $\sigma$ with respect to $X$ is defined as follows:
        \begin{gather}
            \nabla_X\sigma|_{x_0} := \lim_{t\rightarrow0}\frac{(\mathrm{Par}_t^\gamma)^{-1}\sigma(\gamma(t)) - \sigma(x_0)}{t}\,,
        \end{gather}
        where $\gamma$ is any curve satisfying $\gamma(0) = x_0$ and $\gamma'(0) = X(x_0)$. Let $\widetilde{\gamma}$ and $X^H$ be the horizontal lifts of $\gamma$ and $X$, respectively. An equivalent expression is the following one:
        \begin{gather}
            \nabla_X\sigma = \pi_*(\sigma_*X - X^H\circ\sigma).
        \end{gather}
        One can also rephrase the above definition in terms of the horizontal vector field associated to the lift $\widetilde{\gamma}$ (akin to Definition \ref{bundle:lie_derivative_functions}). By Property \ref{bundle:section_bijection} every section $\sigma$ of an associated bundle corresponds to a $G$-equivariant map $\phi(\sigma):P\rightarrow V$. In terms of this map one obtains
        \begin{gather}
            \phi(\nabla_X\sigma) = X^H(\phi(\sigma))\,,
        \end{gather}
        where $X^H$ acts componentwise on $V$.
    }

    \begin{property}\index{Koszul!connection}
        The map
        \begin{gather}
            \Gamma(TM)\times\Gamma(E)\rightarrow\Gamma(E):(X,\sigma)\mapsto\nabla_X\sigma
        \end{gather}
        defines a Koszul connection \ref{bundle:koszul_connection}. It follows that every principal connection on a principal bundle induces a Koszul connection on all of its associated vector bundles.
    \end{property}

\subsection{Exterior covariant derivative}\label{section:exterior_covariant_derivative}

    \newdef{Exterior covariant derivative}{\index{exterior!covariant derivative}
        Let $P$ be a principal bundle equipped with a principal connection $\omega$ and let $\theta\in\Omega^k(P)$ be a differential $k$-form. The exterior covariant derivative $\mathrm{D}\theta$ is defined as follows:
        \begin{gather}
            \mathrm{D}\theta(v_0,\ldots,v_k) := \dr\theta(v_0^H,\ldots,v_k^H)\,,
        \end{gather}
        where $\dr$ is the exterior derivative \ref{bundle:exterior_derivative} and $v_i^H$ is the projection of $v_i$ on the horizontal subspace $\mathrm{Hor}(T_pP)$. From this definition it follows that the exterior covariant derivative $\mathrm{D}\theta$ is a horizontal form \ref{bundle:horizontal_form}.
    }
    \begin{remark}
        The exterior covariant derivative can also be defined for general vector-valued $k$-forms. This can be done by defining it component-wise with respect to a given basis. Afterwards one can prove that the choice of basis plays no role.

        For tensorial forms of type $(V,\rho)$ this is given by the following expression:
        \begin{gather}
            \label{bundle:derivative_horizontal_form}
            \mathrm{D}\theta = \dr\theta + \omega\barwedge\theta\,,
        \end{gather}
        where $\barwedge$ denotes the combination of the wedge product and the action $\rho$.
    \end{remark}
    \begin{property}[Tensorial]\label{bundle:tensorial_derivative}
        If $\Phi$ is an equivariant form, then $\mathrm{D}\Phi$ is a tensorial form.
    \end{property}

    The compatibility condition for connection one-forms \eqref{bundle:local_compatibility} can be restated in terms of the covariant derivative:
    \begin{property}[Gauge transformation]
        Consider a principal bundle $\prb$ and a connection one-form $\omega$. For every gauge transformation $\xi\in\Aut_V(P)$ one (locally) has the following expression:
        \begin{gather}
            \label{bundle:connection_gauge_transformation}
            \xi^*\omega = \omega + \xi^{-1}\mathrm{D}\xi\,,
        \end{gather}
        where $\mathrm{D}$ is the exterior covariant derivative associated to $\omega$.
    \end{property}

    \begin{formula}
        Using the Koszul connection on the tangent bundle $TP$ one can rewrite the action of the exterior covariant derivative as follows:
        \begin{align}
            \mathrm{D}\theta(v_0,\ldots,v_k) = \sum_i^k(-1)^i&\nabla_{v_i}\theta(v_0,\ldots,\hat{v}_i,\ldots,v_k)\\
            &+ \sum_{i<j}^k(-1)^{i+j}\theta([v_i,v_j],v_0,\ldots,\hat{v}_i,\ldots,\hat{v}_j,\ldots,v_k)\,,\nonumber
        \end{align}
        where, as usual, $\hat{v}_i$ indicates that this vector is omitted. This formula should remind the reader of the analogous formula for the ordinary exterior derivative \eqref{bundle:k_form_exterior_derivative}. As an example the formula for a one-form $\Phi$ is given:
        \begin{gather}
            \mathrm{D}\Phi(X,Y) = \nabla_X(\Phi(Y)) - \nabla_Y(\Phi(X)) - \Phi([X,Y]).
        \end{gather}
    \end{formula}

    Because of Property \ref{bundle:section_bijection} one can use the following construction to find an explicit expression for the covariant derivative on an associated vector bundle:
    \begin{construct}[Covariant derivative]\label{bundle:covariant_derivative_associated_bundle}
        Let $\prb$ be a principal bundle and let $P_V := P\times_G V$ be an associated vector bundle. Given a section $\sigma:M\rightarrow P_V$, one can construct a $G$-equivariant map $\phi:P\rightarrow V$ using Equation \eqref{bundle:section_bijection_phi}. The exterior covariant derivative of $\phi$ is given by Equation \eqref{bundle:derivative_horizontal_form}:
        \begin{gather}
            \mathrm{D}\phi(X) = \dr\phi(X) + \omega\triangleright\phi(X)\,,
        \end{gather}
        where $X\in T_pP$. Now, given an additional (local) section $\varphi:U\subseteq M\rightarrow P$, one can pull back this derivative to the base manifold $M$. This gives
        \begin{gather}
            (\varphi^*\mathrm{D}\phi)(Y) = \dr(\varphi^*\phi)(Y) + \varphi^*\omega\triangleright\varphi^*\phi(Y)\,,
        \end{gather}
        where $Y=\pi_*X\in T_mM$. After introducing the notations $S:=\varphi^*\phi$ and $\nabla_YS:=(\varphi^*\mathrm{D}\phi)(Y)$ and remembering the definition of the Yang-Mills field \ref{bundle:yang_mills_field}, this becomes
        \begin{gather}
            \label{bundle:local_covariant_derivative}
            \nabla_YS = \dr S(Y) + \omega^U(Y)\triangleright S.
        \end{gather}
    \end{construct}
    \begin{example}
        Let $G=\GL(n,\mathbb{R})$. In local coordinates Equation \eqref{bundle:local_covariant_derivative} can be rewritten as follows:
        \begin{gather}
            (\nabla_YS)^i = \pderiv{S^i}{x^k}Y^k + \Gamma^i_{\ jk}S^jY^k.
        \end{gather}
        This is exactly the formula known from classical differential geometry and relativity.
    \end{example}

\subsection{Curvature}

    \newdef{Curvature}{\index{curvature}
        Let $\omega$ be a principal connection one-form. The curvature $\Omega$ of $\omega$ is defined as the exterior covariant derivative $\mathrm{D}\omega$.
    }
    Property \ref{bundle:tensorial_derivative} implies the following important statement:
    \begin{property}[Tensorial]
        In contrast to a connection one-form, the associated curvature is a tensorial $\mathfrak{g}$-valued two-form or, equivalently, an $\End(P)$-valued two-form.
    \end{property}

    \newdef{Flat connection}{\index{flat!connection}
        A principal connection is said to be flat if its curvature vanishes everywhere. A bundle is said to be flat if it admits a flat connection.
    }

    \begin{property}[Local systems]\index{local!system}
        If the connection $\nabla$ on a vector bundle is flat, the flat sections constitute a (linear) local system \ref{sheaf:local_system}. Moreover, this sheaf characterizes the bundle and connection up to isomorphism, i.e.~there exists an equivalence of categories of flat vector bundles and linear local systems.
    \end{property}

    \begin{formula}[Curvature on associated bundles]\label{bundle:curvature_associated_bundles}
        The above definition of the curvature, together with Equation \eqref{bundle:derivative_horizontal_form} or, equivalently, Construction \ref{bundle:covariant_derivative_associated_bundle}, implies that one can express the action of the curvature on sections of associated bundles as follows:
        \begin{gather}
            \mathrm{D}^2\phi = \Omega\triangleright\phi,
        \end{gather}
        where $\phi\in\Omega^\bullet(M;E)$. This curvature form $\Omega$ coincides with the one from Definition \ref{bundle:curvature}.
    \end{formula}

    \begin{example}
        Let $\omega_G$ be the Maurer-Cartan form on a Lie group $G$. Because the only horizontal vector field on the bundle $\prin{G}{G}{\{\ast\}}$ is the zero vector, the curvature of $\omega_G$ is 0. It follows that the Maurer-Cartan form is a flat connection.
    \end{example}

    \begin{property}[Second Bianchi identity]\index{Bianchi identity}
        Let $\omega$ be a principal connection one-form with curvature $\Omega$. The curvature is covariantly constant:
        \begin{gather}
            \mathrm{D}\Omega = 0.
        \end{gather}
    \end{property}
    \begin{remark}
        One should pay attention to the fact that this result\mnote{\dbend} does not generalize to arbitrary differential forms. Only the exterior derivative satisfies the coboundary condition $d^2\equiv0$, the exterior covariant derivative does not.
    \end{remark}

    \newformula{Cartan structure equation}{\index{Cartan!structure equation}\label{bundle:cartan_structure_equation}
        Let $\omega$ be a principal connection one-form and let $\Omega$ be its curvature form. The curvature can be expressed in terms of the connection as follows:
        \begin{gather}
            \Omega = \dr\omega + \frac{1}{2}[\omega\wedge\omega].
        \end{gather}
        The Maurer-Cartan equation in the (geometric) fundamental theorem of calculus \ref{bundle:mc_equation} exactly states the vanishing of the algebraic curvature associated to a general $\mathfrak{g}$-valued one-form.
    }

    The following property is an immediate consequence of Frobenius's integrability theorem \ref{bundle:frobenius} and the fact that a connection vanishes on the horizontal subbundle:
    \begin{property}[Integrability]
        Let $\omega$ be a principal connection one-form. The associated horizontal distribution \[p\mapsto\mathrm{Hor}(T_pP)\] is integrable if and only if the connection $\omega$ is flat. In contrast, the vertical distribution is always integrable.
    \end{property}

    Similar to Definition \ref{bundle:yang_mills_field} one can also define the Yang-Mills field strength:
    \newdef{Field strength}{\index{Yang-Mills!field strength}
        Let $\pi:P\rightarrow M$ be a principal bundle equipped with a principal connection one-form $\omega$ and associated curvature $\Omega$. Given a local section $\sigma:U\subseteq M\rightarrow P$, one defines the (Yang-Mills) field strength $F$ as the pullback $\sigma^*\Omega$.
    }

    \begin{theorem}[Ambrose-Singer]\index{Ambrose-Singer}\label{bundle:ambrose_singer}
        The Lie algebra of the holonomy group $\mathrm{Hol}_p(\omega)$ is spanned by the elements of the form $\Omega_q(X,Y)$, where $q$ ranges over the holonomy bundle $H(p)$ and $X,Y$ are horizontal.
    \end{theorem}

\subsection{Torsion}

    \newdef{Solder form}{\index{solder form}
        Let $\prb$ be a principal bundle and let $V$ be a $\dim(M)$-dimensional vector space equipped with a representation\footnote{In general this will be $V=\mathbb{R}^{\dim(M)}$ and $G=\GL(n,\mathbb{R})$.} $\rho:G\rightarrow\GL(V)$ such that $TM\cong P\times_G V$ as associated bundles. A solder(ing) form $\theta$ on $P$ is a tensorial one-form \ref{bundle:tensorial_form} of type $(V,\rho)$.
    }

    \newdef{Torsion}{\index{torsion}\index{Cartan!structure equation}
        Let $\prb$ be a principal bundle equipped with a principal connection $\omega$ and a solder form $\theta$. The torsion $\Theta$ is defined as the exterior covariant derivative $D\theta$. This is the content of the \textbf{Cartan structure equation}:
        \begin{gather}
            \Theta = \dr\theta + \omega\barwedge\theta\,,
        \end{gather}
        where the wedge product is defined analogously to the wedge products \ref{bundle:vector_valued_wedge} and \ref{bundle:lie_algebra_valued_wedge} using the induced representation of $\mathfrak{g}$ on $V$:
        \begin{gather}
            \omega\barwedge\theta(v,w) := \omega(v)\triangleright\theta(w) - \omega(w)\triangleright\theta(v).
        \end{gather}
    }

    \begin{property}[First Bianchi identity]\index{Bianchi identity}
        Let $\omega$ be a principal connection one-form, $\Omega$ its associated curvature, $\theta$ a solder form and $\Theta$ its associated torsion.
        \begin{gather}
            \mathrm{D}\Theta = \Omega\barwedge\theta
        \end{gather}
    \end{property}

\section{Reduction of the structure group}\label{section:G-structure}

    \newdef{Reduction}{\index{reduction}\label{bundle:reduction}
        Consider a principal bundle $\prin{G}{P}{M}$ and let $H$ be a subgroup of $G$. If the transition functions of $P$ can be chosen to take values in $H$, it is said that the structure group $G$ can be reduced to $H$.

        More generally, a principal bundle $\prin{H}{\widetilde{P}}{M}$ with structure group $H$ is called an $H$-reduction of $P$ if there exists a bundle isomorphism $\widetilde{P}\times_HG\rightarrow P$. This allows for morphisms besides inclusions, such as covering maps $\lambda:H\rightarrow G$. (See for example the definition of spinor bundles in Section \ref{section:spinor_bundles}.) As such the name ``reduction'' is not the best choice of terminology. For covering maps the term \textbf{lift(ing)} is sometimes used.
    }

    \newdef{$G$-structure}{\index{G-!structure}\label{bundle:G_structure}
        Consider a manifold $M$. A $G$-structure on $M$ is the reduction of the structure group $\GL(n)$ of the frame bundle $FM$ to the group $\iota:G\rightarrow\GL(n)$.
    }
    \newdef{Integrability}{\index{integrable!$G$-structure}
        A $G$-structure $P$ on $M$ is said to be integrable if for every point $p\in M$ there exists a chart $U\ni p$ such that the associated holonomic frame $\{\partial_i\}_{i\leq\dim(M)}$ induces a local section of $P$.
    }
    \begin{property}\label{bundle:integrable_torsion_free}
        Consider a smooth manifold $M$ equipped with a $G$-structure. If this structure is integrable, it admits a torsion-free connection.
    \end{property}

    \begin{example}[Orientable manifold]\index{orientable!manifold}\label{bundle:orientable_structure}
        An $n$-dimensional manifold is orientable if and only if the structure group can be reduced to $\GL^+(n)$, the group of invertible matrices with positive determinant. Furthermore, this structure is always integrable if it exists.
    \end{example}
    \begin{example}[Riemannian manifold]\label{bundle:riemannian_G_structure}
        An $\mathrm{O}(n)$-structure turns $M$ into a \textit{Riemannian manifold} \ref{riemann:riemannian_manifold}. Because the cotangent bundle $T^*M$ transforms under the contragredient representation, which coincides with the regular representation in the case of $\mathrm{O}(n)$, of the transition maps of the tangent bundle $TM$, these two bundles are equivalent. The isomorphism is given by the musical isomorphism(s) \ref{riemann:musical_isomorphisms}. Riemannian structures are always integrable.
    \end{example}

    The following property gives a classification of bundle reductions:
    \begin{property}[Equivariant morphisms]\label{bundle:reduction_classification}
        Consider a principal $G$-bundle $P$ and let $F$ be a set that admits a transitive action $\varphi:G\rightarrow\Aut(F)$. For every $f\in F$ and every equivariant morphism $\psi:P\rightarrow F$ there exists a reduction of $G$ to the isotropy subgroup $G_f$ defined by
        \begin{gather}
            P_f := \{p\in P\mid\psi(p) = f\}.
        \end{gather}
        One can generalize this definition to arbitrary Lie group actions by restricting to the equivariant morphisms that take value in a single orbit.\footnote{Since transitive actions have a unique orbit, this is a well-defined generalization.}

        Consider a subgroup inclusion $\iota:H\hookrightarrow G$. If $H$ is closed, the action of $G$ on $G/H$ is transitive and one can specialize the above construction to the coset space $G/H$. It follows that reductions are classified by equivariant maps into the coset space $G/H$ or, according to Property \ref{bundle:section_bijection}, by the (global) sections of the associated coset bundle $P\times_GG/H$.
    \end{property}
    \begin{result}
        If $G$ is connected, every principal $G$-bundle is reducible to a maximal compact subgroup of $G$.
    \end{result}

    \newdef{Reducible connection}{\index{connection!reducible}\label{bundle:reducible_connection}
        Consider a principal $G$-bundle $P$ equipped with a connection one-form $\omega$. If a bundle map $F$ induces an $H$-reduction of $P$, then the connection $\omega$ is said to be reducible (and to be compactible with the given reduction) if $F^*\omega$ takes values in $\mathfrak{h}$.
    }
    \begin{property}\label{bundle:connection_reducibility}
        Consider a principal bundle $P$ together with a reduction $P_f$ induced by an equivariant morphism $\psi:P\rightarrow F$ with $f\in F$. A principal connection on $P$ is reducible to $P_f$ if and only if $\psi$ is parallel with respect to this connection, i.e.~$\mathrm{D}\psi = 0$.
    \end{property}

    The following two properties characterize bundle reductions in terms of holonomy bundles:
    \begin{property}[Holonomy bundles and reductions]
        The holonomy bundle $H(p)$ is a reduction of $P$ for every $p\in P$. Furthermore, any connection $\omega$ is reducible to $H(p)$ and it can be proven that this reduction is minimal, i.e.~there exists no further reduction.
    \end{property}
    \begin{result}\label{bundle:reducible_holonomy}
        A principal bundle (and any associated connection) is irreducible to a subgroup of the structure group\footnote{Lifts as in the case of $\mathrm{Spin}$-structures do not fall under the holonomy classification.} if and only if it is equivalent to its holonomy bundle.
    \end{result}

    The following property is less known in the literature:
    \begin{property}[Flat connections]\label{bundle:flat_connection_cohomology}
        A bundle is flat if and only if its structure group $G$ can be lifted to the discrete group $G^\delta$, i.e.~the same group but with the discrete topology. An equivalent condition is that the structure group can be lifted to the fundamental group of the base space $\pi_1(M)$ (this latter condition is related to the fact that for flat connections parallel transport is path-independent and, hence, is fully characterized by the loops in $M$).

        Note that once such a lift is chosen or, equivalently, if the structure group of the bundle is discrete, a unique flat connection exists.
    \end{property}
    \begin{remark}
        The above condition can also be applied to define flatness for topological bundles where the notion of connections does not make sense.
    \end{remark}

\section{Characteristic classes}

    \newdef{Characteristic class}{\index{characteristic!class}
        Let $M$ be a manifold. A characteristic class is a map from isomorphism classes of vector bundles or principal bundles $E\rightarrow M$ to cohomology classes $c(E)\in H^\bullet(M;R)$ such that if there exists a morphism $f:N\rightarrow M$, then $c(f^*E) = f^*c(E)\in H^\bullet(N;R)$. The coefficient ring $R$ is often assumed to be the base field ($\mathbb{R}$ or $\mathbb{C}$), but this is not always the case (e.g.~the \textit{Stiefel-Whitney classes} from Section \ref{section:stiefel_whitney}).
    }
    Using the classification property \ref{bundle:classification}, one can give a concise construction of characteristic classes in the case of principal bundles:
    \begin{construct}
        Consider a principal bundle $\prb$ with classifying map $\varphi\in[M,BG]$. For every $c\in H^\bullet(BG)$ one defines a characteristic class $c(P)\in H^\bullet(M)$ as the pullback of $c$ under $\varphi$.
    \end{construct}

    As the definition implies, both vector bundles and principal bundles admit a theory of characteristic classes. However, in the literature most authors always focus on either one of them and, hence, it is not always easy to see which theorems can be translated and how to do this whenever possible. The relation between the two theories is given by the associated bundle construction \ref{bundle:associated_bundle_construction} (see \cite{sorensen} for more information). The characteristic classes of a vector bundle are defined as the ones of its frame bundle. Because of this duality one can freely switch between the language of vector bundles and principal bundles, depending on where the results will be applied.

    Because the statement of the \textit{splitting principle} is quite different when given in the language of principal bundles or that of vector bundles, it will be stated for both cases. First an additional construction is needed:
    \newdef{Flag bundle}{\index{flag}
        Let $\bundle$ be a vector bundle. Using the definition of the flag manifold \ref{linalgebra:flag_manifold} one can construct for every fibre $E_p$ a space $\mathrm{Fl}(E_p)$ that has the complete flags of $E_p$ as points (expressed as a sequence of one-dimensional subspaces). Using the bundle construction theorem, one can then obtain the flag bundle $\pi_{\mathrm{Fl}}:\mathrm{Fl}(E)\rightarrow M$ that has the flag manifolds as fibres.
    }
    \begin{theorem}[Splitting principle]\index{splitting principle}
        Consider a vector bundle $\bundle$. Its flag bundle has the following properties:
        \begin{itemize}
            \item The pullback bundle $\pi_\mathrm{Fl}^*E$ can be decomposed as a Whitney sum of line bundles.
            \item The induced morphism on cohomology $\pi_\mathrm{Fl}^*:H^\bullet(M)\rightarrow H^\bullet(\mathrm{Fl}(E))$ is injective.
        \end{itemize}
    \end{theorem}
    For the following form of the splitting principle, see \cite{may_splitting, debray_characteristic}.
    \begin{theorem}[Splitting principle]
        Consider a principal bundle $\prb$ where the structure group $G$ is compact. Every compact Lie group contains a maximal torus $T\cong\mathbb{T}^n$, where $\mathbb{T}$ is the standard 1-torus $S^1\cong\mathrm{U}(1)$. The inclusion $\iota:T\hookrightarrow G$ induces a $G$-bundle $B\iota:BT\rightarrow BG$ with fibre $G/T$ and total space $EG$. The pullback of $B\iota$ along the classifying map $p\in[M,BG]$ of $P$ defines another $G$-bundle $\rho:p^*B\iota\rightarrow M$ (also with fibre $G/T$). This fibre bundle has the following properties:
        \begin{itemize}
            \item $\rho^*p$ admits a reduction of the structure group to $T$.
            \item The induced morphism on cohomology $\rho^*:H^\bullet(M)\rightarrow H^\bullet(\rho^*P)$ is injective.
        \end{itemize}
    \end{theorem}
    Because $B\mathbb{T}^n\cong(B\mathbb{T})^n$, one can use the fibration $B\iota$ to pull back any class $c\in H^\bullet(BG)$ to a tuple of classes in $H^\bullet(B\mathrm{U}(1))$. Therefore, every characteristic class of $\rho^*P$ is a tuple of characteristic classes of circle bundles. The injectivity of $\rho^*$ implies that every characteristic class of $P$ can be characterized by such a tuple.

\subsection{Chern-Weil theory}\label{section:chern_weil}

    The characteristic classes of a vector bundle can be constructed from the connection and curvature forms on the vector bundle. The resulting expressions are polynomial in the curvature forms.

    \newdef{Chern-Weil morphism}{\index{Chern-Weil}
        Let $\bundle$ be a vector bundle with structure group $G$ and denote the connection one-form and curvature two-form by $\omega$ and $\Omega$ respectively. There exists a morphism of algebras
        \begin{gather}
            K[\mathfrak{g}]^G\rightarrow\Omega^\bullet(E):P\mapsto P(\Omega)\,,
        \end{gather}
        where $K$ is the base field, satisfying:
        \begin{itemize}
            \item $P(\Omega)$ is closed.
            \item $P(\Omega)$ pulls back uniquely to a (closed) form $\overline{P}(\Omega) := \pi^*P(\Omega)$ on $M$.
            \item $\overline{P}(\Omega)$ does not depend on the chosen connection, i.e.~for two connection one-forms $\omega,\omega'$, the difference $\overline{P}(\Omega) - \overline{P}(\Omega')$ is exact.
        \end{itemize}
    }

    In the remainder of this section this approach will be followed to find explicit descriptions of characteristic classes of vector bundles and principal bundles.

\subsection{Complex bundles}

    In this section only complex bundles are considered. This allows for the choice of $\mathfrak{u}(n)$-valued connection one-forms. See Chapter \ref{chapter:complex_geometry} for more information.

    \newdef{Chern class}{\index{Chern!class}
        Consider a rank-$n$ vector bundle $\bundle$ with curvature two-form $\Omega$. Using Chern-Weil theory one defines the Chern classes $c_k(E)$ as follows:
        \begin{gather}
            \det\left(\mathbbm{1} + \frac{it}{2\pi}\Omega\right) =: \sum_{k=1}^nc_k(E)t^k.
        \end{gather}
        The $k^{th}$ Chern class is a cohomology class in $H^{2k}(M)$.
    }
    \newdef{Chern polynomial}{
        Let $c_k(E)$ denote the $k^{th}$ Chern class of $E$. The Chern polynomial is defined as follows:
        \begin{gather}
            c_t(E) := \sum_{k=1}^\infty c_k(E)t^i.
        \end{gather}
        The \textbf{total Chern class} is defined by taking $t=1$.
    }

    \newdef{Chern character}{\index{Chern!character}\label{bundle:chern_character}
        Consider a rank-$n$ vector bundle $\bundle$ with curvature two-form $\Omega$. Using Chern-Weil theory one defines the Chern character as follows:
        \begin{gather}
            \mathrm{ch}(E) := \tr\left(\exp\left(\frac{i\Omega}{2\pi}\right)\right).
        \end{gather}
        If $c_i:=c_i(E)$ denotes the $i^{th}$ Chern class of $E$, the Chern character can also be expressed as
        \begin{gather}
            \mathrm{ch}(E) = \sum_{k=0}^n\frac{c_1^k+\cdots+c_n^k}{k!}.
        \end{gather}
        The term with prefactor $1/k!$ is a homogeneous polynomial of degree $k$. One sometimes calls this term the $k^{th}$ Chern character. Using Chern-Weil theory, this form is proportional to $\tr(\Omega^k)$.

    }

    \begin{formula}[Whitney product formula\footnotemark]\index{Whitney!product formula}
        \footnotetext{This formula is also called the \textbf{Whitney sum formula}.}
        The following equality holds for all bundles $E_1,E_2$:
        \begin{gather}
            c_t(E_1\oplus E_2) = c_t(E_1)c_t(E_2).
        \end{gather}
    \end{formula}
    \begin{result}[Chern root]\index{Chern!root}
        The product formula and the splitting principle imply that the Chern polynomial of any rank-$n$ vector bundle can be decomposed as follows:
        \begin{gather}
            c_t(E) = \prod_{i=1}^n(1+x_it),
        \end{gather}
        where in the case of decomposable vector bundles $E\equiv\oplus_{i=1}^n L_i$ the $x_i$ are the first Chern classes $c_1(L_i)$. The factors $x_i$ are called the \textbf{Chern roots}.

        By working out the above formula one can see that the coefficient in degree $k$, i.e.~the $k^{th}$ Chern class, is given by the $k^{th}$ elementary symmetric polynomial:
        \begin{gather}
            c_k(E) = \sum_{i_1<\cdots<i_k}x_{i_1}\cdots x_{i_k}.
        \end{gather}
    \end{result}

    \newdef{Canonical class}{\index{canonical!class}
        Consider a smooth manifold $M$. The first Chern class of the canonical bundle $\bigwedge^nT^*M$ is called the canonical class of $M$.
    }
    \newdef{Theta characteristic}{\index{characteristic!$\theta$}
        Consider a smooth manifold $M$ together with its canonical class $K_M$. The theta characteristic, if it exists, is a characteristic class $\Theta$ such that $\Theta\cup\Theta=K_M$, where $\cup$ is the cup-product in cohomology \ref{bundle:cup_product}.
    }

    After finding the Chern roots of a vector bundle $E$, one can use them to define various other classes:
    \begin{construct}[Genus]\index{genus}
        Let $f\in K[[t]]$ be a formal power series with constant term 1. For any $k\in\mathbb{N}$ one can easily see that $f(x_1)\cdots f(x_k)$ is a symmetric power series (also with constant term 1). For every such $f$ define the $f$-genus by the formula\footnote{In the case that $E$ splits as a sum for line bundles, one simply obtains the product $f(x_1)\cdots f(x_k)$.}
        \begin{gather}
            G_f(E) := \det f\left(\frac{it}{2\pi}\Omega\right).
        \end{gather}
        The coefficients of this power series define characteristic classes of $E$.
    \end{construct}

    \begin{example}[Chern class]
        The total Chern class is recovered as the genus of $f=1+x$.
    \end{example}

    The following genus is very important, especially in the context of the \textit{Atiyah-Singer index theorem} (see further below):
    \begin{example}[Todd class]\index{Todd class}\index{Bernoulli!number}\label{bundle:todd_class}
        Consider the function
        \begin{gather}
            Q(x) := \frac{x}{1-e^{-x}} = 1 + \frac{x}{2} + \sum_{i=1}^\infty\frac{(-1)^{i-1}B_i}{(2i)!}x^{2i}\,,
        \end{gather}
        where $B_i$ is the $i^{th}$ \textit{Bernoulli number}. Let $\pi:E\rightarrow M$ be a rank-$n$ vector bundle. If $x_i$ are the Chern roots of $E$, the Todd class is defined as
        \begin{gather}
            \mathrm{td}(E) := \prod_{i=1}^nQ(x_i).
        \end{gather}
        The characteristic function of the Todd genus is the unique power series with constant term 1 that has the property that for all $n\in\mathbb{N}$ the $n^{th}$ degree term in $f(x)^{n+1}$ has coefficient 1.
    \end{example}
    Another genus that is used in the context of the index theorems is the following one:
    \begin{example}[$\hat{A}$-genus\footnotemark]\label{bundle:a_roof_genus}
        \footnotetext{This is pronounced as \textit{A-roof genus}.}
        The $\hat{A}$-genus is defined through the following function:
        \begin{gather}
            Q(x) := \frac{\sqrt{x}/2}{\sinh(\sqrt{x}/2)} = 1 - \frac{x}{24} + \frac{7x^2}{5760} - \cdots.
        \end{gather}
    \end{example}

\subsection{Real bundles}

    In the case of real vector bundles, which will be assumed to come equipped with a fibre metric as to allow for $\mathfrak{o}(n)$-valued connection one-forms, one can also define a set of characteristic classes.

    \newdef{Pontryagin class}{\index{Pontryagin!class}
        Consider a vector bundle $\bundle$. The Pontryagin classes of $E$ are defined as follows:
        \begin{gather}
            p_k(E) := (-1)^kc_{2k}(E^\mathbb{C})\in H^{4k}(M)\,,
        \end{gather}
        where $E^\mathbb{C}$ is the complexification of $E$. If $E$ has the structure of a complex vector bundle, one can use the relation $E^\mathbb{C}\cong E\oplus\overline{E}$ to express the Pontryagin classes purely in terms of the Chern classes of $E$, e.g.
        \begin{gather}
            \label{bundle:chern_pontryagin}
            p_1(E)=c_1^2(E)-2c_2(E).
        \end{gather}
    }

    When the vector bundles in question are orientable, the structure group can further be reduced to $\mathrm{SO}(n)$. If the rank is even, one can define the following characteristic class:
    \newdef{Euler class}{\index{Euler!class}
        Let $\bundle$ be an orientable vector bundle of rank $2k$. The Euler class of $E$ is defined as follows:
        \begin{gather}
            e(E) := p_k(E)\cup p_k(E).
        \end{gather}
    }
    \begin{property}\index{Pfaffian}
        Using the fact that one can write the total Pontryagin class using Chern-Weil theory as
        \begin{gather}
            p(E) = \det\left(1-\frac{1}{2\pi}\Omega\right)
        \end{gather}
        and that the determinant is the square of the \textit{Pfaffian}, one can equivalently define the Euler class as follows:
        \begin{gather}
            e(E) := \mathrm{Pf}\left(-\frac{1}{2\pi}\Omega\right).
        \end{gather}
    \end{property}

\subsection{Cohomology of Lie groups}\index{cohomology!Lie group}

    Using the language of characteristic classes one can find a concise description of the (continuous) group cohomology of Lie groups. First of all there is the isomorphism between continuous group cohomology and cohomology of classifying spaces:
    \begin{gather}
        H^\bullet(BG;\mathbb{Z})\cong H^\bullet_c(G;\mathbb{Z}).
    \end{gather}

    ?? COMPLETE ??

\subsection{Chern-Simons forms}\label{section:chern_simons}

    By Chern-Weil theory, the image of invariant polynomials under the Chern-Weil morphism is closed. This not only allows to interpret them as cohomology classes as done above, but it also implies that (locally) one can find a trivialization:
    \begin{gather}
        \langle\Omega_A,\cdots\rangle_n = \dr\mathrm{CS}^n(A),
    \end{gather}
    where $\langle\cdots\rangle_n$ denotes an invariant polynomial of degree $2n$. Such a form is called a Chern-Simons form or \textbf{secondary characteristic form}.

    More generally, consider the \textit{concordance} $P\times[0,1]$ for some principal bundle $P$ with itself together with a connection $\hat{A}$. This connection defines a path between two connections $A,A'$ on $P$. The relative Chern-Simons form is defined as\index{concordance}
    \begin{gather}
        \mathrm{CS}^n(A,A') := \int_{[0,1]}\langle\Omega_{\hat{A}},\cdots\rangle_n.
    \end{gather}
    The differential of this form gives the difference of characteristic forms:
    \begin{gather}
        \dr\mathrm{CS}^n(A,A') = \langle\Omega_{A_1},\cdots\rangle_n - \langle\Omega_{A_0},\cdots\rangle_n.
    \end{gather}
    However, note that the Chern-Simons form is only defined up to an exact form.

    \begin{example}[Killing form]
        Consider the Killing transgression form, which for $\mathfrak{su}(n)$ is induced by the trace functional. The related Chern-Simons form is given by
        \begin{gather}
            \langle\dr A,A\rangle + \frac{2}{3}\langle A,[A\wedge A] \rangle.
        \end{gather}
        This form is the exterior derivative of the second Chern character, which for $\mathrm{SU}(n)$-bundles is equivalent to the second Chern class. A similar expression can be obtained for the Chern-Simons form associated to all other Chern characters.
    \end{example}

\section{\difficult{Differential cohomology}}\index{differential!cohomology}\label{section:differential_cohomology}

    In the foregoing sections a multitude of objects were introduced that are related to principal fibre bundles. For example, connections and their associated curvature forms could be used to construct differential quantities, while characteristic classes contained data about the topology of the bundle. However, even in the simple case of $\mathrm{U}(1)$-bundles, neither the (first) Chern class, nor the curvature form are are able to uniquely characterize the bundle.

\subsection{Differential characters}

    In this section all (co)chains, (co)cycles and (co)boundaries are assumed to be smooth. By doing this no generality is lost since every continuous chain is homotopic to a smooth one.

    \newdef{Differential character}{\index{Cheeger-Simons|see{differential character}}\index{differential!character}
        Consider a positive integer $k\geq1$ and let $M$ be a manifold. A (\textbf{Cheeger-Simons}) differential character of \textbf{degree} $k$ is a group homomorphism $\chi:Z_{k-1}(M)\rightarrow\mathrm{U}(1)$ that is given by integration on boundaries:\footnote{Some authors omit the exponential function by working modulo $\mathbb{Z}$. This just replaces the multiplicative $\mathrm{U}(1)$-group by the isomorphic additive $\mathbb{R}/\mathbb{Z}$-group.}
        \begin{gather}
            \chi(\partial\gamma) = \exp\left(2\pi i\int_\gamma\omega(\chi)\right)
        \end{gather}
        for some $\omega(\chi)\in\Omega^k(M)$. The group of differential characters of degree $k$ is denoted by $\hat{H}^k(M;\mathbb{Z})$. For $k=0$ the convention $\hat{H}^0(M;\mathbb{Z}):=H^0(M;\mathbb{Z})$ is used.
    }

    \begin{property}[Thin invariance]\index{thin}
        Differential characters vanish on boundaries of thin chains, i.e.~for chains $\gamma\in C_k(M)$ such that $\int_\gamma\omega=0$ for all $\omega\in\Omega^k(M)$ one has $\chi(\partial\gamma)=1$.
    \end{property}

    \begin{property}[Curvature]\index{curvature!cohomology}\index{flat!character}
        Every differential character is represented by a unique, closed and integral $k$-form. The map $\mathrm{curv}:\hat{H}^k(M;\mathbb{Z})\rightarrow\Omega^k_\text{int}(M):\chi\mapsto\omega(\chi)$ is called the curvature map. If $\mathrm{curv}(\chi)=0$, the character $\chi$ is said to be \textbf{flat}.
    \end{property}

    \begin{property}[Characteristic class]\index{characteristic!class}\index{Dixmier-Douady class}
        Every differential character gives rise to a characteristic class as follows. The group of cocycles is free and the quotient map $\mathbb{R}\rightarrow\mathrm{U}(1)$ is onto, so every differential character lifts to a group homomorphism $\widetilde{\chi}:Z_{k-1}(M)\rightarrow\mathbb{R}$ such that $\chi(z)=\exp(2\pi i\widetilde{\chi}(z))$. The map
        \begin{gather}
            \label{bundle:characteristic_class}
            \mathrm{ch}(\chi):C_k(M)\rightarrow\mathbb{Z}:\gamma\mapsto\int_\gamma\mathrm{curv}(\chi)-\widetilde{\chi}(\partial\gamma)
        \end{gather}
        induces a well-defined map $\mathrm{ch}:\hat{H}^k(M;\mathbb{Z})\rightarrow H^k(M;\mathbb{Z})$. If $\mathrm{ch}(\chi)=0$, the character $\chi$ is said to be \textbf{topologically trivial}. The characteristic class associated to a differential character is sometimes called the \textbf{Dixmier-Douady} class (see e.g.~\cite{brylinski}).
    \end{property}

    \begin{example}[Circle bundles]
        Consider a $\mathrm{U}(1)$-bundle $\pi:P\rightarrow M$ with connection $\omega$. Holonomy around closed curve $\gamma$ gives a parallel transport map
        \begin{gather}
            P\rightarrow P:p\mapsto p\cdot g(p,\gamma)
        \end{gather}
        for a smooth function $g:\Omega_p P\rightarrow\mathrm{U}(1)$. In fact, $g$ only depends on the homology of $\gamma$ and the projection $\pi(p)$, so one obtains a map $g\in\hat{H}^2(M;\mathbb{Z})$ with curvature $\frac{-1}{2\pi i}\Omega$ and characteristic class $c_1(P)$. The converse also holds, every different character of degree 2 determines a principal $\mathrm{U}(1)$-bundle with connection (up to connection-preserving isomorphism). This leads to the following equivalence:
        \begin{align}
            \hat{H}^2(M;\mathbb{Z})\cong\{\text{isomorphism classes of }(P,\nabla)\mid P&\text{ a circle bundle and }\\
            &\nabla\text{ a principal connection}\}.\nonumber
        \end{align}
    \end{example}

    The curvature and characteristic class maps fit in some exact sequences:
    \begin{property}[Curvature exact sequence]
        The first sequence is induced by the curvature map. A vanishing curvature form says that the character vanishes identically on boundaries. This is exactly the property satisfied by cohomology classes:
        \begin{gather}
            0\longrightarrow H^{k-1}(M;\mathrm{U}(1))\longrightarrow\hat{H}^k(M;\mathbb{Z})\overset{\mathrm{curv}}{\longrightarrow}\Omega^k_\text{int}(M)\longrightarrow0.
        \end{gather}
        The first cohomology group classifies flat circle bundles by Property \ref{bundle:flat_connection_cohomology}, so this sequence says that, by extending the above example to higher $n$-bundles (this can be formalized cf. \textit{bundle gerbes}), two circle $n$-bundles with the same curvature differ by a flat circle $(n-1)$-bundle.
    \end{property}
    \begin{property}[Characteristic class exact sequence]
        \begin{gather}
            0\longrightarrow \Omega^{k-1}(M)/\Omega^{k-1}_\text{int}(M)\longrightarrow\hat{H}^k(M;\mathbb{Z})\overset{\mathrm{ch}}{\longrightarrow} H^k(M;\mathbb{Z})\longrightarrow0
        \end{gather}
        The first map is induced by the holonomy functional
        \begin{gather}
            \iota:\Omega^{k-1}(M)\rightarrow\hat{H}^k(M;\mathbb{Z}):\omega\rightarrow\exp\left(2\pi i\int_-\omega\right),
        \end{gather}
        which has the closed integral forms as kernel. This exact sequence says that two connections on the same principal $\mathrm{U}(1)$-bundle differ by a global connection form (up to an integral form).
    \end{property}

\subsection{Combining singular and de Rham cohomology}

    There is an alternative to the Cheeger-Simons approach. Let $C^n$ and $Z^n$ again denote the smooth cochain and cocycle groups.
    \newdef{Differential cocycle}{
        A tuple $(c,h,\omega)\in C^n(M;\mathbb{Z})\times C^{n-1}(M)\times\Omega^n(M)$ such that
        \begin{align}
            \delta c &= 0\\
            \dr\omega &= 0\\
            \delta h &= \omega-c.
        \end{align}
        A differential cocycle thus consists of a singular cocycle (topological information) and a de Rham cocycle (differential information), that are equal up to a (singular) coboundary.

        The cochain complex $C^n(M;\mathbb{Z})\times C^{n-1}(M)\times\Omega^n(M)$ with differential
        \begin{gather}
            \dr:(c,h,\omega)\mapsto(\delta c,\omega-c-\delta h,\dr\omega)
        \end{gather}
        defines a cohomology theory $\hat{H}(n)^\bullet(M)$.
    }
    \begin{property}[Relation to differential characters]\index{monodromy}
        Differential characters and differential cocycles are related as follows:
        \begin{gather}
            \hat{H}^k(M)\cong\hat{H}(k)^k(M).
        \end{gather}
        Given a differential cocycle $(c,h,\omega)$, the curvature and characteristic class of the associated differential character are $\omega$ and $c$, respectively. The function $e^{2\pi ih}$ is called the \textbf{monodromy} of the cocycle. It can be checked that Equation \eqref{bundle:characteristic_class} is exactly the third relation in the definition of cocycles above. The $\bmod\,\mathbb{Z}$-reduction of $h$ gives the differential character associated to the cocycle.
    \end{property}

    \begin{example}
        The first ordinary differential cohomology group $\hat{H}^1(M;\mathbb{Z})$ is isomorphic to the group of smooth functions $C^\infty(M;\mathrm{U}(1))$.
    \end{example}

\subsection{Deligne cohomology}

    The following theorem states that the differential characters are essentially the unique objects with these properties and that they define a generalized cohomology theory:
    \begin{theorem}[Simons-Sullivan]\index{Simons-Sullivan}
        There is an essentially unique functor \[\hat{H}^\bullet(-;\mathbb{Z}):\mathbf{Diff}\rightarrow\mathbf{Ab}^{\mathbb{Z}}\] such that there exist four natural transformations
        \begin{enumerate}
            \item\emph{\textbf{Flat class}:} $j:H^{\bullet-1}(-;\mathrm{U}(1))\rightarrow\hat{H}^\bullet(-;\mathbb{Z})$,
            \item\emph{\textbf{Topological trivialization}:} $\iota:\Omega^{\bullet-1}/\Omega^{\bullet-1}_\mathrm{int}\rightarrow\hat{H}^\bullet(-;\mathbb{Z})$,
            \item\emph{\textbf{Characteristic class}:} $\mathrm{ch}:\hat{H}^\bullet(-;\mathbb{Z})\rightarrow H^\bullet(-;\mathbb{Z})$, and
            \item\emph{\textbf{Curvature}:} $\mathrm{curv}:\hat{H}^\bullet(-;\mathbb{Z})\rightarrow\Omega^\bullet_\mathrm{int}$
        \end{enumerate}
        that fit in the following commutative diagram, where the diagonal sequences are exact:
        \begin{gather*}
            \begin{tikzpicture}
                \node (01) at (0,0) {$0$};
                \node (02) at (10,0) {$0$};
                \node (03) at (10,-5) {$0$};
                \node (04) at (0,-5) {$0$};
                \node (beta0) at (2.5,-1.25) {$H^{\bullet-1}(-;\mathrm{U}(1))$};
                \node (beta1) at (7.5,-1.25) {$H^\bullet(-;\mathbb{Z})$};
                \node (dR) at (0,-2.5) {$H^{\bullet-1}_\mathrm{dR}$};
                \node (char) at (5,-2.5) {$\hat{H}^\bullet(-;\mathbb{Z})$};
                \node (dR2) at (10,-2.5) {$H^\bullet_\mathrm{dR}$};
                \node (quot) at (2.5,-3.75) {$\Omega^{\bullet-1}/\,\Omega^{\bullet-1}_\mathrm{int}$};
                \node (int) at (7.5,-3.75) {$\Omega^\bullet_\mathrm{int}$};
                \draw[->] (01) -- (beta0);
                \draw[->] (beta0) -- node[below left]{\footnotesize j} (char);
                \draw[->] (char) -- node[above right]{\emph{\footnotesize curv}} (int);
                \draw[->] (int) -- (03);
                \draw[->] (04) -- (quot);
                \draw[->] (quot) -- node[above left]{$\iota$} (char);
                \draw[->] (char) -- node[below right]{\emph{\footnotesize ch}} (beta1);
                \draw[->] (beta1) -- (02);
                \draw[->] (beta0) -- node[above]{\emph{\footnotesize Bockstein}} (beta1);
                \draw[->] (quot) -- node[below]{$\dr$} (int);
                \draw[->] (dR) -- (beta0);
                \draw[->>] (dR) -- (quot);
                \draw[->] (beta1) -- node[above right]{\emph{\footnotesize de Rham}}(dR2);
                \draw[right hook->] (int) -- (dR2);
            \end{tikzpicture}
        \end{gather*}
    \end{theorem}
    Functors satisfying the above properties are said to define \textbf{ordinary differential cohomology theories}.

    Another approach to differential cohomology is given by the Deligne complex.
    \newdef{Deligne complex}{
        Let $\mathbf{B}^k\mathrm{U}(1)_\text{conn}$ denote the cochain complex
        \begin{gather}
            \mathcal{O}_M^\times\overset{\dr\log}{\longrightarrow}\Omega^1\overset{\dr}{\longrightarrow}\cdots\overset{\dr}{\longrightarrow}\Omega^k.
        \end{gather}
        (Smooth) Deligne cohomology is defined as follows:
        \begin{gather}
            H^{k+1}_D(M;\mathbb{Z}) := \check{H}^0(M;\mathbf{B}^k\mathrm{U}(1)_\text{conn}),
        \end{gather}
        where $\check{H}^\bullet$ denotes \v{C}ech cohomology \ref{sheaf:cech} and the cochain complex $\mathbf{B}^k\mathrm{U}(1)_\text{conn}$ is turned into a cochain complex by inverting the degrees.
    }

    \begin{property}[Deligne-Beilinson product]\index{Deligne-Beilinson product}
        Consider the Deligne complex for two integers $k,l\in\mathbb{N}$. There exists a cup product
        \begin{gather}
            \cup:\mathbf{B}^k\mathrm{U}(1)_\text{conn}\otimes\mathbf{B}^l\mathrm{U}(1)_\text{conn}\rightarrow\mathbf{B}^{k+l+1}\mathrm{U}(1)_\text{conn}:x\otimes y\mapsto x\cup y:=
            \begin{cases}
                x\wedge\dr y&\deg(y)=l\\
                0&\text{otherwise}.
            \end{cases}
        \end{gather}
    \end{property}

    \begin{example}[Circle bundles]
        A (\v{C}ech-)Deligne cocycle in degree 2 consists of data $(A_i,g_{ij})$ such that
        \begin{gather*}
            \begin{tikzpicture}
                \node (A) at (0,0) {${A_i}$};
                \node (AA) at (2,0) {$A_i-A_j$};
                \node (dlog) at (3.6,0) {$=\dr\log g_{ij}$} (4.4,0) node[right]{$=g^{-1}_{ij}\dr g_{ij}$};
                \node (g) at (3.6,-2) {${g_{ij}}$};
                \node (ggg) at (6.2,-2) {$g_{jk}g^{-1}_{ki}g_{ij}=1,$};
                \draw[right hook->] (A) -- (AA);
                \draw[->] (g) -- node[right]{$\dr\log$} (dlog);
                \draw[right hook->] (g) -- (ggg);
            \end{tikzpicture}
        \end{gather*}
        where the inclusion arrows denote the restriction to intersections $U_{ij}:=U_i\cap U_j$. Property \ref{bundle:compatibility_connection} and the subsequent example, specialized in the case of $\mathrm{U}(1)$-bundles, show that the above data are exactly the components of a princpal circle bundle with connection.
    \end{example}
    \remark{As was the case for differential characters, higher Deligne cohomology classes classify higher $\mathrm{U}(1)$-bundles with connection. The main benefit of this approach is that one gets an ``explicit'' description of the local data. See \cite{hitchin_gerbes} for a good introduction.}

    \begin{remark}[Trivial bundles and twisted bundles]
        From \v{C}ech-Deligne cohomology, one knows that a trivial $k$-bundle $\alpha$ is defined by a $(k-1)$-cochain $\beta$ such that
        \begin{gather}
            (\delta\beta)_{i_0\ldots i_k} = \alpha_{i_0\ldots i_k}\,,
        \end{gather}
        i.e.~a trivial $k$-bundle is equivalent to a twisted $(k-1)$-bundle.
    \end{remark}

    ?? COMPLETE ??

\section{Cartan connections}\label{section:cartan_geometry}

    In the first part of this section a short overview of Klein's \textbf{Erlangen program} that unifies (and generalizes) Euclidean and non-Euclidean geometries will be given. In the second part of this section Cartan's generalization in terms of bundle theory is explained. A reference for this section is \cite{sharpe}.\index{Erlangen program}

\subsection{Klein geometry}

    \newdef{Klein geometry}{\index{Klein!geometry}
        Consider a Lie group $G$ together with a closed subgroup $H$. If it is connected, the orbit space $G/H$ is called a Klein geometry and $G$ is called the \textbf{principal group}. If the principal space is also connected, the Klein geometry is said to be \textbf{geometrically oriented}.

        If the associated Lie algebras are denoted by $\mathfrak{g},\mathfrak{h}$ respectively, the pair $(\mathfrak{g},\mathfrak{h})$ is called a \textbf{Klein pair}. In fact, any pair $(\mathfrak{g},\mathfrak{h}\leq\mathfrak{g})$ can be called a Klein pair.
    }
    \begin{property}
        It is clear that every Klein geometry gives a homogeneous space and, hence, a principal bundle of rank $\dim(G)-\dim(H)$.
    \end{property}
    \newdef{Effective Klein pair}{
        The action of $G$ on $G/H$ is not necessarily effective, i.e.~the kernel
        \begin{gather}
            \ker(\rho)=\{x\in G\mid\forall g\in G:g^{-1}xg\in H\}\,,
        \end{gather}
        is not necessarily trivial. If it is, the Klein geometry is said to be effective. In terms of the associated Klein pair this means that $\mathfrak{h}$ contains no nontrivial ideals of $\mathfrak{g}$. A Klein geometry is said to be locally effective if the kernel is discrete.
    }
    \newdef{Reductive Klein pair}{\index{reductive}\label{bundle:klein_reductive}
        A Klein pair $(\mathfrak{g},\mathfrak{h})$ is said to be reductive if $\mathfrak{g}$ admits a decomposition of the form
        \begin{gather}
            \mathfrak{g} = \mathfrak{h} + \mathfrak{m}\,,
        \end{gather}
        where $\mathfrak{m}$ is an $\mathfrak{h}$-module.
    }

    \begin{example}[Euclidean space]
        Consider the Euclidean group $\mathrm{Euc}(n):=\mathbb{R}^n\rtimes\mathrm{O}(n)$, i.e.~the symmetry group of the Euclidean space $\mathbb{R}^n$. This group clearly acts transitively and the subgroup $\mathrm{O}(n)$ can be seen to leave the origin fixed. This implies that $\mathbb{R}^n$ is a homogenous space and even a Klein geometry of the form $\mathrm{Euc}(n)/\mathrm{O}(n)$.
    \end{example}

    \newdef{Model geometry}{\index{model!geometry}
        A model geometry consists of the following data:
        \begin{itemize}
            \item an effective Klein pair $(\mathfrak{g},\mathfrak{h})$,
            \item a Lie group $H$ such that $\mathrm{Lie}(H)=\mathfrak{h}$, and
            \item a representation $\mathrm{Ad}:H\rightarrow\Aut(\mathfrak{g})$ that restricts to the adjoint representation $\mathrm{Ad}_H:H\rightarrow\Aut(\mathfrak{h})$.
        \end{itemize}
    }
    \newdef{Local Klein geometry}{
        A local Klein geometry consists of the following data:
        \begin{itemize}
            \item a Lie group $G$,
            \item a closed subgroup $H\subset G$, and
            \item a subgroup $\Gamma\subset G$ acting by covering transformations on $G/H$ such that the left coset space $\Gamma\backslash G/H$ is connected.
        \end{itemize}
    }

\subsection{Cartan geometry}

    The definition of a Klein geometry can be rephrased in the language of bundle theory. First, an alternative characterization of Lie groups in terms of the Maurer-Cartan connection is given:
    \begin{adefinition}[Lie group]\index{Lie!group}\index{complete!connection}
        Let $M$ be a smooth manifold and let $\mathfrak{g}$ be a Lie algebra. Assume that $M$ comes equipped with a $\mathfrak{g}$-valued one-form $\omega$ satisfying the following conditions:
        \begin{enumerate}
            \item\textbf{Maurer-Cartan equation}: $\dr\omega + \frac{1}{2}[\omega,\omega]=0$,
            \item\textbf{Soldering}: $\omega$ restricts to an isomorphism on every fibre, and
            \item\textbf{Completeness}: $\omega$ is complete, i.e.~every vector field that maps constantly to $\mathfrak{g}$ is complete.
        \end{enumerate}

        ?? FIX THIS PROPERTY ??
    \end{adefinition}

    In a similar way Klein geometries can be characterized as follows:
    \begin{property}
        The bundle $\pi:G\rightarrow G/H$ of a Klein geometry $G/H$ admits a one-form $\omega:TG\rightarrow\mathfrak{g}$ that satisfies the following conditions:
        \begin{itemize}
            \item $\omega$ restricts to an isomorphism on each fibre.
            \item $\omega$ is $H$-equivariant: $R_h^*\omega = \mathrm{Ad}(h^{-1})\omega$.
            \item $\omega$ cancels $\mathfrak{h}$-fundamental vector fields: $\omega(A^\#)=A$ for all $A\in\mathfrak{h}$.
            \item $\omega$ satisfies the Maurer-Cartan equation.
            \item $\omega$ is complete.
        \end{itemize}
    \end{property}
    The second and third conditions show that $\omega$ defines a principal connection one-form, while the fourth condition states that this connection is flat. In fact this one-form is exactly the Maurer-Cartan form on $G$, where conditions 3 and 4 are obtained by restricting to the subgroup $H\subset G$.

    By dropping the flatness and completeness conditions, one obtain the notion of Cartan connections:
    \newdef{Cartan geometry}{\index{Cartan!geometry}
        Consider a principal $H$-bundle $\pi:P\rightarrow M$ and a Lie algebra $\mathfrak{g}$ such that $\mathfrak{h}\leq\mathfrak{g}$ (in general it is assumed that these form a model geometry). A Cartan geometry is defined by a one-form $\omega:TP\rightarrow\mathfrak{g}$ satisfying the following conditions:
        \begin{enumerate}
            \item $\omega$ restricts to an isomorphism on each fibre.
            \item $\omega$ is $H$-equivariant.
            \item $\omega$ cancels $\mathfrak{h}$-fundamental vector fields: $\omega(A^\#)=A$ for all $A\in\mathfrak{h}$.
        \end{enumerate}
        The form $\omega$ is called the Cartan connection.
    }
    \newdef{Curvature}{\index{curvature}
        By analogy with the Maurer-Cartan condition and the Cartan structure equation \ref{bundle:cartan_structure_equation}, the curvature of a Cartan connection is defined as follows:
        \begin{gather}
            \Omega := \dr\omega + \frac{1}{2}[\omega\wedge\omega].
        \end{gather}
    }

    By restricting to reductive model spaces an important decomposition of the Cartan connection is obtained:
    \begin{property}
        Consider a Cartan geometry $\pi:P\rightarrow M$ with a reductive model space $(\mathfrak{g},\mathfrak{h})$ such that the Cartan connection can be decomposed as $\omega=\omega_{\mathfrak{h}}+\omega_{\mathfrak{m}}$. This decomposition has the following important properties:
        \begin{itemize}
            \item The form $\omega_\mathfrak{h}$ defines a principal connection on the Cartan geometry $P$.
            \item The form $\omega_\mathfrak{m}$ defines a solder form on $M$.
            \item The decomposition of the associated curvature form $\Omega$ gives the curvature and torsion of the induced principal connection and solder forms respectively.
        \end{itemize}
        Furthermore, the Cartan geometry $\pi:P\rightarrow M$ gives a reduction of the frame bundle $FM$ induced by the solder form $\omega_\mathfrak{m}$.
    \end{property}
    ?? COMPLETE ??

\section{\texorpdfstring{$\mathcal{D}$-geometry $\clubsuit$}{D-geometry}}

    \newdef{Sheaf of differential operators}{
        \nomenclature[S_DX]{$\mathcal{D}_X$}{sheaf of differential operators}
        Let $X$ be a smooth manifold (or variety, see Chapter \ref{chapter:alggeom}) and denote its structure sheaf by $\mathcal{O}_X$. $\mathcal{D}_X$ denotes the sheaf of $\mathcal{O}_X$-algebras of vector fields (as derivations) on $X$:
        \begin{gather}
            \mathcal{D}_X(U) := \{v\in\End(\mathcal{O}_X(U))\mid v(fg) = v(f)g + fv(g)\}.
        \end{gather}
    }

    \newdef{$\mathcal{D}_X$-module}{
        An $\mathcal{O}_X$-module equipped with an action of $\mathcal{D}_X$. This is equivalent to a linear map
        \begin{gather}
            \nabla:\mathcal{D}_X\rightarrow\End(\mathcal{O}_X)
        \end{gather}
        satisfying the following properties:
        \begin{enumerate}
            \item\textbf{$\mathcal{O}_X$-linearity}: $\nabla_{fv}\sigma=f\nabla_v\sigma$,
            \item\textbf{Leibniz rule}: $\nabla_v(f\sigma) = v(f)\sigma + f\nabla_v\sigma$, and
            \item\textbf{Flatness}: $\nabla_{[v,w]}\sigma = [\nabla_v,\nabla_w]\sigma$.
        \end{enumerate}
        If $X$ is \textit{locally free}, i.e.~corresponds to a locally trivial manifold (or bundle), one obtains the algebraic reformulation of a vector bundle with flat connection.
    }
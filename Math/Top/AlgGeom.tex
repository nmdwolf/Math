\chapter{Algebraic Geometry}\label{chapter:alggeom}

    References for this chapter are~\citet{gathmann_algebraic_2019,mumford_red_1999}. For the basics on ring theory, ideals and algebraic dependence, see \cref{section:ring} and \cref{section:algebraic_numbers}. In order to not confuse the letter $k$, often used for fields, with various indices and dimensions, fields will be denoted by the capital letter $K$.

\section{Varieties}\label{section:varieties}

    From here on $K$ is assumed to be an algebraically closed field. For notational simplicity and to differentiate between $K^n$ as a vector space and as a set, the notion of an affine space is introduced.
    \newdef{Affine space}{\index{affine!space}
        $\mathbb{A}^n$ is defined as the underlying set of the vector space $K^n$:
        \begin{gather}
            \mathbb{A}^n := \bigl\{(a_1,\ldots,a_n)\in K^n\bigr\}.
        \end{gather}
    }

    \newdef{Algebraic set}{\index{algebraic!set}\index{irreducible!algebraic set}\index{variety}\label{alggeom:variety}
        Consider a finite set of polynomials in $K[x_1,\ldots,x_n]$. It is not hard to show that the zero locus of these polynomials depends only on the ideal spanned by them and, hence, one can define the algebraic set associated to an ideal $I\subseteq K[x_1,\ldots,x_N]$ to be
        \begin{gather}
            V(I) := \bigl\{(a_1,\ldots,a_n)\in\mathbb{A}^n\bigm\vert\forall f\in I:f(a_1,\ldots,a_k)=0\bigr\}\,.
        \end{gather}
        A set $S\in\mathbb{A}^n$ is said to be an \textbf{(affine)} algebraic set if there exists an ideal $I$ such that $S=V(I)$. An algebraic set $S\in\mathbb{A}^n$ is said to be \textbf{irreducible} if it is not the union of two strictly smaller algebraic sets. Irreducible algebraic sets are also called \textbf{affine varieties}.
    }
    \sremark{Some authors such as~\citet{gathmann_algebraic_2019} make no distinction between general algebraic sets and affine varieties.}

    \begin{property}\index{Hilbert!basis theorem}
        By Hilbert's basis theorem one can express any algebraic set as the zero locus of a finite number of polynomials.
    \end{property}

    Given an algebraic set $S$, the set $I(S)$ is defined as the ideal of polynomials that vanish on $S$. The following theorem gives an important relation between algebraic sets and ideals.
    \begin{theorem}[Hilbert's Nullstellensatz]\index{Hilbert!Nullstellensatz}\index{Nullstellensatz|seealso{Hilbert}}
        Let $J$ be an ideal in $K[x_1,\ldots,x_n]$ and let $\sqrt{J}$ denote its radical.
        \begin{gather}
            I(V(J)) = \sqrt{J}
        \end{gather}
    \end{theorem}
    Similar to the case of the weak Nullstellensatz, one obtains the following result
    \begin{result}
        There exists a bijection between the algebraic subsets of $\mathbb{A}^n$ and the radical ideals in $K[x_1,\ldots,x_n]$. The irreducible algebraic sets correspond to the prime ideals (by the \textit{Noetherian decomposition theorem}).
    \end{result}

    \newdef{Morphism of varieties}{\index{morphism!of varieties}
        Let $V_1\subset\mathbb{A}^{n_1},V_2\subset\mathbb{A}^{n_2}$ be two affine varieties. A morphism $\varphi:V_1\rightarrow V_2$ is a function that can be expressed in the following way:
        \begin{gather}
            \varphi(x_1,\ldots,x_{n_1}) = \bigl(f_1(x_1,\ldots,x_{n_1}),\ldots,f_{n_2}(x_1,\ldots,x_{n_1})\bigr)\,,
        \end{gather}
        where $f_i\in K[x_1,\ldots,x_{n_1}]$ for all $i\leq n_2$.
    }
    A closely related notion is that of rational maps:
    \newdef{Rational map}{\index{rational!map}\index{dominant}\index{bi-!rational|see{rational}}
        Consider two affine varieties $X,Y$. A rational map $f:X\rightarrow Y$ is an equivalence class of pairs $(U,f_U)$, where $U$ is a nonempty open subset and $f_U:U\rightarrow Y$ is a morphism of varieties, under the following relation: $(U,f_U)\sim(V,f_V)$ if and only if $f_U=f_V$ on a nonempty subset of $U\cap V$.

        A rational map is said to be \textbf{dominant} if for one of its representatives $(U,f)$ the image $f(U)$ is dense. Dominance of rational maps assures that their composition exists and is well-defined.

        A rational map $f:X\rightarrow Y$ is said to be \textbf{birational} if it is dominant and if there exists a rational map $g:Y\rightarrow X$ such that $f\circ g=\mathbbm{1}_Y$ and $g\circ f=\mathbbm{1}_X$.
    }

    \newdef{Coordinate ring}{\index{coordinate!ring}\index{function!field}\index{rational!function}\label{alggeom:coordinate_ring}
        Consider the polynomial ring $K[x_1,\ldots,x_n]$ and let $V$ be an algebraic set in $\mathbb{A}^n$. The coordinate ring (or \textbf{affine ring}) of $V$ is defined as the following quotient:
        \begin{gather}
            \Gamma(V) := K[x_1,\ldots,x_n]/I(V)\,.
        \end{gather}
        The elements of this ring are the $K$-valued polynomials in the coordinates on $V$.

        If $V$ is irreducible it follows from the Nullstellensatz that $I(V)$ is a prime ideal and, hence, that $\Gamma(V)$ is an integral domain. This property allows to construct the field of fractions (\cref{algebra:fraction_field}). This field is called the \textbf{function field} of $V$ and is denoted by $K(V)$. The elements of $K(V)$ are called the \textbf{rational functions} on $V$. It can be shown that the rational functions are exactly the rational maps $V\rightarrow\mathbb{A}^1$.
    }

    It should be noted that every morphism of varieties induces a $K$-morphism on the associated affine rings by precomposition. This gives rise to the following property.
    \begin{property}[Finitely generated algebras]\label{alggeom:variety_domain_equivalence}
        $\Gamma$ gives an equivalence between the category of algebraic sets and the category of finitely-generated (reduced) $K$-algebras. This equivalence passes to an equivalence between the subcategories on affine varieties and integral domains.
    \end{property}

    \newdef{Dimension}{\index{dimension!of variety}\index{Krull!dimension}
        The dimension of an affine variety is given by the \textbf{Krull dimension} of its coordinate ring, i.e.~the maximum length of a chain of prime ideals in $\Gamma(X)$:
        \begin{gather}
            \dim(X) := \sup_{n\in\mathbb{N}}(\exists\,\mathfrak{p}_0\subsetneq\mathfrak{p}_1\subsetneq\cdots\subsetneq\mathfrak{p}_n)\,.
        \end{gather}
        By the Nullstellensatz this is equivalent to the maximum length of chains of irreducible algebraic subsets.

        The \textbf{local dimension} $\dim_p(X)$ of a point $p\in X$ is defined in a similar way, with the start of the chains fixed at $\{p\}$. One then obtains
        \begin{gather}
            \dim(X) = \max_{p\in X}\dim_p(X)\,.
        \end{gather}
    }

\subsection{Topology}

    A topology on an affine variety can be constructed in the following way.
    \newdef{Zariski topology}{\index{Zariski!topology}
        A set in $\mathbb{A}^n$ is deemed closed exactly if it is an algebraic set. A basis for this topology is given by the complements of zero loci $B_f=\{x\in\mathbb{A}^n\mid f(x)\neq 0\}$ for $f\in K[x_1,\ldots,x_n]$. This topology turns an affine variety into an irreducible space.

        On an algebraic subset $V\subset\mathbb{A}^n$ one defines the Zariski topology as the induced topology of the one on $\mathbb{A}^n$. A basis for this induced Zariski topology is given by the sets $B_f$ as above, but where $f$ is now an element of $\Gamma(V)$.
    }

    The following property shows that the Zariski topology is very different from the topologies that occur in, for example, analysis.
    \begin{property}[Density]
        Any open subset of an affine variety is dense.
    \end{property}

    By dualizing one can focus on the coordinate rings and construct varieties as a derived notion. In this approach the main tool is the structure sheaf of a variety. From here on the content of \cref{chapter:sheaf} on sheaf theory will become a prerequisite.
    \newdef{Structure sheaf}{\index{structure!sheaf}\index{regular!function}\label{alggeom:structure_sheaf}
        Consider an affine variety $X$ with its associated coordinate ring $\Gamma(X)$. For any point $x\in X$ one can consider the set of functions $m_x\subset\Gamma(X)$ that vanish at $x$. This is a prime ideal, so one can construct a localization:
        \begin{gather}
            \mathcal{O}_x := \Gamma(X)_{m_x} = \{f/g\mid f,g\in\Gamma(X)\land g(x)\neq0\}\,.
        \end{gather}
        For every open subset $U\subset X$ one can then define the ring of functions on $U$ as follows:
        \begin{gather}
            \mathcal{O}_X(U) := \bigcap_{x\in U}\mathcal{O}_x\,.
        \end{gather}
        $\mathcal{O}_X$ is a sheaf with stalks given by $\mathcal{O}_x$. By \cref{algebra:localization_local_ring} all stalks $\mathcal{O}_x$ are local rings and, hence, $(X,\mathcal{O}_X)$ is a locally ringed space (\cref{sheaf:locally_ringed_space}). The residue field of these local rings is equal to the base field $K$. The elements of $\mathcal{O}_X(U)$ are called the \textbf{regular functions} on $U$.

        This construction can be made more explicit. A map $\varphi:X\rightarrow K$ is said to be regular at a point $x\in X$ if there exists an open neighbourhood $U\ni x$ and polynomials $f,g\in\Gamma(X)$ such that $g\neq0$ and $\varphi=f/g$ on $U$. As for continuous functions, the map $\varphi$ is said to be regular on $X$ if it is regular at every point $x\in X$.
    }

    \begin{property}
        Let $f\in\Gamma(X)$ be a function on $X$ and consider the basis set $B_f$, i.e.~the complement of the zero locus of $f$. The structure sheaf assigns localizations to basis sets:
        \begin{gather}
            \mathcal{O}_X(B_f) = \Gamma(X)_f\,,
        \end{gather}
        where $\Gamma(X)_f$ denotes the localization (\cref{algebra:localization_notation}) of $\Gamma(X)$ at $f$. In particular
        \begin{gather}
            \Gamma(X,\mathcal{O}_X) = \Gamma(X)\,,
        \end{gather}
        where on the left-hand side $\Gamma$ denotes the global sections functor \ref{sheaf:global_sections_functor}. This property explains the notation $\Gamma(X)$ introduced before.
    \end{property}
    \remark{Both $\mathcal{O}_X(U)$ and $\mathcal{O}_x$ are subrings of the function field $K(X)$.}

    \newadef{Affine variety}{\index{variety!affine}
        A topological space $X$ equipped with a sheaf $\mathcal{F}$ of $K$-valued functions such that $X$ is isomorphic to an irreducible algebraic set $\Sigma$ and such that $\mathcal{F}$ is isomorphic to the structure sheaf $\mathcal{O}_X$. An open subset of an affine variety is sometimes called a \textbf{quasi-affine variety}.
    }
    Using the notion of a regular function, the definition of a morphism of affine varieties can be restated.
    \newadef{Morphism}{\index{morphism!of varieties}
        A continuous function between affine varieties $f:X\rightarrow Y$ such that precomposition by $f$ preserves regular functions.
    }

    \begin{property}[Identity theorem]
        If two regular maps coincide on a nonempty open subset, they are equal.
    \end{property}

    \newdef{Generic stalk}{\index{stalk!generic}
        For the construction of the stalk of the structure sheaf over a point $x\in X$ one takes a direct limit over all open sets containing $x$. This way the local ring $\Gamma(X)_{m_x}$ is obtained. Moreover, this is a subring of the field of fractions $K(X)$ of $\Gamma(X)$ (\cref{algebra:fraction_field}). Now, using a similar definition, one can recover all of $K(X)$.

        Instead of taking a direct limit over the open sets containing a certain point $x\in X$, take a direct limit over all open sets in $X$:
        \begin{gather}
            \mathcal{O}_{\tilde{x}} := \varinjlim_{U\subset X}\mathcal{O}_X(U)\,.
        \end{gather}
        This stalk is called the generic stalk of $X$ and it is isomorphic to $K(X)$.
    }

    \newdef{\'Etale morphism over algebraically closed fields}{\index{etale!morphism}\label{alggeom:etale_morphism_variety}
         A morphism $f:X\rightarrow Y$, where both $X$ and $Y$ are affine varieties over an algebraically closed field, is said to be formally \'etale if the induced maps $\widehat{\mathcal{O}}_{f(x)}\rightarrow\widehat{\mathcal{O}}_x$ on the completion (\cref{algebra:ring_completion}) of local rings are isomorphisms.
    }

\subsection{Varieties}

    \newdef{Prevariety}{\index{pre-!variety}
        A connected locally ringed space that admits a finite cover by affine spaces.
    }

    \begin{remark}
        It can be shown that every prevariety $X$ is irreducible and, hence, the open sets form a direct system. This way one can define the \textbf{generic stalk} of an arbitrary sheaf $\mathcal{F}$, as in the case of affine varieties. For the structure sheaf $\mathcal{O}_X$ this generic stalk is called the \textbf{function field} $K(X)$. It coincides with the function field of every open affine subset of $X$.
    \end{remark}

    \begin{construct}[Gluing]\label{alggeom:gluing}
        Consider two prevarieties $X,Y$ together with an isomorphism $f:U\cong W$ between open subsets $U\subset X,V\subset Y$. The prevarieties can be glued together along $f$ as follows. First, build the attaching space (\cref{topology:attaching_space}) $U\cup_fY$ with its canonical topology. Then, define the regular functions on a subset to be those that come from regular functions on (subsets of) $X$ and $Y$.
    \end{construct}

    \newdef{Variety\footnotemark}{\index{variety}\label{alggeom:abstract_variety}
        \footnotetext{Sometimes also called a \textbf{separated prevariety}.}
        A prevariety $X$ for which the diagonal $\Delta_X$ is closed in $X\times X$. It should be noted that every affine variety is a variety, but not the other way around.
    }
    \begin{remark}
        The motivation for this definition is \cref{topology:hausdorff}. In general topology it is well-known that a lot of pathological spaces can be excluded by restricting to Hausdorff spaces, i.e.~spaces where distinct points admit disjoint neighbourhoods. Because open subsets of irreducible spaces have nonempty intersections, this property is sadly enough not very useful in the study of varieties. However, the equivalent definition using closedness of the diagonal remains useful if one does not consider the product topology on $X\times X$, but instead uses the `gluing'-topology from \cref{alggeom:gluing} above.
    \end{remark}

    The following two closure properties are very important.
    \begin{property}\label{alggeom:closed_graph}
        Consider a prevariety morphism $f:X\rightarrow Y$, where $Y$ is a variety. The graph of $f$ is closed in $X\times Y$.
    \end{property}
    \begin{property}
        Consider two prevariety morphisms $f,g:X\rightarrow Y$ where $Y$ is a variety. The set on which $f$ and $g$ coincide is closed in $X$.
    \end{property}

\subsection{Projective varieties}

    \newdef{Projective space}{\index{projective!space}\label{alggeom:projective_space}
        Consider the vector space $K^n$. The projective space $\mathbb{P}_{n-1}(K)$ or $K\mathbb{P}^{n-1}$ is defined as the quotient of $K^n$ under the following equivalence relation:
        \begin{gather}
            (x_1,\ldots,x_n)\sim(y_1,\ldots,y_n)\iff\exists\lambda\in K^\times:\forall i\leq n:x_i=\lambda y_i\,.
        \end{gather}
        The equivalence class of a vector $(x_1,\ldots,x_n)$ is denoted by $[x_1:\cdots:x_n]$. Because the numbers characterizing an equivalence class are only determined up to a common factor, the coordinates $x_1,\ldots,x_n$ are called \textbf{homogeneous coordinates}.
    }

    Consider the subset \[K_{\text{hom}}[x_0,\ldots,x_n]\subset K[x_0,\ldots,x_n]\] consisting of all homogeneous polynomials. The definition of projective space implies that \[\forall f\in K_{\text{hom}}[x_0,\ldots,x_n]:f(\lambda x_0,\ldots,\lambda x_n) = 0\iff f(x_0,\ldots,x_n) = 0\] and, hence, that the zero loci of homogeneous polynomials are well-defined subsets of the projective space $\mathbb{P}_n(K)$.
    \newdef{Projective algebraic set}{\index{algebraic!set}\index{Zariski!topology}
        As in the case of affine algebraic sets one can define two operations. Let $I$ be a homogeneous ideal, i.e.~an ideal in $K[x_0,\ldots,x_n]$ that is generated by homogeneous polynomials. The projective algebraic set $V_{\mathbb{P}}(I)$ is defined as the zero locus of $I$:
        \begin{gather}
            V_{\mathbb{P}}(I) := \bigl\{x\in\mathbb{P}_n(K)\bigm\vert\forall f\in I:f(x)=0\bigr\}\,.
        \end{gather}
        Given a projective algebraic set $V\in\mathbb{P}_n(K)$, one can define the ideal $I_{\mathbb{P}}(V)$ as follows:
        \begin{gather}
            I_{\mathbb{P}}(V) := \bigl(f\in K_{\text{hom}}[x_0,\ldots,x_n]\mid\forall x\in V:f(x)=0\bigr)\,,
        \end{gather}
        i.e.~the ideal $I_{\mathbb{P}}(V)$ is generated by all homogeneous polynomials that vanish on $V$. The \textbf{Zariski topology} on $\mathbb{P}_n(K)$ is defined such that the closed sets are exactly the projective algebraic sets.
    }

    \begin{theorem}[Projective Nullstellensatz]\index{Nullstellensatz}
        For all homogeneous ideals $I$, except $I_0:=(x_1,\ldots,x_n)$, one has:
        \begin{gather}
            I_{\mathbb{P}}\bigl(V_{\mathbb{P}}(I)\bigr) = \sqrt{I}\,.
        \end{gather}
    \end{theorem}
    \begin{result}
        As before this implies that there exists a bijection between the projective algebraic sets in $\mathbb{P}_n(K)$ and the homogeneous radical ideals (except for $I_0$) in $K[x_0,\ldots,x_n]$.
    \end{result}

    \newdef{Coordinate ring}{\index{coordinate!ring}
        As for affine algebraic sets, the coordinate ring of a projective algebraic set $V$ is defined as the quotient
        \begin{gather}
            \Gamma(V) := K[x_0,\ldots,x_n]/I_{\mathbb{P}}(V)\,.
        \end{gather}
    }

    The construction of regular functions on affine varieties (\cref{alggeom:structure_sheaf}) cannot be extended to projective spaces in a straightforward manner. Consider for example a polynomial $f\in K[x_0,\ldots,x_n]$. This polynomial does not form a well-defined function on a projective algebraic set $V_{\mathbb{P}}(I)\subset\mathbb{P}_n(K)$ even if $f$ is homogeneous, since changing the homogeneous coordinates on $V_{\mathbb{P}}(I)$ changes the value of $f$ (only the zero locus is invariant). However, the ratio of two homogeneous polynomials of the same degree does form a well-defined function on $V_{\mathbb{P}}(I)$.

    Since the ideal $I$ is homogeneous, the quotient $R:=K[x_0,\ldots,x_n]/I$ is a graded algebra. Denote by $K(X)$ the zeroth order part of the localization of $R$ by the homogeneous elements:
    \begin{gather}
        K(X) := \{f/g\mid\exists n\in\mathbb{N}:f,g\in R_n\}\,.
    \end{gather}
    Now, although an element $f\in R_n$ does not give a well-defined function on $X$, the property $f(x)\neq0$ is preserved under rescaling. Hence, one can define a ring $\mathcal{O}_x$ as before:
    \begin{gather}
        \mathcal{O}_x := \{f/g\in K(X)\mid g(x)\neq 0\}\,.
    \end{gather}
    This ring has a maximal ideal $I_x = \{f/g\in K(X)\mid f(x)=0,g(x)\neq 0\}$ such that all elements in $\mathcal{O}_x$ are invertible and, by \cref{algebra:local_ring_invertible}; $\mathcal{O}_x$ is a local ring. One can then construct a sheaf $\mathcal{O}_X$ using the same procedure as for affine varieties to turn a projective space into a locally ringed space:
    \begin{gather}
        \mathcal{O}_X(U) = \bigcap_{x\in U}\mathcal{O}_x\,.
    \end{gather}

    \begin{property}[Variety]
        For every projective variety $X\subset\mathbb{P}_n(K)$ the pair $(X, \mathcal{O}_X)$ is locally isomorphic to an affine variety and as such every projective variety is in particular a variety in the sense of \cref{alggeom:abstract_variety}.
    \end{property}
    \begin{property}[$\mathbb{A}^n$ in $\mathbb{P}_n(K)$]
        Consider the affine variety $\mathbb{A}^n$. This set admits a bijective mapping onto an open subset of $\mathbb{P}_n(K)$ as follows:
        \begin{gather}
            \varphi:\mathbb{A}^n\rightarrow U_0:(x_1,\ldots,x_,n)\mapsto[1:x_1:\cdots:x_n]\,.
        \end{gather}
        It can be shown that this map is a homeomorphism if both spaces are equipped with the Zariski topology.
    \end{property}

    \begin{property}[Schubert decomposition]\index{Schubert!decomposition}\index{Schubert!cell}\index{Bruhat cell}
        The projective space $\mathbb{P}_n(K)$ admits a decomposition of the form
        \begin{gather}
            \mathbb{P}_n(K) = \bigcup_{i=0}^nK^i\,,
        \end{gather}
        where the union is set-theoretic. However, one can refine this to a statement in topology. The projective space $\mathbb{P}_n(K)$ admits the structure of a CW complex with one $k$-cell in every dimension (namely $\mathbb{A}^k$). These cells are called \textbf{Bruhat} or \textbf{Schubert cells}. (The precise distinction is of no relevance here.)
    \end{property}

    \begin{example}[Finite fields]\index{Fano plane}
        Consider a finite field $\mathbb{F}_q$. Using the above decomposition one can easily compute the cardinality of $\mathbb{P}_n(\mathbb{F}_q)$:
        \begin{gather}
            |\mathbb{P}_n(\mathbb{F}_q)| = \sum_{i=0}^n|\mathbb{F}_q^i| = \sum_{i=0}^nq^i \equiv [n+1]_q\,,
        \end{gather}
        For example, the \textbf{Fano plane} $\mathbb{P}_2(\mathbb{F}_2)$ has cardinality 7.
    \end{example}

    \begin{construct}[Blow-up]\index{blow-up}
        Consider an algebraic set $X\subseteq\mathbb{A}^n$ together with a set of regular functions $\{f_1,\ldots,f_k\}\subset\Gamma(X)$. Define the subset $Y:=X\backslash V(f_1,\ldots,f_k)$. By definition these functions do not all vanish simultaneously on $Y$ and, hence, there exists a well-defined map \[f:Y\rightarrow \mathbb{P}_{k-1}(K):x\mapsto\bigl[f_1(x):\cdots:f_k(x)\bigr]\,.\] The graph of this morphism is closed in $Y\times\mathbb{P}_{k-1}(K)$ by \cref{alggeom:closed_graph}, but not in $X\times\mathbb{P}_{k-1}(K)$. Its closure in the latter is called the blow-up $\widetilde{X}$ of $X$ at $f_1,\ldots,f_k$. The projection map $\pi:\widetilde{X}\rightarrow X$ is sometimes also called the blow-up (map). The graph $\Gamma_f$ is isomorphic to $Y$ and its complement $\pi^{-1}(V(f_1,\ldots,f_k))$ in $\widetilde{X}$ is called the \textbf{exceptional set} (of the blow-up).
    \end{construct}

    \begin{construct}[Explicit description]
        Consider an algebraic set $X\subseteq\mathbb{A}^n$ together with its blow-up $\widetilde{X}$ at $\{f_1,\ldots,f_k\}$. One can prove that the following inclusion holds:
        \begin{gather}
            \widetilde{X}\subseteq\bigl\{(x,y)\in X\times\mathbb{P}_{n-1}(K)\bigm\vert\forall i,j\leq n:y_if_j(x)=y_jf_i(x)\bigr\}\,.
        \end{gather}
        In the case of $X=\mathbb{A}^n$ and $f_i(x)=x_i$ one can even prove that this inclusion is an equality. Since the zero locus of the coordinate functions is $\{0\}$, one finds that the exceptional set of this blow-up is exactly $\mathbb{P}_{n-1}(K)$.
    \end{construct}

    \begin{property}
        If $X$ is irreducible, there exists a birational morphism $X\rightarrow\widetilde{X}$.
    \end{property}

\section{Schemes}\label{section:schemes}

    Many of the definitions in this section will be dual to the ones in \cref{section:ring}.

    \newdef{Spectrum}{\index{spectrum}\index{Zariski!topology}
        \nomenclature[S_Spec]{Spec$(R)$}{spectrum of a commutative ring $R$}
        Let $R$ be a commutative ring. The spectrum $\mathrm{Spec}(R)$ is defined as the set of prime ideals of $R$. This set can be turned into a topological space by equipping it with the \textbf{Zariski topology} whose closed subsets are of the form
        \begin{gather}
            V(I):=\{P\subseteq I\mid I\text{ is an ideal},P\in\spec(R)\}\,.
        \end{gather}
        A basis for this topology is given by the sets
        \begin{gather}
            D_f:=\{P\not\ni f\mid f\in R,P\in\spec(R)\}\,.
        \end{gather}
    }

    \begin{property}
        $\mathrm{Spec}(R)$ is a compact $T_0$-space.
    \end{property}

    \newdef{Structure sheaf}{\index{structure!sheaf}
        Given a spectrum $X=\mathrm{Spec}(R)$, one can define a sheaf\footnote{In fact this is merely a \textit{B-sheaf} as it is only defined on the basis of the topology. However, every \textit{B-sheaf} can be extended to a sheaf by taking appropriate limits~\citep{mumford_red_1999}.} $\mathcal{O}_X$ by setting $\forall f\in R:\mathcal{O}_X(D_f):=R_f$, where $R_f$ is the localization of $R$ with respect to the monoid of powers of $f$.
    }
    \begin{property}
        The spectrum $\mathrm{Spec}(R)$, together with its structure sheaf, forms a ringed space.
    \end{property}

    \newdef{Affine scheme}{\index{scheme}
        A locally ringed space isomorphic to the spectrum of a commutative ring.
    }

    \begin{example}[Spectrum of a field]
        For any field $K$, its spectrum $\spec(K)$ consists of a single point with $K$ as the stalk over it.
    \end{example}

    \begin{property}[Stalks]\label{scheme:stalk_affine_scheme}
        Consider an affine scheme $\spec(R)$ and a point $x\in\spec(R)$ corresponding to the prime ideal $\mathfrak{p}$. The stalk at $x$ is given by the localization $R_{\mathfrak{p}}$.
    \end{property}

    \newdef{Scheme}{\index{scheme}
        A locally ringed space such that for every point there exists an open neighbourhood isomorphic to an affine scheme. A scheme $X$ \textbf{over a ring} $R$ means a morphism $X\rightarrow\mathrm{Spec}(R)$.
    }
    \begin{property}[Integers]
        $\spec(\mathbb{Z})$ is the terminal scheme, i.e.~for every scheme $X$ there exists only one morphism $X\rightarrow\spec(\mathbb{Z})$. This spectrum itself consists of all the prime numbers, together with a generic point at infinity. The stalks over these elements are given by $\mathbb{Z}_p$ and $\mathbb{Q}$, respectively.
    \end{property}

    \newdef{Geometric point}{\index{geometric!point}
        The spectrum of an algebraically closed field. A geometric point of a scheme $X$ over a field $K$ is a morphism $\mathrm{Spec}\left(\overline{K}\right)\rightarrow X$.
    }

    \begin{property}[Affine schemes]
        There exists an adjunction
        \begin{gather}
            \mathbf{CRing}^{op}\adj{\Gamma}{\spec}\mathbf{Sch}\,.
        \end{gather}
        By \cref{cat:adjoint_equivalence} this becomes an (adjoint) equivalence between $\mathbf{AffSch}$ and $\mathbf{CRing}^{op}$, i.e.~a scheme $X$ is affine if and only if the unit $X\rightarrow\spec\big(\Gamma(X,\mathcal{O}_X)\big)$ is an isomorphism or, equivalently, if the map
        \begin{gather}
            \mathbf{Sch}(Y,X)\rightarrow\mathbf{CRing}\bigl(\Gamma(X,\mathcal{O}_X),\Gamma(Y,\mathcal{O}_Y)\bigr)
        \end{gather}
        is bijective for all schemes $Y$.
    \end{property}

    \begin{property}[Functor of points]
        The functor of points of a scheme $X$ is simply the functor represented by $X$. By the Yoneda lemma, morphisms between such functors, i.e.~morphisms between (generalized) points, are equivalent to morphisms between schemes. Moreover, similar to the case of manifolds (this will be explained in \cref{chapter:hdg}), restricting representable functors to the subcategory of affine schemes loses no information, i.e.~schemes are characterized by morphisms from affine schemes.
    \end{property}

    \begin{property}[Sober]
        Every scheme is sober (\cref{topology:sober_space}).
    \end{property}

    \newdef{Integral scheme}{\index{integral!scheme}
        A scheme $X$ such that for every open affine subset $\spec(R)\subseteq X$ the ring $R$ is an integral domain (\cref{algebra:integral_domain}).
    }
    \begin{property}
        By the above property, every integral scheme has a unique generic point.
    \end{property}

    \newdef{Reduced scheme}{\index{reduced!scheme}
        A scheme for which all stalks of the structure sheaf are reduced.
    }
    \begin{property}
        A scheme is integral if and only if it is irreducible and reduced.
    \end{property}

    \newdef{Rational function}{\index{function!field}
        In \cref{alggeom:coordinate_ring} the field of rational functions, the function field, was constructed as the field of fractions of the ring global sections. For an integral scheme the rings of local sections are again integral domains and, hence, one can again construct these fields. Moreover, in an integral scheme all open affine subsets are dense and, hence, one can define the function field as $K(X):=\mathrm{Frac}(R)$ for any affine open subset $\spec(R)\subseteq X$. On the other hand, because integral schemes have a unique generic point, the associated prime ideal in any affine neighbourhood is the zero ideal and, consequently, the associated stalk is isomorphic to the function field.
    }

    \newdef{Group scheme}{\index{group!scheme}
        A group object in $\mathbf{Sch}$.
    }
    \begin{example}[Additive group]\index{group!additive}
        \nomenclature[S_Ga]{$\mathbb{G}_a$}{additive group (scheme)}
        The additive group $\mathbb{G}_a$ (over some field $k$) has as underlying object the affine line $\spec(k[x])$ and as operations:
        \begin{enumerate}
            \item\textbf{Addition}: Dual of the ring morphism $k[x]\rightarrow k[x_1]\otimes k[x_2]:x\mapsto x_1+x_2$.
            \item\textbf{Unit}: Dual of $k[x]\rightarrow\mathbb{Z}:x\mapsto0$.
            \item\textbf{Inversion}: Dual of $k[x]\rightarrow k[x]:x\mapsto-x$.
        \end{enumerate}
        Equivalently, it is the $\mathbf{Ab}$-valued functor that sends a scheme to the Abelian group of global sections of its structure sheaf.
    \end{example}

\subsection{Morphisms}

    \newdef{Open immersion}{\index{immersion}
        An open immersion $f:X\rightarrow Y$ of locally ringed spaces is a topological embedding such that the induced map $\mathcal{O}_{f(x)}\rightarrow\mathcal{O}_x$ is an isomorphism.
    }

    \newdef{Quasicompact}{\index{compact}
        A morphism $f:X\rightarrow Y$ of schemes such that $Y$ admits an affine open cover whose preimages are compact\footnote{In algebraic geometry, compact topological spaces that are not Hausdorff are often called \textbf{quasicompact}. However, this convention is not adopted here.}. Equivalently, a morphism is quasicompact if the preimage of every compact open subset is compact.
    }
    \begin{property}
        A scheme is compact if and only if it is the union of a finite number of open affine subschemes.
    \end{property}

    The following definition is analogous to the characterization of Hausdorff spaces (\cref{topology:hausdorff}).
    \newdef{Quasiseparated}{\index{separated}
        A morphism $f:X\rightarrow Y$ such that the diagonal morphism $\Delta_f:X\rightarrow X\times_fX$ is quasicompact. In the case $Y=\mathrm{Spec}(\mathbb{Z})$, where the diagonal morphism is truly the diagonal map $x\mapsto(x,x)$, $X$ is called a quasiseparated scheme. If one replaces `quasicompact' by `closed', the morphism is said to be \textbf{separated}.
    }

    \begin{remark}
        In the early days of scheme theory, what is here called a scheme was known as a `prescheme'. Proper `schemes' were what are now called separated schemes. Note that~\citet{mumford_red_1999} still uses this terminology.
    \end{remark}

    \newdef{Finite type}{\index{morphism!of finite type}
        A scheme morphism $f:X\rightarrow Y$ is said to be \textbf{locally of finite type} if $Y$ admits an affine open cover $\{\mathrm{Spec}(B_i)\}_{i\in I}$ such that every preimage has an affine open cover $\{\mathrm{Spec}(A_{ij})\}_{j\in J_i}$ where all induced morphisms $B_i\rightarrow A_{ij}$ are of finite type. It is said to be of finite type if the index sets $J_i$ are finite for all $i\in I$.
    }
    \newdef{Finite presentation}{
        A scheme morphism $f:X\rightarrow Y$ is said to be of \textbf{finitely presented at a point} $x\in X$ if there exists an affine open set $\mathrm{Spec}(A)\cong U\ni x$ and an affine open set $\mathrm{Spec}(B)\cong V\subset Y$, with $f(U)\subseteq V$, such that the induced ring morphism $B\rightarrow A$ is finitely presented (\cref{algebra:presentation}). The morphism $f:X\rightarrow Y$ is said to be \textbf{locally finitely presented} if it is finitely presented at every point $x\in X$ and it is said to be finitely presented if it is locally finitely presented, quasicompact and quasiseparated.
    }
    \begin{property}
        For morphisms with locally Noetherian codomain, morphisms of (locally) finite type and (locally) finite presentation coincide.
    \end{property}

    \newdef{Flat morphism}{\index{flat!morphism}
        A morphism of schemes such that the induced morphism on local rings is flat. If it is also surjective, it is said to be \textbf{faithfully flat}.
    }

    \newdef{\'Etale morphism}{\index{etale!morphism}\index{formally!\'etale}\index{formally!smooth}\index{unramified}\label{alggeom:etale_morphism}
        In \cref{alggeom:etale_morphism_variety}, \'etale morphisms were introduced for affine varieties over algebraically closed fields. However, for more general fields or schemes, this definition does not give the right results. A better approach is to dualize \cref{algebra:formally_etale}, i.e.~a scheme morphism $f:X\rightarrow Y$ is said to be \textbf{formally \'etale} if for every commutative ring $R$ and nilpotent ideal $I\subset R$ the following lifting exists and is unique:
        \begin{gather*}
            \begin{tikzpicture}
                \node (X) at (0, 1) {$X$};
                \node (Y) at (0, -1) {$Y$};
                \node (R) at (-2, -1) {$\mathrm{Spec}(R)$};
                \node (RI) at (-2, 1) {$\mathrm{Spec}(R/I)$};
                \draw[->] (X) -- node[right]{$f$} (Y);
                \draw[->] (RI) -- (X);
                \draw[->] (R) -- (Y);
                \draw[->] (RI) -- (R);
                \draw[->, dashed] (R) -- (X);
            \end{tikzpicture}
        \end{gather*}
        In other words, formally \'etale morphisms have the unique right lifting property with respect to infinitesimal thickenings. Analogously to the case of rings, the morphism $f$ is said to be \textbf{formally smooth} (resp.~\textbf{formally unramified}) if there is at least (resp.~at most) one lift.

        Since this definition does allow for some pathological examples, \'etale morphisms are those formally \'etale momorphisms that are locally of finite presentation.
    }

    \sremark{The term 'formally' should be interpreted in the sense of \textit{formal geometry} (see \cref{chapter:hdg}). There, infinitesimal neighbourhoods of points (see \ref{hdg:infinitesimal_thickening}), used for defining the local geometry, are induced by nilpotent ideals. This is further exemplified by \cref{alggeom:tangent_cone_etale}.}
    \begin{remark}
        As a side note, the general definition of \'etale morphism is related to \cref{alggeom:etale_morphism_variety}. The completion of the local ring $\mathcal{O}_x$ is defined by the inverse limit over the filtration $\mathcal{O}_x/\mathfrak{m}_x\leftarrow\mathcal{O}_x/\mathfrak{m}_x^2\leftarrow\mathcal{O}_x/\mathfrak{m}_x^3\leftarrow\cdots$. Hence, a morphism $\widehat{\mathcal{O}}_x\rightarrow\widehat{\mathcal{O}}_y$ between completions is characterized by consecutive lifting problems that are exactly the content of \cref{algebra:formally_etale}, since the ideals $\mathfrak{m}_x$ are clearly nilpotent in rings of the form $\mathcal{O}_x/\mathfrak{m}_x^k$ for any $k\in\mathbb{N}_0$.
    \end{remark}
    This is generalized to the schemes as follows.
    \begin{property}
        If $Y$ is locally Noetherian and $f:X\rightarrow Y$ is locally of finite presentation, \'etale morphisms can also be characterized in terms of completions. $f$ is \'etale if and only if the induced morphism on completions is formally \'etale in the adic topology.

        Moreover, if the induced morphisms of residue fields are isomorphisms, $f$ is \'etale if and only the induced morphisms of completions are isomorphisms (as in the case of affine varieties over algebraically closed fields).
    \end{property}

    \newdef{Finite \'etale morphism}{\index{etale!morphism}
        A morphism of schemes $f:X\rightarrow Y$ for which there exists a covering $\{U_i\}_{i\in I}$ of $Y$ by affine sets $U_i\equiv\mathrm{Spec}(A_i)$ such that $f^{-1}(U_i)\cong\mathrm{Spec}(B_i)$ is a free, separable $A_i$-algebra $B_i$ for all $i\in I$.
    }
    \begin{remark}[Finite \'etale covering]\index{etale!covering}
        When a finite \'etale morphism $f:X\rightarrow Y$ exists, $X$ is sometimes called a \textbf{finite \'etale cover(ing)} of $Y$. The full subcategory of the slice category $\mathbf{Sch}/_Y$ on finite \'etale coverings is often denoted by $\mathbf{FEt}_X$.
    \end{remark}

    \newdef{\'Etale fundamental group}{\index{fundamental group!etale}
        Consider a connected scheme $X$. The (\'etale) fundamental group $\pi_1(X)$ is the unique (up to isomorphism) profinite group \ref{topology:profinite_group} such that $\mathbf{FEt}_X$ is equivalent to the category $\mathbf{Fin}\,\pi_1(X)\mathbf{Set}$ of finite of $\pi_1(X)$-sets.
    }
    \begin{remark}
        Recall \cref{topology:equivalent_categories} for topological spaces. There, a stricter set of spaces was considered with the benefit that all $\pi_1(X)$-sets could be classified. By passing to profinite groups one can formulate a classification statement in the topological setting that is virtually identical to the above one.
    \end{remark}

\subsection{Tangent space}

    \newdef{Tangent cone}{\index{tangent!cone}\index{initial!part}
        Consider an affine variety $X=V(I)$. The tangent cone to $X$ at the origin is defined as the zero locus of the `initial ideal' of $I$:
        \begin{gather}
            C_0X := V\bigl(\{f^{\text{in}}\bigm\vert f\in I\}\bigr)\,,
        \end{gather}
        where $f^{\text{in}}$ denotes the \textbf{initial part} of $f$, i.e.~the sum of the smallest degree monomials in $f$.
    }

    \newdef{Tangent space}{\index{tangent!space}
        Consider an affine variety $X$ and choose a point $x\in X$. By working in a suitable affine chart, one can assume that $x=0$. This implies that any polynomial $f\in I(X)$ has a vanishing constant term. The tangent space at $x$ is defined as follows:
        \begin{gather}
            T_xX := V\bigl(\{f^{[1]}\bigm\vert f\in I(X)\}\bigr)\,,
        \end{gather}
        where $f^{[1]}$ denotes the linear part of the polynomial $f$.
    }
    \begin{property}
        For $x=0$ one obtains that $I(0)=(x_1,\ldots,x_n)/I(X)$. Moreover, there exists a natural isomorphism
        \begin{gather}
            I(0)/I(0)^2\cong\hom_K(T_0X,K)\,.
        \end{gather}
        The tangent space at $0$ can accordingly also be obtained as the dual of $I(0)/I(0)^2$.
    \end{property}

    It is not so hard to prove that this property can in fact easily be transported to arbitrary points $x\in X$ if one replaces the ideal $I(0)$ by the maximal ideal of the structure sheaf $\mathcal{O}_X$ at $x$. Therefore, one can give the following general definition.
    \begin{definition}[Zariski tangent space]\index{Zariski!tangent space}
        Consider a scheme $X$ with structure sheaf $\mathcal{O}_X$. At every point $x\in X$ the stalk $\mathcal{O}_x$ is a local ring and, hence, one obtain a maximal ideal $\mathfrak{m}_x$. The quotient $\mathfrak{m}_x/\mathfrak{m}_x^2$ is a vector space over the residue field $\mathcal{O}_x/\mathfrak{m}_x$. It is called the Zariski cotangent space at $x\in X$. Its algebraic dual is called the Zariski tangent space at $x\in X$.
    \end{definition}
    \begin{property}[Inverse function theorem]\index{inverse function theorem}
        In the smooth setting (see \cref{chapter:manifolds} and onwards), the inverse function theorem states that a tuple of functions forms a local coordinate system at a point if their \textit{differentials} generate the \textit{cotangent space} at that point.

        Here, the ideal $\mathfrak{m}_x$ consists of the functions vanishing at $x\in X$ and the cotangent space is given by $\mathfrak{m}_x/\mathfrak{m}_x^2$. By Nakayama's lemma~\ref{algebra:nakayama}, a tuple of elements represent `coordinate functions', i.e.~generate $\mathfrak{m}_x$, if their `differential', i.e.~their residues in the Zariski cotangent space, generate the cotangent space.
    \end{property}

    \newdef{Regular scheme}{\index{regular!scheme}
        A (Noetherian) scheme is said to be regular or \textbf{nonsingular} if the local dimension at any point is equal to the dimension of the Zariski tangent space at that point. Equivalently, an affine variety is smooth if at every point the tangent space is isomorphic to the tangent cone.
    }

    \newadef{Tangent cone: Schemes}{\index{tangent!cone}
        Assume that $X$ is a Noetherian scheme. The tangent cone $C_xX$ is given by the spectrum of the graded ring $\mathrm{Gr}(\mathcal{O}_x)=\bigoplus_{k\in\mathbb{N}}\mathfrak{m}_x^k/\mathfrak{m}_x^{k+1}$. If $X$ is regular, the tangent cone coincides with the Zariski tangent space.
    }

    Recall \cref{alggeom:etale_morphism_variety} of \'etale morphisms of affine varieties (over algebraically closed fields). The following property relates these to the infinitesimal thickening point-of-view.
    \begin{property}\label{alggeom:tangent_cone_etale}
        A morphism $f:X\rightarrow Y$ of varieties induces an isomorphism on completions $\widehat{\mathcal{O}}_{f(x)}\rightarrow\widehat{\mathcal{O}}_x$ if and only if it induces an isomorphism on tangent cones.
    \end{property}

\section{\difficult{Sheaf theory}}

    This section also uses the content of \cref{chapter:topos}.

    \begin{property}[Coherent sheaves]
        A sheaf on a locally Noetherian scheme is coherent (\cref{sheaf:coherent}) if and only if it is quasicoherent and of finite type.
    \end{property}

    \newdef{Zariski topology}{\index{Zariski!topology}
        The Zariski topology on the category of schemes is generated by sets $\{f_i:U_i\rightarrow X\}_{i\in I}$ of open immersions such that $X=\bigcup_{i\in I}f_i(U_i)$ in the set-theoretic sense. This latter condition is often called \textbf{joint surjectivity}. This gives the \textbf{big Zariski site} on an a scheme $X$. The \textbf{small Zariski site} of a scheme $X$ is the subsite of $\mathbf{Sch}_{/X}$ on the open immersions.
    }
    \begin{remark}[Size issues]
        There are some size issues with the category of schemes, it being a big category. The result is that in general there exists no sheafification functor, i.e.~no general construction of the category of sheaves and, hence, this category can only be turned into a site, not a (Grothendieck) topos.\footnote{One can actually also work with large sites to obtain topoi as long as they contain a \textit{small topologically generating set} or, even more general, satisfy the \textit{WISC axiom}.} In the case of \textit{topological} or \textit{smooth manifolds}, this problem is often ignored since one has a (small) dense subsite and no issues arise. For schemes, however, the situation is different. For example, the fpqc topology (to be introduced below) does not admit a sheafification functor. Two solutions exists in such a context, either one works within a suitable universe or one only considers a single (pre)sheaf at a time.
    \end{remark}

    \begin{property}
        The Zariski site is subcanonical.
    \end{property}

    The following topology is finer than the Zariski topology.\footnote{There exists another topology in between the Zariski and \'etale topologies, the \textit{Nisnevich topology}, but this is of no interest here.}
    \newdef{\'Etale cover}{\index{cover!\'etale}\index{site!\'etale}
        An \'etale cover of a scheme $X$ is a jointly surjective family of \'etale morphisms that are locally of finite type\footnote{For $X$ locally Noetherian this additional condition is superfluous.}. The \textbf{big \'etale site} $\mathbf{Sch}_{/X,\text{\'et}}$ is the slice category of $X$ equipped with the coverage (see \cref{topos:coverage}) of \'etale covers. The \textbf{small \'etale site} is the subsite on \'etale morphisms.
    }

    \begin{property}
        A presheaf satisfies descent with respect to the \'etale topology if and only if it satisfies descent with respect to the following covers:
        \begin{itemize}
            \item Zariski covers, and
            \item (single) faithully flat morphisms of affine schemes.
        \end{itemize}
    \end{property}

    \newdef{Flat topologies}{\index{flat!topology}
        The finest topologies on the category of schemes (or slices thereof) are given by considering flat morphisms. The two most widely used flat topologies are the fppf and fpqc topologies. The \textbf{fppf topology} (for \textit{fid\`element plat de presentation finie}) is generated by jointly surjective families of flat morphisms that are locally of finite presentation. The \textbf{fpqc topology} (for \textit{fid\`element plat et quasi-compacte}) is generated by jointly surjective families of flat and quasicompact morphisms.
    }
    \begin{remark}
        With the definition as above the fpqc topology is technically not comparable to the Zariski topology since open immersions need not be quasicompact (unless one restricts to Noetherian schemes). A solution introduced by \textit{Vistoli} and \textit{Kleiman} is to replace quasicompactness by the following seemingly similar definition: There exists an open affine cover $\{U_i\}_{i\in I}$ of $X$ such that each $U_i$ is the image of a compact open subscheme. (If one drops the modifier `locally' in the definition of the fppf topology, a similar problem arises.)
    \end{remark}
    \begin{remark}[Standard covers]
        An equivalent approach to the definition of flat topologies is by first defining `standard' fppf or fpqc covers on affine schemes. These are similar to the flat covers defined above, but where the families are finite and the codomains affine. The covers of general schemes are then generated by base change.
    \end{remark}

    By interpreting objects in the big topos (over a scheme) as generalized spaces in the sense of \cref{chapter:hdg}, the following definition is obtained.
    \newdef{Algebraic space}{\index{algebraic!space}\index{atlas}\label{alggeom:algebraic_space}
        An object $X\in\mathbf{Sh}(\mathbf{Sch}_{\text{fppf}})$ satisfying
        \begin{enumerate}
            \item The diagonal morphism $X\rightarrow X\times X$ is representable (see \cref{topos:representable_diagonal}).
            \item There exists a scheme morphism $Y\rightarrow X$ that surjective and \'etale. This is sometimes called an \textbf{atlas}.
        \end{enumerate}
        Requiring representability of the diagonal can be argued as follows. The fibre product can be seen as a generalized notion of intersection, so representability means that the intersection of any two schemes is again a scheme. Moreover, representability of the diagonal also implies representability of the atlas morphism.
    }

    \newdef{Local property}{\index{local!property}\label{alggeom:local_property}
        Let $P$ be some property of scheme morphisms, e.g.~\'etale or smoothness. Relative to some topology on $\mathbf{Sch}$, the property $P$ is said to be \textbf{local on the source} if for every cover $\{X_i\rightarrow X\}_{i\in I}$ and every morphism $f:X\rightarrow Y$ the following holds:
        \begin{gather}
            f\text{ satisfies }P\iff\forall i\in I:X_i\rightarrow Y\text{ satisfies }P\,.
        \end{gather}
        Analogously, the property $P$ is said to be \textbf{local on the base} or \textbf{local on the target} if for every cover $\{Y_i\rightarrow Y\}_{i\in I}$ and every morphism $f:X\rightarrow Y$ the following holds:
        \begin{gather}
            f\text{ satisfies }P\iff\forall i\in I:Y_i\times_YX\rightarrow Y_i\text{ satisfies }P\,.
        \end{gather}
    }

    Inspired by locality one can generalize many properties of scheme morphisms to morphisms of algebraic spaces.
    \newdef{Property of algebraic spaces}{
        Consider a representable morphism of algebraic spaces $F:X\rightarrow Y$. If $P$ is a property of scheme morphisms satisfying:
        \begin{enumerate}
            \item it is preserved under base change, and
            \item it is fppf-local on the target,
        \end{enumerate}
        then $f$ is said to have the property $P$ if for all $T\in\ob{Sch}$ and all $G:h_T\rightarrow Y$ the morphism $S_G\rightarrow T$ has property $P$, where $S_G\in\ob{Sch}$ is a representing object of $G$, i.e.~$h_{S_G}\cong h_T\times_YF$.
    }
    \newdef{\'Etale morphism}{\index{etale!morphism}
        A morphism $F:X\rightarrow Y$ of algebraic spaces such that for every \'etale morphism $G:h_S\rightarrow X$ the composition $f\circ g$ is also \'etale.\footnote{In a similar vein, one can define smooth morphisms of algebraic spaces.}
    }

\section{Algebraic groups \& Galois theory}

    \newdef{Linear algebraic group}{
        A subgroup of $\GL(n,F)$ defined by a (finite) set of polynomials in the matrix coefficients.
    }
    \begin{property}
        From the definition it is immediately clear that intersections of algebraic groups are again algebraic.
    \end{property}

    \newdef{Absolute Galois group}{
        The Galois group $\mathrm{Gal}(K_S/K)$ of the separable closure (\cref{algebra:separable_closure}) of $K$.
    }

    The following property relates Galois theory to algebraic geometry.
    \begin{property}[Grothendieck's Galois theory]\index{Grothendieck}
        Consider a field $K$ with separable closure $K_S$.
        \begin{gather}
            \mathrm{Gal}(K_S/K)\cong\pi_1\bigl(\mathrm{Spec}(K)\bigr)\,,
        \end{gather}
        where $\pi_1$ is the \'etale fundamental group (the fundamental group at the topological level would not carry a lot of information since $\mathrm{Spec}(K)$ is a one-point space).
    \end{property}

    @@ COMPLETE @@

\section{Modular forms}

    This section gives a relation between \textit{number theory} and (algebraic) geometry. The content of \cref{chapter:complexcalculus} will be used throughout this section.

    \newdef{Modular group}{\index{modular!group}\index{M\"obius transformation}\label{alggeom:modular_group}
        In the setting of number theory, the projective special linear group $\mathrm{PSL}(2,\mathbb{Z})$ is often called the modular group. The modular group acts on the complex plane by \textbf{M\"obius transformations}:
        \begin{gather}
            \begin{pmatrix}
                a&b\\
                c&d
            \end{pmatrix}
            z := \frac{az+b}{cz+d}\,.
        \end{gather}
        For this reason, the group is sometimes called the \textbf{M\"obius group}.
    }

    \newdef{Modular form}{\index{modular!form}\index{cusp form}
        A modular form of weight $k\in\mathbb{R}$ is a holomorphic function on the upper-half plane $f:\mathcal{H}\rightarrow\mathbb{C}$ satisfying the following two conditions:
        \begin{enumerate}
            \item\textbf{Automorphicity}: For all $g\equiv\begin{pmatrix}a&b\\c&d\end{pmatrix}\in\mathrm{PSL}(2,\mathbb{Z})$ one has $f\big(g(z)\big)=(cz+d)^kf(z)$, and
            \item\textbf{Bounded growth}: $f(z)$ is bounded for $z\longrightarrow i\infty$.
        \end{enumerate}
        If the modular form satisfies the stronger condition $f(z)\longrightarrow0$ when $z\longrightarrow i\infty$, it is said to be \textbf{cuspidal} or it is simply called a \textbf{cusp form}.
    }
    \begin{remark}[Arithmetic group]\index{arithmetic group}
        Modular forms can also be defined for subgroups of $\mathrm{PSL}(2,\mathbb{Z})$ with finite index, the so-called \textbf{arithmetic groups}.
    \end{remark}

    \begin{property}
        The generators of the modular group are given by
        \begin{gather}
            z\mapsto-\frac{1}{z}\qquad\text{and}\qquad z\mapsto z+1\,.
        \end{gather}
        Invariance under the second generator shows that modular forms are, in particular, periodic and, hence, admit a Fourier expansion. Cusp forms are exactly those modular forms with vanishing constant Fourier coefficient.
    \end{property}
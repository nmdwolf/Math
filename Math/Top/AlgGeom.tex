\chapter{Algebraic Geometry}\label{chapter:alggeom}

    References for this chapter are \cite{gathmann, redbook}. For the basics on ring theory and ideals, see Section \ref{section:ring}. In order to not confuse the letter $k$, often used for fields, with various indices and dimensions, fields will be denoted by the capital letter $K$.

\section{Algebraic numbers}
\subsection{Polynomials}\index{poly-!nomial}

    \newdef{Polynomial ring}{
        Let $R$ be a (commutative unital) ring and consider a set $X$. The polynomial ring on the indeterminates $X$ is defined as the free commutative $R$-algebra on $X$. Often $X$ will be a finite set: $R[X]\equiv R[x_1,\ldots,x_n]$.
    }

    \newdef{Degree}{\index{degree!of polynomial}
        \nomenclature[O_deg]{$\deg(f)$}{degree of the polynomial $f$}
        The degree of a polynomial $f$ is equal to the largest integer $d\in\mathbb{N}$ for which $f$ contains a monomial $x_1^{i_1}\cdots x_n^{i_n}$ such that $i_1+\cdots+i_n=d$. It is denoted by $\deg(f)$.
    }
    \newdef{Monic polynomial}{
        A polynomial for which the highest degree term has coefficient $1$.
    }

    \begin{theorem}[Fundamental theorem of algebra]\index{fundamental theorem!of algebra}\label{alggeom:fundamental_theorem_of_algebra}
        Consider a $\mathbb{C}$-valued polynomial of degree $\geq 1$. It has at least one root in $\mathbb{C}$.
    \end{theorem}
    \begin{result}
        If $f\in \mathbb{C}[x]$ is a monic polynomial with $\deg(f)\geq1$, it can be factorized as follows:
        \begin{gather*}
            f(x) = \prod_{i=1}^k(x-a_i)^{n_i},
        \end{gather*}
        where $a_1,\ldots, a_k\in\mathbb{C}$ and $n_1,\ldots,n_k\in\mathbb{N}$.
    \end{result}

    \newdef{Transcendental element}{\index{transcendental}\index{algebraic}
        Consider a field $K$ and a field extension $L/K$ (Definition \ref{algebra:field_extension}). An element $x\in L$ for which there exist no nontrivial polynomials $p$ over $K$ such that $p(x) = 0$, is said to be transcendental, otherwise it is said to be \textbf{algebraic}.
    }

    \newdef{Algebraic dependence}{
        Consider a commutative ring $R$ and a subring $S\subset R$. An element $r\in R$ is said to be algebraically dependent on $S$ if it is the root of a polynomial in $S[x]$.
    }
    If only monic polynomials are considered, a slightly different notion is obtained:
    \newdef{Integral dependence}{
        Consider a commutative ring $R$ and a subring $S$. An element $r\in R$ is said to be integrally dependent on $S$ if it is the root of a monic polynomial in $S[x]$.
    }
    \remark{Since every nonzero element in a field is invertible, one can always turn a general polynomial into a monic polynomial. Hence over a field the concepts of algebraic and integral dependence coincide.}

\subsection{Roots}

    \begin{formula}[Vieta]\index{Vieta}
        Consider a polynomial of degree $n$. By the fundamental theorem of algebra this polynomial has $n$ complex roots. Vieta's formulas relate the coefficients of the polynomial to its roots:
        \begin{gather}
            \sum_{1\leq i_1\leq\ldots\leq i_k\leq n}\ \prod_{j=1}^kr_{i_j} = (-1)^k\frac{a_{n-k}}{a_n},
        \end{gather}
        where $k\leq n$. For $k=1$ and $k=n$ this gives the well-known sum and product formulas:
        \begin{align}
            r_1+r_2+\cdots+r_n &= -\frac{a_{n-1}}{a_n},\\
            r_1r_2\cdots r_n &= (-1)^n\frac{a_0}{a_n}.
        \end{align}
    \end{formula}
    \begin{example}
        For quadratic polynomials $ax^2+bx+c$ one recovers the following well-known formulas:
        \begin{align}
            r_1+r_2 &= -\frac{b}{a},\\
            r_1r_2 &= \frac{c}{a}.
        \end{align}
    \end{example}

\subsection{Ideals}

    \begin{theorem}[Weak Nullstellensatz]\index{Nullstellensatz}
        Let $K$ be an algebraically closed field $K$ and consider the polynomial ring $R=K[x_1,\ldots,x_n]$. An ideal $I\subset R$ is maximal if and only if it is of the form \[(x_1-a_1,\ldots,x_n-a_n)\] with $a_i\in K$ for all $i\leq n$.
    \end{theorem}
    \begin{result}
        There exists a bijection between $K^n$ and the set of maximal ideals of $K[x_1,\ldots,x_n]$.
    \end{result}
    \begin{result}
        Consider a collection of polynomials $\{f_i\}_{i\in I}\subset K[x_1,\ldots,x_n]$. If these polynomials do not have a common root, the ideal they generate is the unit ideal.
    \end{result}

\section{Varieties}\label{section:varieties}

    From here on $K$ is assumed to be an algebraically closed field. For notational simplicity and to differentiate between $K^n$ as a vector space and as a set, the notion of affine space is introduced:
    \newdef{Affine space}{\index{affine!space}
        $\mathbb{A}^n$ is defined as the underlying set of the vector space $K^n$:
        \begin{gather}
            \mathbb{A}^n := \{(a_1,\ldots,a_n)\in K^n\}.
        \end{gather}
    }

    \newdef{Algebraic set}{\index{algebraic!set}\index{irreducible!algebraic set}\index{variety}\label{alggeom:variety}
        Consider a finite set of polynomials in $K[x_1,\ldots,x_n]$. It is not hard to show that the zero locus of these polynomials depends only on the ideal spanned by them and, hence, one can define the algebraic set associated to an ideal $I\subset K[x_1,\ldots,x_N]$ to be
        \begin{gather}
            V(I) := \big\{(a_1,\ldots,a_n)\in\mathbb{A}^n\mid\forall f\in I:f(a_1,\ldots,a_k)=0\big\}.
        \end{gather}
        A set $S\in\mathbb{A}^n$ is said to be an \textbf{(affine)} algebraic set if there exists an ideal $I$ such that $S=V(I)$. An algebraic set $S\in\mathbb{A}^n$ is said to be \textbf{irreducible} if it is not the union of two strictly smaller algebraic sets. Irreducible algebraic sets are also called \textbf{affine varieties}.
    }
    \sremark{Some authors (such as \cite{gathmann}) make no distinction between general algebraic sets and affine varieties.}

    \begin{property}\index{Hilbert!basis theorem}
        By \textit{Hilbert's basis theorem} one can express any algebraic set as the zero locus of a finite number of polynomials.
    \end{property}

    Given an algebraic set $S$, the set $I(S)$ is defined as the ideal of polynomials that vanish on $S$. The following theorem gives an important relation between algebraic sets and ideals.
    \begin{theorem}[Hilbert's Nullstellensatz]\index{Hilbert!Nullstellensatz}\index{Nullstellensatz|seealso{Hilbert}}
        Let $J$ be an ideal in $K[x_1,\ldots,x_n]$ and let $\sqrt{J}$ denote its radical. The following relation holds for all $J$:
        \begin{gather}
            I(V(J)) = \sqrt{J}.
        \end{gather}
    \end{theorem}
    Similar to the case of the weak Nullstellensatz, one obtains the following result
    \begin{result}
        There exists a bijection between the algebraic subsets of $\mathbb{A}^n$ and the radical ideals in $K[x_1,\ldots,x_n]$. The irreducible algebraic sets correspond to the prime ideals (by the \textit{Noetherian decomposition theorem}).
    \end{result}

    \newdef{Morphism of varieties}{\index{morphism!of varieties}
        Let $V_1\subset\mathbb{A}^{n_1},V_2\subset\mathbb{A}^{n_2}$ be two algebraic sets. A morphism $\varphi:V_1\rightarrow V_2$ is a function that can be expressed in the following way:
        \begin{gather}
            \varphi(x_1,\ldots,x_{n_1}) = \big(f_1(x_1,\ldots,x_{n_1}),\ldots,f_{n_2}(x_1,\ldots,x_{n_1})\big),
        \end{gather}
        where $f_i\in K[x_1,\ldots,x_{n_1}]$ for all $i\leq n_2$.
    }
    A closely related notion is that of rational maps:
    \newdef{Rational map}{\index{rational!map}\index{dominant}\index{bi-!rational|see{rational}}
        Consider two affine varieties $X,Y$. A rational map $f:X\rightarrow Y$ is an equivalence class of pairs $(U,f_U)$, where $U$ is a nonempty open subset and where $f_U:U\rightarrow Y$, under the following relation: $(U,f_U)\sim(V,f_V)$ if and only if $f_U=f_V$ on a nonempty subset of $U\cap V$.

        A rational map is said to be \textbf{dominant} if for one of its representatives $(U,f)$ the image $f(U)$ is dense. Dominance of rational maps assures that their composition exists and is well-defined.

        A rational map $f:X\rightarrow Y$ is said to be \textbf{birational} if it is dominant and if there exists a rational map $g:Y\rightarrow X$ such that $f\circ g=\mathbbm{1}_Y$ and $g\circ f=\mathbbm{1}_X$.
    }

    \newdef{Coordinate ring}{\index{coordinate!ring}\index{function!field}\index{rational!function}
        Consider the polynomial ring $K[x_1,\ldots,x_n]$ and let $V$ be an algebraic set in $\mathbb{A}^n$. The coordinate ring of $V$ is defined as the following quotient:
        \begin{gather}
            \Gamma(V) := K[x_1,\ldots,x_n]/I(V).
        \end{gather}
        The elements of this ring are the $K$-valued polynomials in the coordinates on $V$.

        If $V$ is irreducible it follows from the Nullstellensatz that $I(V)$ is a prime ideal and, hence, that $\Gamma(V)$ is an integral domain. This property allows to construct the field of fractions $K(V)$. This field is called the \textbf{function field} of $V$ and the elements of $K(V)$ are called the \textbf{rational functions} on $V$. It can be shown that the rational functions are exactly the rational maps $V\rightarrow\mathbb{A}^1$.
    }

    It should be noted that every morphism of varieties induces a $K$-morphism on the associated affine ring by precomposition. This gives rise to the following property:
    \begin{property}[Affine varieties and finitely generated algebras]\label{alggeom:variety_domain_equivalence}
        $\Gamma$ gives an equivalence between the category of algebraic sets and the category of finitely-generated reduced $K$-algebras. This equivalence passes to an equivalence between the subcategories on affine varieties and integral domains.
    \end{property}

    \newdef{Dimension}{\index{dimension!of variety}\index{Krull dimension}
        The dimension of an affine variety is given by the \textbf{Krull dimension} of its coordinate ring, i.e.~the maximum length of a chain of prime ideals:
        \begin{gather}
            \dim(X) := \sup_{n\in\mathbb{N}}(\exists\ \mathfrak{p}_0\subsetneq\mathfrak{p}_1\subsetneq\cdots\subsetneq\mathfrak{p}_n),
        \end{gather}
        where all $\mathfrak{p}_i$ are prime ideals in $\Gamma(X)$. By the Nullstellensatz this is equivalent to the maximum length of chains of irreducible algebraic subsets.

        The \textbf{local dimension} $\dim_p(X)$ of a point $p\in X$ is defined in a similar way, with the start of the chains fixed at $\{p\}$. One then obtains
        \begin{gather}
            \dim(X) = \max_{p\in X}\dim_p(X).
        \end{gather}
    }

\subsection{Topology}

    A topology on an affine variety can be constructed in the following way:
    \newdef{Zariski topology}{\index{Zariski!topology}
        A set in $\mathbb{A}^n$ is said to be closed exactly if it is an algebraic set. A basis for this topology is given by the zero loci $B_f = \{x\in\mathbb{A}^n\mid f(x)\neq 0\}$ for $f\in K[x_1,\ldots,x_n]$. This topology turns an affine variety into an irreducible space.

        On an algebraic subset $V\subset\mathbb{A}^n$ one defines the Zariski topology as the induced topology of the one on $\mathbb{A}^n$. A basis for this induced Zariski topology is given by the sets $B_f$ as above, but where $f$ is now an element in $\Gamma(V)$.
    }

    The following property shows that the Zariski topology is very different from the topologies that occur in for example analysis:
    \begin{property}[Density]
        Any open subset of an affine variety is dense.
    \end{property}

    By dualizing one can focus on the coordinate rings and construct varieties as a derived notion. In this approach the main tool is the structure sheaf of a variety. From here on the content of Chapter \ref{chapter:sheaf} on sheaf theory will become a prerequisite.
    \newdef{Structure sheaf}{\index{structure!sheaf}\index{regular!function}\label{alggeom:structure_sheaf}
        Consider an affine variety $X$ and denote its associated coordinate ring by $\Gamma(X)$. Now, for any point $x\in X$, one can consider the set of functions $m_x\subset R$ that vanish on $x$. This is a prime ideal, so one can construct the localization of $R$ at $m_x$:
        \begin{gather}
            \mathcal{O}_x := R_{m_x} = \{f/g\mid f,g\in R\land g(x)\neq0\}.
        \end{gather}
        For every open subset $U\subset X$ one can then define the ring of functions on $U$ as follows:
        \begin{gather}
            \mathcal{O}_X(U) := \bigcap_{x\in U}\mathcal{O}_x.
        \end{gather}
        $\mathcal{O}_X$ is a sheaf with stalks given by $\mathcal{O}_x$. By Property \ref{algebra:localization_local_ring} all stalks $\mathcal{O}_x$ are local rings and, hence, $(X,\mathcal{O}_X)$ is a locally ringed space \ref{sheaf:locally_ringed_space}. The residue field of these local rings is equal to the base field $K$.

        The elements of $\mathcal{O}_X(U)$ are called the \textbf{regular functions} on $U$. This construction can be made more explicit. A map $\varphi:X\rightarrow K$ is said to be regular at a point $x\in X$ if there exists an open neighbourhood $U\ni x$ and polynomials $f,g\in R$ such that $g\neq0$ and $\varphi=f/g$ on $U$. As for continuous functions, the map $\varphi$ is said to be regular on $X$ if it is regular at every point $x\in X$.
    }

    \begin{property}
        Let $f\in\Gamma(X)$ be a function on $X$ and consider the basis set $B_f$, i.e.~the complement of the zero locus of $f$. The structure sheaf assigns localizations to basis sets: $\mathcal{O}_X(B_f) = R_f$, where $R_f$ denotes the localization \ref{algebra:localization_notation} of $R$ at $f$. In particular
        \begin{gather}
            \Gamma(X,\mathcal{O}_X) = \Gamma(X),
        \end{gather}
        where on the left-hand side $\Gamma$ denotes the global sections functor \ref{sheaf:global_sections_functor}. This property explains the notation $\Gamma(X)$ introduced before.
    \end{property}
    \remark{Both the rings $\mathcal{O}_X(U)$ and $\mathcal{O}_x$ are subrings of the function field $K(X)$.}

    \newadef{Affine variety}{\index{variety!affine}
        A topological space $X$ equipped with a sheaf $\mathcal{F}$ of $K$-valued functions such that $X$ is isomorphic to an irreducible algebraic set $\Sigma$ and such that $\mathcal{F}$ is isomorphic to the structure sheaf $\mathcal{O}_X$. An open subset of an affine variety is sometimes called a \textbf{quasi-affine variety}.
    }
    Using the notion of a regular function, the definition of a morphism of affine varieties can be restated:
    \newadef{Morphism}{\index{morphism!of varieties}
        A continuous function between affine varieties $f:X\rightarrow Y$ such that precomposition by $f$ preserves regular functions.
    }

    \begin{property}[Identity theorem]
        If two regular maps coincide on a nonempty open subset, they are equal.
    \end{property}

    \newdef{Generic stalk}{\index{stalk!generic}
        For the construction of the stalk of the structure sheaf over a point $x$ one takes a direct limit over all open sets containing $x$. This way the local ring $\Gamma(X)_{m_x}$ is obtained. Moreover, this was a subring of the field of fractions $K(X)$ of $\Gamma(X)$. Now, using a similar definition, one can recover all of $K(X)$.

        Instead of taking a direct limit over the open sets containing a certain point $x\in X$, take a direct limit over all open sets in $X$:
        \begin{gather}
            \mathcal{O}_{\tilde{x}} := \varinjlim_{U\subset X}\mathcal{O}_X(U).
        \end{gather}
        This stalk is called the generic stalk of $X$ and it is isomorphic to $K(X)$.
    }

\subsection{Varieties}

    \newdef{Prevariety}{\index{prevariety}
        Let $X$ be a topological space equipped with a sheaf $\mathcal{O}_X$ of $K$-valued functions. The space $X$ is called a prevariety if $X$ is connected and if there exists a finite covering $\{U_i\}_{i\in I}$ of $X$ such that every couple $(U_i,\mathcal{O}_X|_{U_i})$ is an affine variety.
    }
    \newdef{Morphism}{\index{morphism!of prevarieties}
        Consider two prevarieties $(X,\mathcal{O}_X)$ and $(Y,\mathcal{O}_Y)$. A morphism between them is a continuous function $f:X\rightarrow Y$ such that
        \begin{gather}
            g\in\Gamma(V,\mathcal{O}_Y)\implies gf\in\Gamma(f^{-1}V,\mathcal{O}_X)
        \end{gather}
        for all open sets $V\subset Y$, i.e.~a morphism of prevarieties is just a morphism of ringed spaces.
    }

    \begin{remark}
        It can be shown that every prevariety $X$ is irreducible and, hence, the open sets form a direct system. This way one can define the \textbf{generic stalk} of an arbitrary sheaf $\mathcal{F}$, as in the case of affine varieties. For the structure sheaf $\mathcal{O}_X$ this generic stalk is called the \textbf{function field} $K(X)$. It coincides with the function field of every open affine subset of $X$.
    \end{remark}

    \begin{construct}[Gluing]\label{alggeom:gluing}
        Consider two prevarieties $X,Y$ together with an isomorphism $f:U\cong W$ between open subsets $U\subset X,V\subset Y$. The prevarieties can be glued together along $f$ as follows. First, build the attaching space \ref{topology:attaching_space} $U\cup_fY$ with its canonical topology. Then, define the regular functions on a subset to be those that come from regular functions on (subsets of) $X$ and $Y$.
    \end{construct}

    \newdef{Variety\footnotemark}{\index{variety}\label{alggeom:abstract_variety}
        \footnotetext{Sometimes also called a \textbf{separated prevariety}.}
        A prevariety $X$ for which the diagonal $\Delta_X$ is closed in $X\times X$. It should be noted that every affine variety is a variety, but not the other way around.
    }
    \begin{remark}
        The motivation for this definition is Property \ref{topology:hausdorff}. In general topology it is well-known that a lot of pathological spaces can be excluded by restricting to Hausdorff spaces, i.e.~spaces where distinct points admit disjoint neighbourhoods. Because open subsets of irreducible spaces have nonempty intersections, this property is sadly enough not very useful in the study of varieties. However, the equivalent definition using closedness of the diagonal remains useful if one does not consider the product topology on $X\times X$, but instead uses the ``gluing''-topology from Construction \ref{alggeom:gluing} above.
    \end{remark}

    The following two closure properties are very important:
    \begin{property}\label{alggeom:closed_graph}
        Consider a prevariety morphism $f:X\rightarrow Y$ where $Y$ is a variety. The graph of $f$ is closed in $X\times Y$.
    \end{property}
    \begin{property}
        Consider two prevariety morphisms $f,g:X\rightarrow Y$ where $Y$ is a variety. The set on which $f$ and $g$ coincide is closed in $X$.
    \end{property}

\subsection{Projective varieties}

    \newdef{Projective space}{\index{projective!space}\label{alggeom:projective_space}
        Consider the vector space $K^n$. The projective space $\mathbb{P}_{n-1}(K)$ or $K\mathbb{P}^{n-1}$ is defined as the quotient of $K^n$ under the following equivalence relation:
        \begin{gather}
            (x_1,\ldots,x_n)\sim(y_1,\ldots,y_n)\iff\exists\lambda\in K^\times:\forall i\leq n:x_i=\lambda y_i.
        \end{gather}
        The equivalence class of a vector $(x_1,\ldots,x_n)$ is denoted by $[x_1:\cdots:x_n]$. Because the numbers characterizing an equivalence class are only determined up to a common factor, the coordinates $x_1,\ldots,x_n$ are called \textbf{homogeneous coordinates}.
    }

    Consider the subset \[K_\mathrm{hom}[x_0,\ldots,x_n]\subset K[x_0,\ldots,x_n]\] consisting of all homogeneous polynomials. This definition implies that \[\forall f\in K_\mathrm{hom}[x_0,\ldots,x_n]:f(\lambda x_0,\ldots,\lambda x_n) = 0\iff f(x_0,\ldots,x_n) = 0\] and, hence, that the zero loci of homogeneous polynomials are well-defined subsets of the projective space $\mathbb{P}_n(K)$.
    \newdef{Projective algebraic set}{\index{algebraic!set}\index{Zariski!topology}
        As in the case of affine algebraic sets one can define two operations. Let $I$ be a homogeneous ideal, i.e.~an ideal in $K[x_0,\ldots,x_n]$ that is generated by homogeneous polynomials. The projective algebraic set $V_P(I)$ is defined as the zero locus of $I$:
        \begin{gather}
            V_P(I) := \{x\in\mathbb{P}_n(K)\mid\forall f\in I:f(x)=0\}.
        \end{gather}
        Given a projective algebraic set $V\in\mathbb{P}_n(K)$, one can define the ideal $I_p(V)$ as follows:
        \begin{gather}
            I_P(V) := (f\in K_{\mathrm{hom}}[x_0,\ldots,x_n]\mid\forall x\in V:f(x)=0),
        \end{gather}
        i.e.~the ideal $I_P(V)$ is generated by all homogeneous polynomials that vanish on $V$. The \textbf{Zariski topology} on $\mathbb{P}_n(K)$ is defined such that the closed sets are exactly the projective algebraic sets.
    }

    \begin{theorem}[Projective Nullstellensatz]\index{Nullstellensatz}
        For all homogeneous ideals $I$, except $I_0=(x_1,\ldots,x_n)$, one finds that
        \begin{gather}
            I_P(V_P(I)) = \sqrt{I}.
        \end{gather}
    \end{theorem}
    \begin{result}
        As before this implies that there exists a bijection between the projective algebraic sets in $\mathbb{P}_n(K)$ and the homogeneous radical ideals (except for $I_0$) in $K[x_0,\ldots,x_n]$.
    \end{result}

    \newdef{Coordinate ring}{\index{coordinate!ring}
        As for affine algebraic sets, the coordinate ring of a projective algebraic set $V$ is defined as the following quotient:
        \begin{gather}
            \Gamma(V) := K[x_0,\ldots,x_n]/I_P(V).
        \end{gather}
    }

    The construction of regular functions on affine varieties \ref{alggeom:structure_sheaf} cannot be extended to projective spaces in a straightforward manner. Consider for example a polynomial $f\in K[x_0,\ldots,x_n]$. This polynomial does not form a well-defined function on a projective algebraic set $V_P(I)\subset\mathbb{P}_n(K)$ even if $f$ is homogeneous, since changing the homogeneous coordinates on $V_P(I)$ changes the value of $f$ (only the zero locus is invariant). However, the ratio of two homogeneous polynomials of the same degree does form a well-defined function on $V_P(I)$.

    Since the ideal $I$ is homogeneous, the quotient $R=K[x_0,\ldots,x_n]/I$ is a graded algebra. Denote by $K(X)$ the zeroth order part of the localization of $R$ by the homogeneous elements:
    \begin{gather}
        K(X) := \{f/g\mid\exists n\in\mathbb{N}:f,g\in R_n\}.
    \end{gather}
    Now, although an element $f\in R_n$ does not give a well-defined function on $X$, the property $f(x)\neq0$ is preserved under rescaling. Hence, one can define a ring $\mathcal{O}_x$ as before:
    \begin{gather}
        \mathcal{O}_x := \{f/g\in K(X)\mid g(x)\neq 0\}.
    \end{gather}
    This ring has a maximal ideal $I_x = \{f/g\in K(X)\mid f(x)=0,g(x)\neq 0\}$ such that all elements in $\mathcal{O}_x$ are invertible and, by Property \ref{algebra:local_ring_invertible}; $\mathcal{O}_x$ is a local ring. One can then construct a sheaf $\mathcal{O}_X$ using the same procedure as for affine varieties to turn a projective space into a locally ringed space:
    \begin{gather}
        \mathcal{O}_X(U) = \bigcap_{x\in U}\mathcal{O}_x.
    \end{gather}

    \begin{property}[Variety]
        For every projective variety $X\subset\mathbb{P}_n(K)$ the pair $(X, \mathcal{O}_X)$ is locally isomorphic to an affine variety and as such every projective variety is in particular a variety in the sense of Definition \ref{alggeom:abstract_variety}.
    \end{property}
    \begin{property}[$\mathbb{A}^n$ in $\mathbb{P}_n(K)$]
        Consider the affine variety $\mathbb{A}^n$. This set admits a bijective mapping onto an open subset of $\mathbb{P}_n(K)$ as follows:
        \begin{gather}
            \varphi:\mathbb{A}^n\rightarrow U_0:(x_1,\ldots,x_,n)\mapsto[1:x_1:\cdots:x_n].
        \end{gather}
        It can be shown that this map is a homeomorphism if both spaces are equipped with the Zariski topology.
    \end{property}

    \begin{property}[Schubert decomposition]\index{Schubert!decomposition}\index{Schubert!cell}\index{Bruhat cell}
        The projective space $\mathbb{P}_n(K)$ admits a decomposition of the form
        \begin{gather}
            \mathbb{P}_n(K) = \bigcup_{i=0}^nK^i,
        \end{gather}
        where the union is set-theoretic. However, one can refine this to a statement in topology. The projective space $\mathbb{P}_n(K)$ admits the structure of a CW complex with one $k$-cell in every dimension (namely $\mathbb{A}^k$). These cells are called \textbf{Bruhat cells} or \textbf{Schubert cells}. (The precise distinction is of no relevance here.)
    \end{property}

    \begin{example}[Finite fields]\index{Fano plane}
        Consider a finite field $\mathbb{F}_q$. Using the above decomposition one can easily compute the cardinality of $\mathbb{P}_n(\mathbb{F}_q)$:
        \begin{gather}
            |\mathbb{P}_n(\mathbb{F}_q)| = \sum_{i=0}^n|\mathbb{F}_q^i| = \sum_{i=0}^nq^i \equiv [n+1]_q,
        \end{gather}
        For example, the \textbf{Fano plane} $\mathbb{F}_2(\mathbb{P}^2)$ has cardinality 7.
    \end{example}

    \begin{construct}[Blow-up]\index{blow-up}
        Consider an algebraic set $X\subseteq\mathbb{A}^n$ together with a set of regular functions $\{f_1,\ldots,f_k\}\subset\Gamma(X)$. Define the subset $Y$ as $X\backslash V(f_1,\ldots,f_k)$. By definition these functions do not all vanish simultaneously on $Y$ and, hence, there exists a well-defined map \[f:Y\rightarrow \mathbb{P}_{k-1}(K):x\mapsto\Big[f_1(x):\cdots:f_k(x)\Big].\] The graph of this morphism is closed in $Y\times\mathbb{P}_{k-1}(K)$ by Property \ref{alggeom:closed_graph}, but not in $X\times\mathbb{P}_{k-1}(K)$. Its closure in the latter is called the blow-up $\widetilde{X}$ of $X$ at $f_1,\ldots,f_k$. The projection map $\pi:\widetilde{X}\rightarrow X$ is sometimes also called the blow-up (map). The graph $\Gamma_f$ is isomorphic to $Y$ and its complement $\pi^{-1}(V(f_1,\ldots,f_k))$ in $\widetilde{X}$ is called the \textbf{exceptional set} (of the blow-up).

        If $X$ is irreducible, there exists a birational morphism $X\rightarrow\widetilde{X}$.
    \end{construct}
    \begin{property}[Explicit description]
        Consider an algebraic set $X\subseteq\mathbb{A}^n$ together with its blow-up $\widetilde{X}$ at $\{f_1,\ldots,f_k\}$. One can prove that the following inclusion holds:
        \begin{gather}
            \widetilde{X}\subseteq\{(x,y)\in X\times\mathbb{P}_{n-1}(K)\mid\forall i,j\leq n:y_if_j(x)=y_jf_i(x)\}.
        \end{gather}
        In the case of $X=\mathbb{A}^n$ and $f_i(x)=x_i$ one can even prove that this inclusion is an equality. Since the zero locus of the coordinate functions is $\{0\}$, one finds that the exceptional set of this blow-up is exactly $\mathbb{P}_{n-1}(K)$.
    \end{property}

\section{\difficult{Schemes}}\label{section:schemes}
\subsection{Spectrum of a ring}

    \newdef{Spectrum}{\index{spectrum}\index{Zariski!topology}
        \nomenclature[S_Spec]{Spec$(R)$}{spectrum of a commutative ring $R$}
        Let $R$ be a commutative ring. The spectrum $\mathrm{Spec}(R)$ is defined as the set of prime ideals of $R$. This set can be turned into a topological space by equipping it with the \textbf{Zariski topology} whose closed subsets are of the form $V_I:=\{P\subseteq I\mid I\text{ is an ideal},P\text{ is a prime ideal}\}$. A basis for this topology is given by the sets $D_f := \{P\not\ni f\mid f\in R,P\text{ is a prime ideal}\}$.
    }

    \begin{property}
        $\mathrm{Spec}(R)$ is a compact $T_0$-space.
    \end{property}

    \newdef{Structure sheaf}{\index{structure!sheaf}
        Given a spectrum $X=\mathrm{Spec}(R)$, one can define a sheaf\footnote{In fact this is merely a \textit{B-sheaf} as it is only defined on the basis of the topology. However, every \textit{B-sheaf} can be extended to a sheaf by taking appropriate limits.} $\mathcal{O}_X$ by setting $\forall f\in R:\mathcal{O}_X(D_f)=R_f$, where $R_f$ is the localization of $R$ with respect to the monoid of powers of $f$.
    }
    \begin{property}
        The spectrum $\mathrm{Spec}(R)$ together with its structure sheaf forms a ringed space.
    \end{property}

    \newdef{Affine scheme}{\index{scheme}
        A locally ringed space that is isomorphic to the spectrum of a commutative ring.
    }

    \begin{property}
        There exists an equivalence of categories $\mathbf{AffSch}\cong\mathbf{CRing}^{op}$.
    \end{property}

\subsection{Zariski tangent space}

    \newdef{Tangent cone}{\index{tangent!cone}\index{initial!part}
        Consider an affine variety $X=V(I)$. The tangent cone to $X$ at the origin is defined as the zero locus of the ``initial ideal'' of $I$:
        \begin{gather}
            C_0X := V(\{f^\mathrm{in}\mid f\in I\}),
        \end{gather}
        where $f^\mathrm{in}$ denotes the \textbf{initial part} of $f$, i.e.~the sum of the smallest degree monomials in $f$.
    }

    \newdef{Tangent space}{\index{tangent!space}
        Consider an affine variety $X$ and choose a point $x\in X$. By working in a suitable affine chart, one can assume that $x=0$. This implies that any polynomial $f\in I(X)$ has a vanishing constant term. The tangent space at $x$ is defined as follows:
        \begin{gather}
            T_xX := V(\{f^{[1]}\mid f\in I(X)\}),
        \end{gather}
        where $f^{[1]}$ denotes the linear part of the polynomial $f$.
    }
    \begin{property}
        For $x=0$ one obtains that $I(0)\equiv(x_1,\ldots,x_n)/I(X)$. Moreover, there exists a natural isomorphism
        \begin{gather}
            I(0)/I(0)^2\cong\hom_K(T_0X,K).
        \end{gather}
        The tangent space at $0$ can accordingly also be ontained as the dual of $I(0)/I(0)^2$.
    \end{property}

    It is not so hard to prove that this property can in fact easily be transported to arbitrary points $x\in X$ if one replaces the ideal $I(0)$ by the maximal ideal of the structure sheaf $\mathcal{O}_X$ at $x$. Therefore, one can give the following general definition:
    \begin{definition}[Zariski tangent space]\index{Zariski!tangent space}
        Consider an affine variety $X$ with structure sheaf $\mathcal{O}_X$. At every point $x\in X$ the stalk $\mathcal{O}_x$ is a local ring and, hence, one obtain a maximal ideal $\mathfrak{m}_x$. The quotient $\mathfrak{m}_x/\mathfrak{m}_x^2$ is a vector space over the residue field $\mathcal{O}_x/\mathfrak{m}_x$. It is called the Zariski cotangent space at $x\in X$. Its algebraic dual is called the Zariski tangent space at $x\in X$.
    \end{definition}

    \newdef{Smooth variety}{\index{smooth!variety}
        An affine variety is said to be smooth if the local dimension at any point is equal to the dimension of the Zariski tangent space at that point. Equivalently, an affine variety is smooth if at every point the tangent space is isomorphic to the tangent cone.
    }

\section{Algebraic groups}

    \newdef{Linear algebraic group}{
        A subgroup of $\GL(n,F)$ defined by a (finite) set of polynomials in the matrix coefficients.
    }
    \begin{property}
        From the definition it is immediately clear that intersections of algebraic groups are again algebraic.
    \end{property}

    ?? COMPLETE ??

\section{Modular forms}

    This section gives a relation between \textit{number theory} and (algebraic) geometry. The content of Chapter \ref{chapter:complexcalculus} will be heavily used.

    \newdef{Modular group}{\index{modular!group}\index{M\"obius transformation}\label{alggeom:modular_group}
        In the setting of number theory, the projective special linear group $\mathrm{PSL}(2,\mathbb{Z})$ is often called the modular group. The modular group acts on the complex plane by \textbf{M\"obius transformations}:
        \begin{gather}
            \begin{pmatrix}
                a&b\\
                c&d
            \end{pmatrix}
            z := \frac{az+b}{cz+d}.
        \end{gather}
        For this reason the group is sometimes called the \textbf{M\"obius group}.
    }

    \newdef{Modular form}{\index{modular!form}\index{cusp form}
        A modular form of weight $k\in\mathbb{R}$ is a holomorphic function on the upper-half plane $f:\mathcal{H}\rightarrow\mathbb{C}$ satisfying the following two conditions:
        \begin{enumerate}
            \item\textbf{Automorphicity}: For all $g\equiv\begin{pmatrix}a&b\\c&d\end{pmatrix}\in\mathrm{PSL}(2,\mathbb{Z})$ one has $f\big(g(z)\big)=(cz+d)^kf(z)$, and
            \item\textbf{Bounded growth}: $f(z)$ is bounded for $z\longrightarrow i\infty$.
        \end{enumerate}
        If the modular form satisfies the stronger condition $f(z)\longrightarrow0$ when $z\longrightarrow i\infty$, it is said to be \textbf{cuspidal} or it is simply called a \textbf{cusp form}.
    }
    \begin{remark}\index{arithmetic group}
        Modular forms can also be defined for subgroups of $\mathrm{PSL}(2,\mathbb{Z})$ with finite index, so-called \textbf{arithmetic groups}.
    \end{remark}

    \begin{property}
        The generators of the modular group are given by
        \begin{gather}
            z\mapsto-\frac{1}{z}\qquad\text{and}\qquad z\mapsto z+1.
        \end{gather}
        Invariance under the second generator shows that modular forms are, in particular, periodic and, hence, admit a Fourier expansion. Cusp forms are exactly those modular forms with vanishing constant Fourier coefficient.
    \end{property}
\chapter{Functional Analysis}\label{chapter:functional}

    The main references for this chapter are~\citet{choquet-bruhat_analysis_1991,choquet-bruhat_analysis_2000}. For a revision of topological spaces and inner product spaces, see \cref{chapter:topology} and \cref{section:innerproduct}, respectively.

    In this chapter, the term `linear operator', which was previously reserved for vector space automorphisms, is now used synonymously with `linear map'. This is to keep the terminology in line with the standard literature on Banach spaces and operator spaces. Moreover, in this chapter, `dual space' will indicate the topological/continuous dual and not just the algebraic/linear dual (unless stated otherwise).

\section{Banach spaces}\label{section:banach}

    \newdef{Topological vector space}{\index{vector!space}
        A vector space for which addition and scalar multiplication are continuous. This is abbreviated as TVS.
    }

    \newdef{Weak topology}{\index{topology!weak}\label{functional:weak_topology}
        The initial topology (\cref{topology:initial_topology}) on a TVS with respect to its dual, i.e.~a net $\net{v}$ in $V$ \textbf{converges weakly} to $v$ if and only if $\lambda(v_\alpha)\longrightarrow\lambda(v)$ for all $\lambda\in V^*$.
    }
    \newdef{Weak-* topology}{\index{topology!weak-*}\label{functional:weak_star_topology}
        Every TVS admits a canonical embedding into its double dual:
        \begin{gather}
            \iota:V\rightarrow V^{**}:v\mapsto\mathrm{ev}_v\,,
        \end{gather}
        where the evaluation map $\mathrm{ev}_v$ is defined as
        \begin{gather}
            \mathrm{ev}_v:V^*\rightarrow K:\lambda\mapsto\lambda(v)\,.
        \end{gather}
        The weak-* topology on the dual space $V^*$ is defined as the weak topology with respect to the image $\iota(V)\subseteq V^{**}$. Equivalently, it is the topology defined by pointwise convergence of nets.
    }

    \newdef{Norm}{\index{norm}
        Let $V$ be a TVS over a field $K$. A function $\|\cdot\|:V\rightarrow[0,+\infty[$ is called a norm if it satisfies following conditions for all $v,w\in V$:
        \begin{enumerate}
            \item\textbf{Nondegeneracy}: $\|v\|=0\iff v=0$,
            \item\textbf{Homogeneity}: for all scalars $\lambda\in K:\|\lambda v\|=|\lambda|\,\|v\|$, and
            \item\textbf{Triangle equality (subadditivity)}: $\|v+w\|\leq\|v\|+\|w\|$.
        \end{enumerate}
    }
    \begin{definition}[Norm topology]\index{metric}\index{topology!norm}\index{topology!strong}
        A norm $\|\cdot\|$ induces a metric (\cref{metric:metric}):
        \begin{gather}
            d(v,w):=\|v-w\|\,.
        \end{gather}
        The metric topology induced in this way is called the \textbf{norm topology} or \textbf{strong topology}.
    \end{definition}

    \begin{property}[Continuity]
        Every linear map $\varphi:V\rightarrow W$ of topological vector spaces with finite-dimensional domain is continuous. Moreover, if $V$ is normed, every linear isomorphism $\varphi:V\rightarrow W$ is a homeomorphism.
    \end{property}
    \begin{result}
        Since any two finite-dimensional normed vector spaces with the same dimension are homeomorphic, all metrics on a finite-dimensional normed vector space are equivalent.
    \end{result}

    \newdef{Banach space}{\index{Banach!space}\label{functional:banach_space}
        A normed vector space that is complete \ref{metric:complete_space} in the norm topology.
    }

    \begin{property}[Duals]
        The dual of a Banach space is also a Banach space.
    \end{property}

    \newdef{Reflexive space}{\index{reflexive}
        A TVS $V$ for which the canonical inclusion $V\hookrightarrow V^{**}$ is an isomorphism.
    }
    \begin{property}
        Every finite-dimensional Banach space is reflexive.
    \end{property}
    \begin{property}
        On a reflexive space, the weak and weak-* topologies coincide.
    \end{property}
    \begin{property}[Weak duals]
        Consider a Banach space $V$. The dual of $(V^*,\tau_{\mathrm{weak}^*})$ is isomorphic to $V$.
    \end{property}

    \begin{theorem}[Open mapping theorem\footnotemark]\index{open!mapping theorem}\index{Banach--Schauder}
        \footnotetext{Sometimes called the \textbf{Banach--Schauder} theorem.}
        Let $f:V\rightarrow W$ be a continuous linear operator between two Banach spaces. If $f$ is surjective, it is also open.
    \end{theorem}

    \begin{theorem}[Banach--Alaoglu\footnotemark]\index{Banach--Alaoglu}
        \footnotetext{Apparently, at least 12 different mathematicians should be named in this theorem.}
        The closed unit ball in the dual of a normed space is compact in the weak-* topology.
    \end{theorem}

    \newdef{Bracket}{\index{bracket}\label{functional:bracket}
        Let $X$ be a set and consider a normed subset $(\mathcal{F},\|\cdot\|)$ of $\mathbb{R}^X$. For every two functions $u,l:X\rightarrow\mathbb{R}$, the bracket $[l,u]$ consists of all functions $f\in\mathbb{R}^X$ such that
        \begin{gather}
            \forall x\in X:l(x)\leq f(x)\leq u(x)\,.
        \end{gather}
        An $\varepsilon$-bracket, with $\varepsilon>0$, is a bracket $[l,u]$ such that $\|u-l\|<\varepsilon$. The \textbf{bracketing number} $N_{[\,]}(\varepsilon,\mathcal{F},\|\cdot\|)$ is defined as the least number of $\varepsilon$-brackets needed to cover $\mathcal{F}$.
    }

\subsection{Convex duality}

    The Legendre transformation (\cref{calculus:legendre}) can be generalized to arbitrary vector spaces.
    \newdef{Legendre--Fenchel transformation}{\index{Legendre--Fenchel transformation}\index{convex!conjugate}
        Let $V$ be a topological vector space and consider its (topological) dual $V^*$. The Legendre--Fenchel transform or \textbf{convex conjugate} $f^*:V^*\rightarrow\overline{\mathbb{R}}$ of a function $f:V\rightarrow\overline{\mathbb{R}}$ is defined as follows:
        \begin{gather}
            f^*(\varphi) := \sup_{v\in V}\bigl(\langle\varphi,v\rangle-f(v)\bigr)\,.
        \end{gather}
    }
    \begin{property}[Fenchel--Young inequality]\index{Fenchel--Young inequality}
        Consider a function $f:V\rightarrow\overline{\mathbb{R}}$ and its convex conjugate $f^*$. For all $v\in V$ and $\varphi\in V^*$ the following inequality holds:
        \begin{gather}
            \langle\varphi,v\rangle\leq f(v)+f^*(\varphi)\,.
        \end{gather}
    \end{property}

    \begin{property}
        The convex conjugate is always lower semicontinuous (\cref{topology:semicontinuity}). The double convex conjugate $f^{**}$ is equal to the \textbf{closed convex hull}, i.e.~the greatest lower semicontinuous convex function smaller than $f$.
    \end{property}

    \begin{theorem}[Fenchel--Moreau]\index{Fenchel--Moreau}
        Let $V$ be a locally convex Hausdorff space (see \cref{functional:locally_convex} further below). The equality $f=f^{**}$ holds if and only if one of the following conditions holds:
        \begin{itemize}
            \item $f$ is identically $+\infty$,
            \item $f$ is identically $-\infty$, or
            \item $f$ is a lower semicontinuous proper\footnote{It never becomes $-\infty$ and is not identically $+\infty$.} convex function.
        \end{itemize}
    \end{theorem}

\section{Hilbert spaces}

    \begin{remark}\index{parallelogram law}\index{polarization!identity}
        Let $V$ be an inner product space (\cref{linalgebra:innerproduct}). A norm on $V$ can be induced by the inner product in the following way:
        \begin{gather}
            \label{functional:inner_product_norm}
            \|v\|^2 = \langle v\mid v \rangle\,.
        \end{gather}
        However, the converse is not true. Not every norm induces an inner product. Only norms that satisfy the \textbf{parallelogram law}
        \begin{gather}
            \label{functional:parallellogram_law}
            \|v+w\|^2 + \|v-w\|^2 = 2(\|v\|^2 + \|w\|^2)
        \end{gather}
        can be used to define an inner product. This inner product can be recovered through the \textbf{polarization identity}:
        \begin{gather}
            \label{functional:polarization_identity}
            4\langle v\mid w \rangle = \|v+w\|^2 - \|v-w\|^2 + i\left(\|v+iw\|^2 - \|v-iw\|^2\right)\,.
        \end{gather}
    \end{remark}

    \begin{property}[Cauchy--Schwarz inequality]\index{Cauchy--Schwarz inequality}\label{functional:cauchy_schwarz}
        \begin{gather}
            |\langle v\mid w \rangle|\leq\|v\|\,\|w\|\,,
        \end{gather}
        where the equality holds if and only if $v$ and $w$ are linearly dependent.
    \end{property}
    \begin{result}[Triangle inequality]
        The Cauchy--Schwarz inequality can be used to prove the triangle inequality. Together with the properties of an inner product, this implies that an inner product space is indeed a normed space as mentioned in the beginning of this section.
    \end{result}

    \newdef{Hilbert space}{\index{Hilbert!space}\label{functional:hilbert_space}
        A Banach space where the norm is induced by an inner product.
    }

    \begin{example}
        Consider two square-integrable functions $f,g\in L^2([a,b],\mathbb{C})$. As mentioned in \cref{section:hilbert_space}, the inner product of $f$ and $g$ is defined as follows:
        \begin{gather}
            \label{functional:inner_product_L2}
            \langle f\mid g\rangle = \Int_a^b\overline{f(x)}g(x)\,dx\,.
        \end{gather}
        It is possible to generalize this inner product with respect to a weight function $\phi\in L^2([a,b],\mathbb{C})$:
        \begin{gather}
            \label{functional:weighted_inner_product}
            \langle f\mid g\rangle_\phi := \Int_a^b\overline{f(x)}g(x)\phi(x)\,dx\,.
        \end{gather}
    \end{example}

    \begin{formula}[Pythagoras]\index{Pythagoras}\label{functional:pythagorean_theorem}
        In an inner product space, the triangle equality reduces to the well-known Pythagorean theorem for orthogonal vectors:
        \begin{gather}
            \langle v\mid w \rangle=0\implies\|v+w\|^2 = \|v\|^2 + \|w\|^2\,.
        \end{gather}
        This formula can be extended to any set of orthogonal vectors $v_1,\ldots,v_n$ as follows:
        \begin{gather}
            \left\|\sum_{i=1}^nv_i\right\|^2 = \sum_{i=1}^n\|v_i\|^2\,.
        \end{gather}
    \end{formula}

    \begin{theorem}[Riesz's representation theorem]\index{Riesz!representation theorem}\label{functional:riesz}
        Let $\mathcal{H}$ be a Hilbert space. For every continuous linear functional $\rho\in\mathcal{H}^*$, there exists a unique element $v_0\in\mathcal{H}$ such that
        \begin{gather}
            \rho(h) = \langle v_0\mid h\rangle
        \end{gather}
        for all $h\in\mathcal{H}$. This implies that $\mathcal{H}$ and $\mathcal{H}^*$ are isometrically isomorphic.\footnote{Anti-isomorphic in the convention with conjugate linearity in the second argument.} Furthermore, the operator norm of $\rho$ is equal to the norm of $v_0$.
    \end{theorem}
    \begin{remark}\index{bra-ket notation}
        This theorem justifies the bra-ket notation used in quantum mechanics, where one associates to every \textit{ket} $\lvert\psi\rangle\in\mathcal{H}$ a \textit{bra} $\langle\psi\rvert\in\mathcal{H}^*$.
    \end{remark}

    \begin{remark}[Relation to Riesz--Markov theorem]\index{Riesz--Markov}
        By the Riesz--Markov theorem~\ref{distributions:riesz_markov}, every continuous functional on $C(\widehat{X})$, where $X$ is locally compact, can be written as the integration againt some Radon measure. By using the fact that every Hilbert space is isomorphic to some function space $L^2(X,\mu)$, one can see that Riesz's representation theorem is very similar.
    \end{remark}

\subsection{Generalized Fourier series}

    \begin{property}[Bessel's inequality]\index{Bessel!inequality}
        Let $\mathcal{H}$ be a Hilbert space. The following equality holds for all orthonormal vectors $v_1,\ldots,v_n\in\mathcal{H}$ and scalars $\lambda_1,\ldots,\lambda_n\in\mathbb{C}$:
        \begin{gather}
            \left\|v - \sum_{i=1}^n\lambda_iv_i\right\|^2 = \|v\|^2 - \sum_{i=1}^n|\langle v\mid v_i \rangle|^2 + \sum_{i=1}^n|\langle v\mid v_i \rangle - \lambda_i|^2\,.
        \end{gather}
        This expression is minimized when the last term vanishes. This leads to Bessel's inequality
        \begin{gather}
            \label{functional:bessels_inequality}
            \sum_{i=1}^n|\langle v\mid v_i \rangle|^2\leq\|v\|^2\,,
        \end{gather}
        together with the property that the optimal choice in the generalized Fourier series for $v$ is obtained by taking the coefficients to be the projections $\lambda_i=\langle v\mid v_i \rangle$.
    \end{property}
    \begin{result}\index{Fourier!generalized series}
        The sum in \cref{functional:bessels_inequality} is bounded for all $n$, so the series $\sum_{i=1}^{+\infty}|\langle v\mid v_i\rangle|^2$ converges for all $v$. This implies that the sequence $(\langle v\mid v_n\rangle)_{n\in\mathbb{N}}$ belongs to $l^2$.
    \end{result}

    \begin{theorem}
        Consider a Hilbert space $\mathcal{H}$. Let $\seq{v}$ be an orthonormal sequence in $\mathcal{H}$ and let $\seq{\lambda}$ be a sequence in $\mathbb{C}$. The series $\sum_{i=1}^{+\infty}\lambda_iv_i$ converges in $\mathcal{H}$ if and only if $\seq{\lambda}\in l^2$. Furthermore, the series satisfies the following equality:
        \begin{gather}
            \left\|\sum_{i=1}^{+\infty}\lambda_iv_i\right\|^2 = \sum_{i=1}^{+\infty}|\lambda_i|^2\,.
        \end{gather}
        Bessel's inequality implies that the sequence $(\langle v\mid v_n \rangle)_{n\in\mathbb{N}}$ belongs to $l^2$, so the generalized Fourier series of $v\in\mathcal{H}$ converges in $\mathcal{H}$.
    \end{theorem}
    \begin{remark}
        Although the convergence of the generalized Fourier series of $v\in\mathcal{H}$ can be established using the previous theorem, it does not follow that the expansion converges to $v$ itself. One can merely say that the Fourier expansion is the best approximation of $v$ with respect to the norm on $\mathcal{H}$.
    \end{remark}

    \newdef{Complete set}{\index{complete!set}\index{Hilbert!basis}
        Let $\{e_i\}_{i\in I}$ be a set of orthonormal vectors in an inner product space $V$. This set is said to be complete if every vector $v\in V$ can be expressed as follows:
        \begin{gather}
            v = \sum_{i\in I}\langle e_i\mid v\rangle e_i\,.
        \end{gather}
        This is also sometimes called an \textbf{orthonormal basis} or \textbf{Hilbert basis}. Note that it is not necessarily a (Hamel) basis, since the linear combination does not have to be finite.
    }
    \begin{adefinition}
        A complete set of orthonormal vectors in a Hilbert space $\mathcal{H}$ is a set $S\subset\mathcal{H}$ such that one cannot add another nonzero vector $w\in\mathcal{H}$ to it satisfying
        \begin{gather}
            \forall v_i\in S:\langle v_i\mid w\rangle = 0\,.
        \end{gather}
    \end{adefinition}

    \begin{theorem}[Parceval]\index{Parceval}
        Let $\seq{v}$ be a complete sequence in a Hilbert space $\mathcal{H}$. Every vector $v\in\mathcal{H}$ has a unique Fourier series representation $\sum_{i=1}^{+\infty}\lambda_iv_i$, where the Fourier coefficients $\seq{\lambda}$ belong to $l^2$. Conversely, if Bessel's inequality becomes an equality for every $v\in\mathcal{H}$, the sequence $\seq{v}$ is complete.
    \end{theorem}

\subsection{Orthogonality and projections}\label{section:orthogonal_projections}

    \begin{property}
        Let $S$ be a subset (not necessarily a subspace) of a Hilbert space $\mathcal{H}$. The orthogonal complement $S^\perp$ is closed in $\mathcal{H}$.
    \end{property}
    \begin{result}
        The previous property implies that the orthogonal complemement of some arbitrary subset of a Hilbert space is a Hilbert space itself.
    \end{result}

    \begin{theorem}[Projection theorem]\index{projection!theorem}\label{functional:projection_theorem}
        Let $H$ be a Hilbert space and $S\leq H$ a complete subspace. For every $v\in H$, there exists a unique $v'\in S$ such that $v-v'$ is orthogonal to every $w\in S$, i.e.~$v-v'\in S^\perp$.
    \end{theorem}
    \begin{remark}
        An equivalent definition for this projection is the vector $v'$ satisfying
        \begin{gather}
            \|v-v'\| = \inf\{\|v-w\|\mid w\in S\}\,.
        \end{gather}
        It is often denoted by $\proj_S(v)$.
    \end{remark}
    \begin{result}[Orthogonal decomposition]
        It follows that given a complete (or closed) subspace $S$, the Hilbert space $\mathcal{H}$ can be decomposed as $\mathcal{H}=S\oplus S^\perp$.
    \end{result}

    \newdef{Trace}{\index{trace}\label{functional:trace}
        Let $\mathcal{H}$ be a Hilbert space with orthonormal basis $\{e_i\}_{i\in I}$. Given a bounded linear operator $S\in\mathcal{B}(\mathcal{H})$, one defines its trace as follows:
        \begin{gather}
            \tr(S) := \sum_{i\in I}\langle e_i\mid Se_i \rangle\,.
        \end{gather}
    }

\subsection{Separable Hilbert spaces}

    The definition of separable spaces in the sense of point-set topology is given in \cref{topology:separable}. An equivalent definition for Hilbert spaces is the following one (provided that one accepts Zorn's lemma~\ref{set:zorns_lemma}).
    \newadef{Separable Hilbert space}{\index{separable}
        A Hilbert space that contains a Hilbert basis.
    }
    \begin{example}[Finite dimensions]
        By the Gram--Schmidt method, it follows that every finite-dimensional Hilbert space is separable.
    \end{example}

    The following theorem shows that (up to isomorphism) there are only two distinct types of separable Hilbert spaces.
    \begin{theorem}
        Let $\mathcal{H}$ be separable. If $\mathcal{H}$ is $n$-dimensional, it is isometrically isomorphic to $\mathbb{C}^n$. If $\mathcal{H}$ is infinite-dimensional, it is isometrically isomorphic to $l^2$.
    \end{theorem}

    \begin{property}
        Every orthogonal subset of a separable Hilbert space is countable.
    \end{property}

\section{Seminorms}\index{semi-!norm}

    \newdef{Seminorm}{
        Let $V$ be a vector space over a normed field $K$. A function $p:V\rightarrow[0,+\infty[$ is called a seminorm if it satisfies the following conditions:
        \begin{enumerate}
            \item\textbf{Homogeneity}: $p(\lambda v)=|\lambda|\,p(v)$ for all scalars $\lambda\in K$ and $v\in V$.
            \item\textbf{Triangle equality (subadditivity)}: $p(v+w)\leq p(v)+p(w)$ for all $v,w\in V$.
        \end{enumerate}
    }

    \begin{theorem}[Hahn--Banach]\index{Hahn--Banach}\label{functional:hahn_banach}
        Let $V$ be a TVS equipped with a seminorm $p$. If $f$ is a continuous linear functional on $V$ such that $|f(w)|\leq p(w)$ on a subspace $W\leq V$, there exists a linear extension $F$ of $f$ to $V$ such that
        \begin{gather}
            |F(v)|\leq p(v)
        \end{gather}
        for all $v\in V$.
    \end{theorem}

\subsection{Topology}

    In this subsection $\mathscr{P}$ denotes a family of seminorms defined on a TVS $V$ with index family $I$.

    \newdef{$\mathscr{P}$-open ball}{\index{ball}
        A $\mathscr{P}$-open ball centred on $v_0$ is a subset $W\subset V$ such that all points $w\in W$ satisfy the following condition for a finite number of seminorms $p_i\in\mathscr{P}$:
        \begin{gather}
            p_i(w-v_0)\leq\varepsilon_i\,,
        \end{gather}
        where $\varepsilon_i > 0$.
    }

    \begin{property}
        The set of $\mathscr{P}$-open balls generates a topology on $V$. This topology is often called the \textbf{$\mathscr{P}$-topology}.
    \end{property}

    \newdef{Separated family}{\index{separated!family}
        A family of seminorms $\mathscr{P}$ is said to be separated if for every nonzero point $v\in V$ there exists a seminorm $p\in\mathscr{P}$ such that $p(v)\neq0$. If $\mathscr{P}$ is separated, then $\sum_{i\in I}p_i$ is a norm.
    }
    \begin{property}\index{metric!Fr\'echet}\label{functional:separated_metric}
        A family of seminorms $\mathcal{P}$ is separated if and only if it generates a Hausdorff topology on $V$. Furthermore, the topology is metrizable if and only if $\mathcal{P}$ is countable. The \textbf{Fr\'echet metric}, which is translation-invariant, is given by
        \begin{gather}
            d(v,w) := \sum_{i\in I}\frac{1}{2^i}\frac{p_i(v-w)}{1 + p_i(v-w)}\,.
        \end{gather}
    \end{property}

    Although the Hahn--Banach theorem~\ref{functional:hahn_banach} does not imply that the linear extension is unique, one can refine the statement in the case of dense subspaces.
    \begin{result}
        Let $V$ be a TVS with a $\mathscr{P}$-topology and let $W$ be a dense subspace. If $f$ is a linear form on $W$, continuous in the subspace topology, there exists a unique linear extension to $V$.
    \end{result}

\subsection{Locally convex spaces}

    \newdef{Locally convex space}{\index{convex}\index{cone}\label{functional:locally_convex}
        Let $V$ be a TVS.
        \begin{itemize}
            \item A \textbf{cone} is a subset $U\subseteq V$ such that the line segment connecting any vector to the origin lies in $U$.
            \item A subset $U\subseteq V$ is said to be \textbf{balanced} if for every vector $v\in U$ the scalar multiples $\lambda v$, with $|\lambda|\leq 1$, also lie in $U$. Such a subset is sometimes also called a \textbf{circled cone}.
            \item An \textbf{absolutely convex} set is a balanced convex set. Equivalently, this is a subset closed under linear combinations where the absolute values of the coefficients sum at most to 1.
            \item A subset $U\subseteq V$ is said to be \textbf{absorbent} if the union of all sets $\lambda U$, where $\lambda$ ranges over the base field, equals the total space.
        \end{itemize}
        A locally convex space is a topological vector space where the origin admits a local base of convex sets. Sometimes these sets are also required to be balanced and absolutely convex. However, it can be shown that this is a mere property.
    }
    Using the notion of seminorms one can restate this definition as follows.
    \newadef{Locally convex space}{\label{functional:locally_convex_seminorm}
        A topological vector space is locally convex if its topology is generated by a family of seminorms.
    }

    The following example of locally convex spaces is important in functional analysis.
    \newdef{Fr\'echet space}{\index{Fr\'echet!space}\label{functional:frechet_space}
        A locally convex topological vector space that admits a complete translation-invariant metric.
    }
    By \cref{functional:separated_metric}, there exists an equivalent formulation.
    \begin{adefinition}[Fr\'echet space]
        A topological vector space that admits a complete metric topology induced by a countable separated family of seminorms.
    \end{adefinition}

    Locally convex topological vector spaces are important in functional analysis because they are one of the most general types of spaces that lend themselves to the definition of differentiation. A first step in this direction is the following generalization of the (directional) derivative.
    \newdef{G\^ateaux derivative}{\index{smooth!function}\index{derivative!G\^ateaux}\index{derivative!Michal--Bastiani}\label{functional:gateaux}
        Consider two locally convex spaces $V,W$. The G\^ateaux differential of a continuous map $f:U\rightarrow W$, where $U\subseteq V$ is open, is defined as follows:
        \begin{gather}
            \dr f(v;h) := \lim_{t\rightarrow0}\frac{f(v+th) - f(v)}{t}=\left.\deriv{}{t}f(v+th)\right|_{t=0}\,.
        \end{gather}
        If this limit exists for all $h\in V$, the function is said to be \textbf{G\^ateaux differentiable} at $v\in V$. Moreover, if it is also continuous in both arguments, it is said to be of class $C^1$. By iterating this construction one can define $C^k$- and even $C^\infty$-maps:
        \begin{gather}
            \dr^{(k)}\!f(v;h_1\otimes\cdots\otimes h_k) := \left.\mderiv{k}{}{t}f(v+th_1+\cdots+th_k)\right|_{t=0}\,.
        \end{gather}
    }
    Now, it should be noted that the map $\dr f(v;-)$ is not necessarily linear. If it is linear, the function $\delta_vf:V\rightarrow W:h\mapsto\dr f(v;h)$ is called the \textbf{G\^ateaux derivative} of $f$ at $v$. It can be shown that the G\^ateaux differential of $C^1$-functions is always linear and, hence, defines a G\^ateaux derivative. In fact, this notion of differentiability is often called \textbf{(Michal--)Bastiani differentiability}.

    \begin{formula}[Fundamental theorem of calculus]\index{fundamental theorem!of calculus}\index{integral!Gel'fand--Pettis}
        If $f\in C^1(V,W)$, then
        \begin{gather}
            f(v+h) = f(v)+\Int_0^1\dr f(v+th;h)\,dt\,,
        \end{gather}
        where the integral is understood in the following sense. Consider a function $f:(X,\Sigma,\mu)\rightarrow V$ from a measure space to a vector space $V$. If for all $\varphi\in V^*$ the pairing $\varphi\circ f$ is (Lebesgue) integrable and there exists for all $A\in\Sigma$ a vector $v_A\in V$ such that
        \begin{gather}
            \langle\varphi,e_A\rangle = \Int_A\varphi\circ f\,d\mu\,,
        \end{gather}
        then $f$ is said to be \textbf{Gel'fand--Pettis integrable} and $v_A$ is called the \textbf{Gel'fand--Pettis integral} of $f$ over $A$.
    \end{formula}

    On normed spaces, can also introduce alternative notions of differentiability.
    \newdef{Hadamard derivative}{\index{Hadamard!derivative}\label{functional:hadamard}
        Let $f:V\rightarrow W$ be a function of normed spaces. It is said to be \textbf{Hadamard differentiable} at $v\in V$ if there exists a bounded linear operator $\mathrm{D}f_v$ such that
        \begin{gather}
            \lim_{n\rightarrow\infty}\frac{f(v+t_nh_n) - f(v)}{t_n}=\mathrm{D}f_v(h)
        \end{gather}
        for all sequences $h_n\longrightarrow h$ and $t_n\downarrow0$.
    }
    \begin{property}
        If $f$ is Hadamard-differentiable, it is also G\^ateaux-differentiable and the differentials coincide.
    \end{property}

    \newdef{Fr\'echet derivative}{\index{Fr\'echet!derivative}\label{functional:frechet}
        Let $f:V\rightarrow W$ be a function of normed spaces. It is said to be \textbf{Fr\'echet differentiable} at $v\in V$ if there exists a bounded linear operator $\mathrm{D}f_v$ such that
        \begin{gather}
            \lim_{\|h\|\rightarrow0}\frac{\|f(v+h)-f(v)+\mathrm{D}f_v(h)\|}{\|h\|} = 0\,.
        \end{gather}
        If the linear operator $\mathrm{D}f$ exists, it is called the Fr\'echet derivative of $f$ at $v$. If $f$ is (Fr\'echet) differentiable at any point in $V$ and if the map $V\rightarrow\mathcal{B}(V,W):v\mapsto\mathrm{D}f_v$ is continuous, then $f$ is said to be of class $C^1$.
    }

    The relation between G\^ateaux and Fr\'echet derivatives (and the Hadamard derivative since it is squeezed in between) is clarified by the following property.
    \begin{property}
        If a function between normed spaces has a continuous and linear G\^ateaux differential (i.e.~if it has a G\^ateaux derivative), it is also Fr\'echet differentiable. Furthermore, the G\^ateaux derivative and Fr\'echet derivative coincide.
    \end{property}

    Although one can extend functional analysis to Fr\'echet spaces (or even locally convex spaces), they are less well-behaved than Banach spaces.
    \begin{property}
        The dual of a Fr\'echet space $V$ is Fr\'echet if and only if $V$ is Banach (and, hence, $V^*$ will also be Banach). Furthermore, the space $\mathcal{L}(V,W)$ of linear maps between Fr\'echet spaces is Fr\'echet if and only if $W$ is Banach.
    \end{property}

    \begin{theorem}[Krein--Milman]\index{Krein--Milman}\label{functional:krein_milman}
        Every compact, convex subset of a locally convex Hausdorff space is equal to the convex hull of its extreme points.
    \end{theorem}
    This theorem can be extended as follows.
    \begin{theorem}[Choquet]\index{Choquet}\label{functional:choquet}
        For every convex, compact subset $C$ of a normed vector space there exists an assignment
        \begin{gather}
            \mu:C\rightarrow\mathbb{P}\bigl(\mathrm{Extr}(C)\bigr):c\mapsto\mu_c
        \end{gather}
        such that
        \begin{gather}
            f(c) = \Int_{\mathrm{Extr}(C)}f\,d\mu_c
        \end{gather}
        for all affine functions $f:C\rightarrow\mathbb{C}$.
    \end{theorem}
    \begin{remark}\index{Choquet--Bishop--de Leeuw}
        The extension of Choquet's theorem to locally convex topological vector spaces is called the \textbf{Choquet--Bishop--de Leeuw theorem}.
    \end{remark}

    \newdef{Strong topology}{\index{topology!strong|seealso{polar topology}}\index{topology!polar}
        Let $V$ be a TVS. The strong topology (or \textbf{topology of uniform convergence on bounded sets}) on $V^*$ is the locally convex topology defined by the seminorms
        \begin{gather}
            p_B(\lambda) := \sup_{v\in B}|\lambda(v)|\,,
        \end{gather}
        where $B$ is a bounded set of $V$. This is an example of a \textit{polar topology}. A dual space equipped with the strong topology is often called the \textbf{strong dual}.
    }

\subsection{Tensor products}\index{tensor product!of topological vector spaces}

    When moving from finite-dimensional vector spaces to general topological vector spaces, the algebraic tensor product from \cref{section:tensors} does not behave in the way one would expect it to. For example, the (algebraic) tensor product of the smooth algebras $C^\infty(\mathbb{R}^m)$ and $C^\infty(\mathbb{R}^n)$ only injects into $C^\infty(\mathbb{R}^{m+n})$, i.e.~not all bivariate smooth functions can be written as a finite sum of products of univariate smooth functions. In this section this will be resolved.

    \newdef{Tensor product of Hilbert spaces}{
        The algebraic tensor product of two Hilbert spaces $V,W$ can be equipped with an inner product defined on outer products as
        \begin{gather}
            \langle v_1\otimes w_1\mid v_2\otimes w_2 \rangle_{V\otimes W} := \langle v_1\mid v_2 \rangle_V\,\langle w_1\mid w_2 \rangle_W
        \end{gather}
        and extended to all of $V\otimes W$ by linearity. The Hilbert space tensor product $V\mathop{\widehat{\otimes}}W$, often denoted by $V\otimes_\sigma W$, is then defined as the completion of $V\otimes W$ with respect to this inner product.
    }

    \newdef{Tensor product of Banach spaces}{
        Contrary to the case of Hilbert spaces, the norms on two Banach spaces $V$ and $W$ do not induce a unique natural norm on $V\otimes W$. Two common choices are the following ones:
        \begin{gather}
            \|x\|_{\proj} := \inf\left\{\sum_{i=1}^n\|a_i\|\|b_i\|\,\middle\vert\,x=\sum_{i=1}^na_i\otimes b_i\right\}
        \end{gather}
        and
        \begin{gather}
            \|x\|_\text{inj} := \sup\bigl\{|(\mu\otimes\nu)(x)|\bigm\vert\mu\in V^*,\nu\in W^*:\|\mu\|=\|\nu\|=1\bigr\}.
        \end{gather}
        These two norms are called the \textbf{projective} and \textbf{injective} norms, respectively. Accordingly, the completions $V\widehat{\otimes}_\pi W$ and $V\widehat{\otimes}_\varepsilon W$ of the algebraic tensor product $V\otimes W$ with respect to these norms are called the \textbf{projective} and \textbf{injective} tensor products.\footnote{Note that, in general, the projective tensor product is not complete, even when both $V$ and $W$ are. If both $V$ and $W$ are infinite-dimensional Banach spaces, their tensor product (in this sense) will never be complete.} The topologies induced by these norms are called the \textbf{$\pi$-topology} and \textbf{$\varepsilon$-topology}, respectively.
    }

    \newdef{Tensor products of locally convex spaces}{\index{equicontinuity}\index{polar}
        Let $V,W$ be locally convex spaces. \Cref{functional:locally_convex_seminorm} gives rise to a family of projective seminorms as in the definition above. These define the projective tensor products $V\otimes_\pi W$. As mentioned above, in general, the projective tensor product is not complete, even when both $V$ and $W$ are. The completion is denoted by $V\widehat{\otimes}_\pi W$.

        The injective tensor product can be extended to locally convex spaces as follows. Recall \cref{metric:equicontinuity} in the setting of linear maps. A collection $\mathcal{F}$ of linear maps is said to be \textbf{equicontinuous} if for every neighbourhood $U_2$ of the origin, there exists a neighbourhood $U_1$ of the origin such that
        \begin{gather}
            \forall f\in\mathcal{F}:x\in U_1\implies f(x)\in U_2\,.
        \end{gather}
        The preceding definition of injective cross norms can be generalized to a family of seminorms on\footnote{Note that this set is (linearly) isomorphic to the algebraic tensor product $V\otimes W$.} $B_{\text{cont}}(V'_\sigma,W'_\sigma)$ as follows:
        \begin{gather}
            \|\phi\|_{A,B} := \sup\left\{|\phi(x,y)|\,\middle\vert\,x\in X,y\in Y\right\}\,,
        \end{gather}
        where $X,Y$ range over the equicontinuous subsets of $V'$ and $W'$, respectively. $V\otimes W$ with the induced topology, as a subset of $\mathcal{B}_{\text{cont}}(V,W)$, is called the injective tensor product $V\otimes_\varepsilon W$. An equivalent formulation works with a family of seminorms on the algebraic tensor product $V\otimes W$ given by
        \begin{gather}
            \|x\|_{p,q} := \sup\left\{|(\mu\otimes\nu)(x)|\,\middle\vert\,v\in B^\circ_p,w\in B^\circ_q\right\}\,,
        \end{gather}
        where $B^\circ_p$ denotes the \textit{polar} of the $p$-unit ball.\footnote{The relation between these two constructions is given by the fact that a set of linear functionals is equicontinuous if and only if it is contained in the polar of a neighbourhood of the origin.} Alternatively, the $\varepsilon$-topology is the topology of uniform convergence on equicontinuous subsets $X\times Y$ of $V'_\sigma\times W'_\sigma$.

        \todo{CHECK IF TRUE (little complete information to be found)}
    }
    \begin{adefinition}[Projective tensor product]\index{tensor product!projective}
        Let $V,W$ be locally convex spaces. The projective tensor product $V\otimes_\pi W$ carries the finest locally convex topology with respect to the canonical injection $V\times W\rightarrow V\otimes W:(v,w)\mapsto v\otimes w$.
    \end{adefinition}

    \begin{uproperty}
        The $\pi$-topology is the unique topology on the algebraic tensor product $V\otimes W$ such that the linear isomorphism (\cref{vector:universal_property})
        \begin{gather}
            \mathcal{L}(V\otimes W,Z)\cong B(V,W;Z)
        \end{gather}
        induces a linear isomorphism
        \begin{gather}
            \mathcal{L}_{\text{cont}}(V\otimes_\pi W,Z)\cong B_{\text{cont}}(V,W;Z)
        \end{gather}
        for all locally convex spaces $V,W$ and $Z$.
    \end{uproperty}
    \begin{result}
        $B(V,W)$ is the continuous dual of $V\otimes_\pi W$.
    \end{result}

    \begin{property}
        The $\pi$-topology is finer than the $\varepsilon$-topology.
    \end{property}

    \newdef{Nuclear space}{\index{nuclear!space}
        A locally convex space such that the completed injective and projective tensor products with any other locally convex space are isomorphic.
    }

    \begin{property}
        Nuclear normed spaces are finite dimensional. In particular, infinite-dimensional Banach spaces are never nuclear.
    \end{property}

    \todo{ADD (Schwartz' kernel theorem, ...)}

\subsection{Measure theory}

    \newdef{Distribution}{\index{distribution}
        Let $V$ be locally convex vector space. A distribution on $V$ is an equivalence class of linear maps from $V^*$ to the measurable functions on a probability space $(\Omega,\Sigma,P)$, where two maps are identified if for any finite tuple of vectors the joint distributions of their images are equal.
    }

    The following remark gives an analogue of the Riesz--Markov theorem~\ref{distributions:riesz_markov}.
    \begin{remark}
        For finite-dimensional spaces, the distributions are in a one-to-one correspondence with the regular Borel measures.
    \end{remark}

    \todo{COMPLETE}
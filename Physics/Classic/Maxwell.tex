\chapter{Maxwell Theory}\label{chapter:maxwell}
\section{Lorentz force}

    \begin{formula}[Lorentz force]\index{Lorentz!force}\label{maxwell:lorentz_force}
        \begin{gather}
            \vector{F} = q\left(\vector{E} + \vector{v}\times\vector{B}\right)
        \end{gather}
    \end{formula}

    \begin{formula}[Lorentz force density]\label{maxwell:lorentz_force_density}
        \begin{gather}
            \vector{f} = \rho\vector{E} + \vector{J}\times\vector{B}
        \end{gather}
    \end{formula}

\section{Differential Maxwell equations}

    \newformula{Gauss's law for electricity}{\index{Gauss!laws for electricity and magnetism}
        \begin{gather}
            \label{maxwell:gauss_electricity}
            \nabla\cdot\vector{E} = \stylefrac{\rho}{\varepsilon}
        \end{gather}
    }
    \newformula{Gauss's law for magnetism}{
        \begin{gather}
            \label{maxwell:gauss_magnetism}
            \nabla\cdot\vector{B} = 0
        \end{gather}
        If magnetic charges would exist, then the right-hand side would contain a density as in the case of electricity.
    }
    \newformula{Faraday's law}{\index{Faraday}
        \begin{gather}
            \label{maxwell:faraday}
            \nabla\times\vector{E} = -\pderiv{\vector{B}}{t}
        \end{gather}
    }
    \newformula{Maxwell's law\footnotemark}{\index{Maxwell}
        \footnotetext{Also called the law of Maxwell-Amp\`ere.}
        \begin{gather}
            \label{maxwell:maxwell}
            \nabla\times\vector{B} = \varepsilon\mu\pderiv{\vector{E}}{t} + \mu\vector{J}
        \end{gather}
    }

\section{Potentials}\index{potential}
\subsection{Decomposition in potentials}

    The Helmholtz decomposition \ref{vectorcalculus:helmholtz_decomposition} together with Gauss's law \ref{maxwell:gauss_magnetism} imply the following general form for $\vector{B}$:
    \begin{gather}
        \label{maxwell:magnetic_potential}
        \vector{B} = \nabla\times\vector{A}
    \end{gather}
    where $\vector{A}$ is the so-called \textbf{magnetic potential}.

    Combining equation \ref{maxwell:magnetic_potential} with Faraday's law \ref{maxwell:faraday} (and doing some rewriting) gives the following general form for $\vector{E}$:
    \begin{gather}
        \label{maxwell:electric_potential}
        \vector{E} = -\nabla V - \pderiv{\vector{A}}{t}
    \end{gather}
    where $V$ is the \textbf{electrostatic potential}.

    \begin{property}
        Substituting the previous two expressions into \ref{maxwell:gauss_electricity} and \ref{maxwell:maxwell} gives the following two (coupled) conditions for the electromagnetic potentials:
        \begin{align}
            \label{maxwell:potential_conditions_A}
            \lap\vector{A} - \varepsilon\mu\mpderiv{2}{\vector{A}}{t} &= \nabla\left(\nabla\cdot\vector{A} + \varepsilon\mu\pderiv{V}{t}\right) - \mu\vector{J}\\
            \label{maxwell:potential_conditions_V}
            \lap V - \varepsilon\mu\mpderiv{2}{V}{t} &= -\pderiv{}{t}\left(\nabla\cdot\vector{A} + \varepsilon\mu\pderiv{V}{t}\right) - \stylefrac{\rho}{\varepsilon}.
        \end{align}
    \end{property}

\subsection{Gauge transformations}\index{gauge!transformation}

    Looking at equation \ref{maxwell:magnetic_potential}, it is clear that a transformation $\vector{A}\longrightarrow\vector{A} + \nabla\psi$ has no effect on $\vector{B}$ due to property \ref{vectorcalculus:rotor_of_gradient}. To compensate for this in equation \ref{maxwell:electric_potential}, we also have to perform a transformation $V\longrightarrow V - \pderiv{\psi}{t}$.

    The (scalar) function $\psi(\vector{r}, t)$ is called a \textbf{gauge function} and the transformations are called \textbf{gauge transformations}.
    \newdef{Gauge fixing conditions}{
        Conditions that fix a certain gauge (or class of gauge transformations). These select one of many physically equivalent configurations. Mathematically this corresponds to picking a representative for any orbit of the gauge transformations. (See chapter \ref{chapter:gauge_theory} for more.)
    }
    \remark{It often happens that a gauge condition does not completely fix the gauge, i.e. the condition does not pick a unique representative but only fixes a subset of the gauge orbit that still has some remaining symmetry or freedom.}

    \begin{example}[Lorenz gauge]\index{Lorenz gauge}
        A first example of a gauge fixing condition is the Lorenz gauge\footnote{Named after \textit{Ludvig Lorenz}. Not to be confused with \textit{Hendrik Lorentz}.}:
        \begin{gather}
            \label{maxwell:lorenz_gauge}
            \nabla\cdot\vector{A} + \varepsilon\mu\pderiv{V}{t} = 0.
        \end{gather}
        When using this gauge fixing condition, equations \ref{maxwell:potential_conditions_A} and \ref{maxwell:potential_conditions_V} uncouple. This allows u to rewrite them as
        \begin{align}
            \Box\vector{A} &= -\mu\vector{J}\\
            \Box V &= -\stylefrac{\rho}{\varepsilon}.
        \end{align}
        To see which gauge functions $\psi$ are valid in this case we perform a transformation as explained above:
        \begin{gather}
            \label{maxwell:gauge_transformations}
            \vector{A}' = \vector{A} + \nabla\psi\qquad\text{ and }\qquad V'=V-\pderiv{\psi}{t}.
        \end{gather}
        Substituting these transformations in equation \ref{maxwell:lorenz_gauge} and using the fact that both sets of potentials $(\vector{A}, V)$ and $(\vector{A}', V')$ satisfiy the Lorenz gauge \ref{maxwell:lorenz_gauge} gives the following condition for the gauge function $\psi$:
        \begin{gather}
            \label{maxwell:lorenz_gauge_condition}
            \Box\psi = 0.
        \end{gather}
    \end{example}

    \begin{example}[Coulomb gauge]\index{Coulomb!gauge}
        Apart from the Lorenz gauge there is also the Coulomb gauge:
        \begin{gather}
            \label{maxwell:coulomb_gauge}
            \nabla\cdot\vector{A} = 0.
        \end{gather}
    \end{example}

\section{Energy and momentum}

    \newdef{Poynting vector}{\index{Poynting vector}\label{maxwell:poynting_vector}
        \begin{gather}
            \vector{S} := \vector{E}\times\vector{H}
        \end{gather}
    }

    \begin{formula}[Energy density]
        \begin{gather}
            \label{maxwell:energy_density}
            W = \stylefrac{1}{2}\left(\vector{E}\cdot\vector{D} + \vector{B}\cdot\vector{H}\right)
        \end{gather}
    \end{formula}

\section{Differential-geometric perspective}

    Using the tools introduced in chapter \ref{chapter:vector_bundles} (e.g. differential forms) we can rewrite all of the above formulas in a more elegant form. This will also allow us to generalize them to higher dimensions and to more general settings. See for example \cite{principal_bundles} for a complete derivation and interpretation. (It should be noted that we use \textit{Gaussian units} throughout this section.)

    \newdef{Field strength}{\index{field!strength}
        Define \[\mathbf{E} = E_1dx^1 + E_2dx^2 + E_3dx^3\] and \[\mathbf{B} = B_1dx^2\wedge dx^3 + B_2dx^3\wedge dx^1 + B_3dx^1\wedge dx^2\] as the electric and magnetic field forms. Using these differential forms we can write the field strength as follows:
        \begin{gather}
            \mathbf{F} = \mathbf{B} - dt \wedge \mathbf{E}.
        \end{gather}
    }

    \begin{formula}[Maxwell's equations]
        Define the electric 4-current as \[\mathbf{J} = \rho dt - J_1dx^1 - J_2dx^2 - J_3dx^3.\] Maxwell's equations can now be rewritten as follows:
        \begin{align}
            d\mathbf{F} &= 0\label{maxwell:diff_homogeneous}\\
            \ast d(\ast \mathbf{F}) &= 4\pi\mathbf{J}
        \end{align}
        where $\ast$ is the Hodge operator \ref{tensor:explicit_hodge_star}.
    \end{formula}

    \newdef{Potential}{\index{potential}\index{gauge!field}
        The homogeneous equation \ref{maxwell:diff_homogeneous} and Poincar\'e's lemma\footnote{See theorem \ref{diff:poincare}.} imply that there exists a differential 1-form $\mathbf{A}$ such that
        \begin{gather}
            \mathbf{F} = d\mathbf{A}.
        \end{gather}
        This 1-form is called the potential or \textbf{gauge field}. This field can be related to the ordinary scalar potential $V$ and vector potential $\vector{A}$ as follows:
        \begin{gather}
            \mathbf{A} = -Vdt + A_1dx^1 + A_2dx^2 + A_3dx^3.
        \end{gather}
    }
    \begin{property}[Gauge transformation]\index{gauge!transformation}
        Because $d^2 \equiv 0$ the above equation is invariant under a transformation $\mathbf{A}\longrightarrow\mathbf{A}+df$ for any $f\in C^\infty(\mathbb{R}^3)$. When written out in coordinates, this gives us exactly the gauge transformations from equation \ref{maxwell:gauge_transformations}.
    \end{property}

    ?? COMPLETE ??
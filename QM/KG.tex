\chapter{Canonical Quantization}

\section{Klein-Gordon field}
\subsection{Lagrangian and Hamiltonian}

	The simplest Lagrangian (density) is given by:
	\begin{equation}
		\label{qft:klein_gordon_lagrangian}
		\boxed{\mathcal{L} = \frac{1}{2}\partial_\mu\phi\partial^\mu\phi - \frac{1}{2}m^2\phi^2}
	\end{equation}
	Using the principle of least action we obtain the following Euler-Lagrange equation\footnote{See formula \ref{lagrange:second_kind}.}:
	\begin{equation}
		\left(\partial^\mu\partial_\mu + m^2\right)\phi = 0
	\end{equation}
	which can be rewritten using the \textbf{d'Alembertian} $\Box = \partial_\mu\partial^\mu$:\index{d'Alembert!wave operator}\index{Klein-Gordon}
	\begin{equation}
		\label{qft:klein_gordon_equation}
		\boxed{(\Box+m^2)\phi = 0}
	\end{equation}
	This equation is called the Klein-Gordon equation. In the limit $m\rightarrow0$ this equation reduces to the well-known wave equation.
	
	From the Lagrangian \ref{qft:klein_gordon_lagrangian} we can also derive a Hamiltonian function using relations \ref{lagrange:conjugate_momentum} and \ref{hamilton:hamiltonian}:
	\begin{equation}
		\label{qft:klein_gordon_hamiltonian}
		\boxed{H = \int d^3x \frac{1}{2}\left[\pi^2(x) + (\nabla\phi(x))^2 + m^2\phi^2(x)\right]}
	\end{equation}
	
	
\subsection{Raising and lowering operators}

	Fourier expanding the scalar field $\phi(\vector{x}, t)$ in momentum space and inserting it into the Klein-Gordon equation gives:
	\begin{equation}
		\left(\partial_t^2 +p^2+m^2\right)\phi(\vector{p}, t) = 0
	\end{equation}
	This is the equation for a simple harmonic oscillator with frequency $\omega_{\vector{p}} = \sqrt{p^2 + m^2}$.
	
	Analogous to ordinary quantum mechanics we define the raising and lowering operators $a_{\vector{p}}^\dag$ and $a_{\vector{p}}$ such that:
	\begin{align}
		\phi(\vector{x}) &= \iiint\stylefrac{d^3p}{(2\pi)^{3/2}}\stylefrac{1}{\sqrt{2\omega_{\vector{p}}}}\left(a_{\vector{p}}e^{i\vector{p}\cdot\vector{x}} + a_{\vector{p}}^\dag e^{-i\vector{p}\cdot\vector{x}}\right)\label{qft:phi}\\
		\pi(\vector{x}) &= \iiint\stylefrac{d^3p}{(2\pi)^{3/2}}(-i)\sqrt{\stylefrac{\omega_{\vector{p}}}{2}}\left(a_{\vector{p}}e^{i\vector{p}\cdot\vector{x}} - a_{\vector{p}}^\dag e^{-i\vector{p}\cdot\vector{x}}\right)
	\end{align}
	An equivalent definition is obtained by performing the transformation $\vector{p}\rightarrow-\vector{p}$ in the second term of $\phi(\vector{x})$ and $\pi(\vector{x})$:
	\begin{empheq}[box=\widefbox]{align}
		\phi(\vector{x}) &= \iiint\stylefrac{d^3p}{(2\pi)^{3/2}}\stylefrac{1}{\sqrt{2\omega_{\vector{p}}}}\left(a_{\vector{p}} + a_{-\vector{p}}^\dag\right)e^{i\vector{p}\cdot\vector{x}}\\
		\pi(\vector{x}) &= \iiint\stylefrac{d^3p}{(2\pi)^{3/2}}(-i)\sqrt{\stylefrac{\omega_{\vector{p}}}{2}}\left(a_{\vector{p}} - a_{-\vector{p}}^\dag\right)e^{i\vector{p}\cdot\vector{x}}
	\end{empheq}
	
	When we impose the commutation relation
	\begin{equation}
		\label{qft:ladder_comutation}
		[a_{\vector{p}}, a_{\vector{q}}^\dag] = \delta(\vector{p}-\vector{q})
	\end{equation}
	we obtain the following commutation relation for the scalar field and its conjugate momentum:
	\begin{equation}
		[\phi(\vector{x}), \pi(\vector{y})] = i\delta(\vector{x} - \vector{y})
	\end{equation}
	Now, the Hamiltonian can be calculated explicitly:
	\begin{equation}
		\label{qft:Klein_gordon_hamiltonian}
		H = \int\frac{d^3p}{(2\pi)^3}\omega_{\vector{p}}\left(a_{\vector{p}}^\dag a_{\vector{p}} + \frac{1}{2}[a_{\vector{p}}, a_{\vector{p}}^\dag]\right)
	\end{equation}
	It is however clear from \ref{qft:ladder_comutation} that the second term in this integral diverges. There are two reasons for this divergence. Firstly, space is infinite, i.e. the $d^3x$ integral in \ref{qft:klein_gordon_hamiltonian} diverges. This problem can be resolved by restricting the system to a (finite) part of space or by considering the energy density instead of the energy itself. Secondly, by including very large values for $p$ in the integral we enter a parameter range where our theory is likely to break down. So we should introduce a "high $p$" cut-off\footnote{See \textit{regularization}.}.
	
	A more practical solution however is to note that only energy differences are physical and so we can drop the second term altogether as it is merely a "constant".
	
	A corollary of equation \ref{qft:Klein_gordon_hamiltonian} together with the canonical commutation relations is:
	\begin{empheq}[box=\widefbox]{align}
		[H, a_{\vector{p}}^\dag] &= \omega_pa_{\vector{p}}^\dag\\
		[H, a_{\vector{p}}] &= -\omega_pa_{\vector{p}}
	\end{empheq}
	As was the case for the quantum harmonic oscillator, the creation and annihilation operators deserve their names and we can write:
	\begin{equation}
		|\vector{k}_1, ..., \vector{k}_n\rangle = a^\dag(\vector{k}_1)\cdots a^\dag(\vector{k}_n)|0\rangle
	\end{equation}
	Furthermore, this equation together with the canonical commutation relations imply that the Klein-Gordon fields are bosonic fields.

\subsection{Scalar propagator}

	\newformula{Pauli-Jordan function}{\index{Pauli-Jordan function}
		\begin{equation}
			i[\phi(x), \phi(y)] = \underbrace{\int\frac{d^3p}{(2\pi)^3}\frac{1}{2\omega_p}\left(e^{-i\mathbf{p}\cdot(\mathbf{x}-\mathbf{y})} - e^{i\mathbf{p}\cdot(\mathbf{x}-\mathbf{y})}\right)}_{i\Delta(x-y)}
		\end{equation}
		In the case that $x^0 = y^0$ (ETCR) or $(x - y)^2 < 0$ (\textit{faster than light}) the Pauli-Jordan function is identically 0.\footnote{See also the axiom of microcausality \ref{qft:microcausality}}
	}
	
\subsection{Normalization constant}

	Under a general Lorentz boost $\Lambda$ the delta function $\delta^{(3)}(\vector{p}-\vector{q})$ transforms\footnote{This follows from property \ref{distribution:delta_of_function}.} as $\delta^{(3)}(\Lambda\vector{p} - \Lambda\vector{q})\frac{\Lambda E}{E}$. Although this is clearly not Lorentz invariant, we see that the quantity $E_p\delta^{(3)}(\vector{p}-\vector{q})$ is an invariant.
	
	The correct normalisation for the momentum representation thus becomes:
	\begin{equation}
		\sqrt{2E_p}a_{\mathbf{p}}^\dag|0\rangle = |\mathbf{p}\rangle
	\end{equation}
	and hence
	\begin{equation}
		\langle \mathbf{p}|\mathbf{q} \rangle = 2E_p(2\pi)^3\delta^{(3)}(\vector{p}-\vector{q})
	\end{equation}
	where the constants are a matter of convention (to cancel the constants in \ref{qft:phi}).

\subsection{Invariant integration measure}
	
	The factor $2E_p$ does not only occur in the normalisation conditions. To find a Lorentz invariant integration measure in spacetime we consider the following integral:
	\begin{equation}
		\int\frac{d^3p}{2E_p} = \left.\int d^4p\ \delta(p^2-m^2)\right|_{p^0>0}
	\end{equation}
	By using this measure we ensure that the integral of any Lorentz invariant function $f(p)$ is again Lorentz invariant.
	\begin{example}[One-particle identity operator]\index{identity!operator}
		\begin{equation}
			\hat{\mathbbm{1}}_1 = \int\frac{d^3p}{2E_p}|\mathbf{p}\rangle\langle\mathbf{p}|
		\end{equation}
	\end{example}

\section{Dirac field}

	

\section{Contractions and Wick's theorem}
\subsection{Bosonic fields}
	
	In the following definitions (field) operators will be decomposed as
	\[\phi = \phi^{(+)} + \phi^{(-)}\]
	where the + symbol denotes the 'positive frequency' part, i.e. the part consisting of annihilation operators\footnote{The classic Fourier integral is defined using an exponential $e^{-i\mathbf{k\cdot x}}$. By looking at equation \ref{qft:phi} and remembering that we are working in the $(1, 3)$ Minkowski signature, we see that the annihilators always occur together with a positive frequency exponential.}. The 'negative frequency' part is defined analogously.

	\newdef{Contraction for neutral bosonic fields}{\index{contraction}
		\begin{equation}
			\contraction{}{\phi}{(x)}{\phi}\phi(x)\phi(y)=
			\begin{cases}
				[\phi(x)^{(+)}, \phi(y)^{(-)}]\qquad x^0>y^0\\
				[\phi(y)^{(+)}, \phi(x)^{(-)}]\qquad y^0>x^0
			\end{cases}
		\end{equation}
	}
	\newformula{Feynman propagator}{\index{Feynman!propagator}
		\begin{equation}
			\contraction{}{\phi}{(x)}{\phi}\phi(x)\phi(y) = i\underbrace{\lim_{\varepsilon\rightarrow 0^+}\int\frac{d^4k}{(2\pi)^4}\frac{e^{-i\mathbf{k}\cdot(\mathbf{x}-\mathbf{y})}}{k^2 - m^2 + i\varepsilon}}_{\Delta_F(\mathbf{x}-\mathbf{y})}
		\end{equation}
	}
	
	\newdef{Contraction for charged bosonic fields}{
		\begin{equation}
			\contraction{}{\phi}{(x)}{\overline\phi}\phi(x)\overline\phi(y)=
			\begin{cases}
				[\phi(x)^{(+)}, \overline\phi(y)^{(-)}]\qquad x^0>y^0\\
				[\phi(y)^{(+)}, \overline\phi(x)^{(-)}]\qquad y^0>x^0
			\end{cases}
		\end{equation}
	}
	
	\newdef{Normal ordering}{\index{normal!ordering}
		The normal ordering\footnote{Sometimes denoted by $:\ \ :$} $\mathcal{N}$ of a sequence of field operators is defined as the permuted sequence in which all annihilation operators appear on the right of the creation operators. For example: \[\mathcal{N}\Big(\phi(x)\phi^\dag(y)\phi(z)\Big) = \phi^\dag(y)\phi(x)\phi(z)\]
	}
	\begin{property}
		The vacuum state expectation value of a normal ordered sequence is 0.
	\end{property}
	
	\newformula{Wick's theorem for bosonic fields}{\index{Wick!theorem for time-ordered integrals}
		\begin{equation}
			\mathcal{T}\Big(\underbrace{\phi(x_1)\phi(x_2)...\phi(x_n)}_{S}\Big) = \mathcal{N}\Big(\phi(x_1)...\phi(x_n) + \text{all possible contractions}\Big)
		\end{equation}
	}
	
	\begin{remark}
		In the case of charged bosons, only contractions of the form $\contraction{}{\phi}{(x)}{\overline\phi}\phi(x)\overline\phi(y)$ will remain because $[a, b^+] = 0$.
	\end{remark}

\subsection{Fermionic fields}

	\newdef{Contraction}{
		\begin{equation}
			\contraction{}{\psi}{(x)}{\overline\psi}\psi(x)\overline\psi(y)=
			\begin{cases}
				\{\psi(x)^{(+)}, \overline\psi(y)^{(-)}\}_+\qquad x^0>y^0\\
				-\{\psi(y)^{(+)}, \overline\psi(x)^{(-)}\}_+\qquad y^0>x^0
			\end{cases}
		\end{equation}
	}
	\begin{remark}
		Only contractions of the form $\contraction{}{\psi}{(x)}{\overline\psi}\psi(x)\overline\psi(y)$ will remain because $\{a, b^+\}_+ = 0$.
	\end{remark}
	
	\newformula{Feynman propagator}{\index{Feynman!propagator}
		\begin{equation}
			\contraction{}{\psi}{(x)}{\overline\psi}\psi(x)\overline\psi(y) = i\underbrace{\lim_{\varepsilon\rightarrow 0^+}\int\frac{d^4p}{(2\pi)^4}\frac{\slashed{p} + m}{p^2 - m^2 + i\varepsilon}e^{-ip\cdot(x-y)}}_{S_F(x-y)}
		\end{equation}
	}
	
	\begin{remark}[Normal ordering]
		One should take into account the Fermi-Dirac statistics when permuting fermionic field operators under a normal ordering. A general factor $\sgn(P)$, where $P$ is the permutation of the operators, will arise in every term.
		
		For example: \[\mathcal{N}\Big(\psi(x)\overline\psi(y)\psi(z)\Big) = -\overline\psi(y)\psi(x)\psi(z)\]
		A similar remark should be made for the time ordering $\mathcal{T}$.
	\end{remark}

\chapter{Categories, Operads and Topoi}

\section{Category theory}
\subsection{Categories and subcategories}

	\newdef{Subcategory}{
		Let $C$ be a category. A subcategory $S$ of $C$ consists of a subcollection of objects ob$_S$ and a subcollection of morphisms hom$_S$ that satisfy following conditions:
		\begin{itemize}
			\item For every object in ob$_S$ the identity morphism is in hom$_S$.
			\item For every morphism in hom$_S$ both the source and target are in ob$_S$.
			\item For every pair of morphisms in hom$_S$ the composition is also in hom$_S$.
		\end{itemize}
		A subcategory is said to be \textbf{full} if for every two objects $X, Y\in\ob_S:$ \[\text{hom}_S(X, Y) = \text{hom}_C(X, Y)\]
	}
	
	\newdef{Small category}{\index{small}
		A category $C$ is said to be small if both ob$(C)$ and hom$(C)$ are sets. A category $C$ is said to be locally small if for every two objects $X, Y\in\ob(C)$ the collection of morphisms hom$_C(X, Y)$ is a set.
	}
	
	\newdef{Opposite categopy}{
		Let $C$ be a category. The opposite category $C^{op}$ is defined by reversing all arrows in $C$.
	}
	\begin{property}
		From the definition of the opposite category it easily follows that
		\begin{equation}
			(C^{op})^{op} = C
		\end{equation}
		, i.e. $op$ is an involution.
	\end{property}
	
	\newdef{Enriched category}{\index{category!enriched}
	        Let $(M, \otimes)$ be a monoidal category. An enriched category over $M$, also called an $M$-category, consists of following elements:
	        \begin{itemize}
	                \item A collection of objects ob$(C)$.
	                \item For every pair of object $A, B\in\ob(C)$ there is an object $C(A, B)\in\ob(M)$ for which the following morphisms exist:
	                \begin{itemize}
	                        \item id$_A: \mathbf{1}\rightarrow C(A,A)$
	                        \item $\circ_{ABC}:C(B, C)\otimes C(A, B)\rightarrow C(A, C)$ replacing the usual composition  
	                \end{itemize}
	        \end{itemize}
	        The associativity and identity morphisms from ordinary categories are given by commutative diagrams of the id and $\circ$ morphisms together with the associators and unitors in $M$.
	}

\subsection{Functors}

	\newdef{Covariant functor}{\index{functor}
		Let $A, B$ be categories. A (covariant) functor $F$ is a map $A\rightarrow B$ satisfying following conditions:
		\begin{itemize}
			\item $F$ maps every object $X\in\ob(A)$ to an object $F(X)\in\ob(B)$.
			\item $F$ maps every morphism $\phi\in\text{hom}_A(X, Y)$ to a morphism $F(\phi)\in\text{hom}_B(F(X), F(Y))$.
			\item $F(\mathbbm{1}_X) = \mathbbm{1}_{F(X)}$
			\item $F(\phi\circ\psi) = F(\phi)\circ F(\psi)$
		\end{itemize}
	}
	\newdef{Contravariant functor}{
		Let $A, B$ be categories. A contravariant functor $F$ is a map $A\rightarrow B$ satisfying following conditions:
		\begin{itemize}
			\item $F$ maps every object $X\in\ob(A)$ to an object $F(X)\in\ob(B)$.
			\item $F$ maps every morphism $\phi\in\text{hom}_A(X, Y)$ to a morphism $F(\phi)\in\text{hom}_B(F(Y), F(X))$.
			\item $F(\mathbbm{1}_X) = \mathbbm{1}_{F(X)}$
			\item $F(\phi\circ\psi) = F(\psi)\circ F(\phi)$
		\end{itemize}
	}
	\remark{A contravariant functor can also be defined as a covariant functor on the opposite category.}
	
	\newdef{Faithful functor}{\index{faithful}
		A functor $F:C\rightarrow D$ is said to be faithful if the map hom$_C(X, Y)\rightarrow \text{hom}_D(F(X), F(Y))$ is injective for all objects $X, Y\in\ob(C)$.
	}
	\newdef{Full functor}{\index{full}
		A functor $F:C\rightarrow D$ is said to be full if the map hom$_C(X, Y)\rightarrow \text{hom}_D(F(X), F(Y))$ is surjective for all objects $X, Y\in\ob(C)$.
	}
	
	\begin{example}[hom-functor]
		Let $C$ be a locally small category. Every object $X\in\ob(C)$ induces a functor $h^X:C\rightarrow\text{Set}$ defined as follows:
		\begin{itemize}
			\item $h^X$ maps every object $Y\in\ob(C)$ to the set hom$_C(X, Y)$.
			\item For all $Y, Z\in\ob(C)$, $h^X$ maps every morphism $f\in\text{hom}_C(Y, Z)$ to the morphism $f\circ-:\text{hom}_C(X, Y)\rightarrow\text{hom}_C(X, Z):g\mapsto f\circ g$.
		\end{itemize}
	\end{example}
	\remark{The contravariant hom-functor $h_X$ is defined by replacing hom$(X, -)$ by hom$(-, X)$.}
	
	\newdef{Discrete fibration}{\index{fibration}
		Let $F:A\rightarrow B$ be a functor. $F$ is a discrete fibration if for every object $a\in\ob(A)$ and every morphism $f:b\rightarrow F(a)$ in $B$ there exists a unique morphism $g:c\rightarrow a$ in $A$ such that $F(g) = f$, where $b\in\ob(B), c\in\ob(A)$.
	}
	
	\newdef{Comma category}{\index{category!comma}
		Let $A, B, C$ be three categories and let $F:A\rightarrow C$ and $G:B\rightarrow C$ be two functors. The comma category $F\downarrow G$ is defined as follows:
		\begin{itemize}
			\item Objects are triples $(a, b, \gamma)$ where $a\in\ob(A), b\in\ob(B)$ and $\gamma:F(a)\rightarrow G(b)\in\text{hom}(C)$.
			\item Morphisms $(a, b, \gamma)\rightarrow(k, l, \sigma)$ are pairs $(f, g)$ where $f:a\rightarrow k\in\text{hom}(A)$ and $g:b\rightarrow l\in\text{hom}(B)$ such that $\sigma\circ F(f) = G(g)\circ\gamma$.
			\item Composition of morphisms is defined componentwise.
		\end{itemize}
	}
	\newdef{Slice category}{\index{category!slice}
		Let $C$ be a category and let $c\in\ob(C)$. The slice category $C/c$ of $C$ over $c$ is defined as follows:
		\begin{itemize}
			\item Objects are morphisms in $C$ with codomain $c$.
			\item Morphisms $f\rightarrow g$ are morphisms $h$ in $C$ such that $g\circ h = f$.
		\end{itemize}
	}
	
	\newdef{Sieve}{\index{sieve}
		Let $C$ be a small category. A sieve $S$ on $C$ is a functor $S\rightarrow C$ that is fully faithfull and a discrete fibration.
		
		A sieve $S$ on an object $c\in C$ is a sieve in the slice category $C/c$. This means that $S$ is a subset of $\ob(C/c)$ that is closed under \textit{precomposition}, i.e. if $b\rightarrow c\in S$ and $a\rightarrow b\in\text{hom}(C)$ then the composition $a\rightarrow b\rightarrow c\in S$.
	}
	

\subsection{Natural transformations}
	\newdef{Natural transformation}{\index{natural!transformation}
		Let $F, G$ be two functors between the categories $C$ and $D$. A natural transformation $\psi$ from $F$ to $G$ consists of a collection of morphisms satisfying two conditions:
		\begin{itemize}
			\item For every object $X\in\ob(C)$ there exists a morphism $\psi_X:F(X)\rightarrow G(X)$ in $\text{hom}(D)$. This morphism is called the component of $\psi$ at $X$.
			\item For every morphism $f\in\text{hom}_C(X, Y)$ we have $\psi_Y\circ F(f) = G(f)\circ\psi_X$.
		\end{itemize}
		It is often said that \textbf{$\psi_X$ is natural in $X$}.
	}
	\begin{notation}
		A natural transformation $\psi$ from a functor $F$ to a functor $G$ is denoted by $\psi: F\Rightarrow G$.\footnote{This is in analogy with the notation for general 2-morphisms. See section \ref{cat:higher_category_theory} for more information.}
	\end{notation}
	
	\begin{example}
	        When considering representations as a functor $\rho:\text{Grp}\rightarrow\text{FinVect}$, we see that the intertwiners\footnote{See definition \ref{group:equivariant}.} play the rol of natural transformations.
	\end{example}
	\begin{example}[Functor category]\index{functor!category}
		Let $C$ be a small category and let $D$ be a category. The functors $F:C\rightarrow D$ form the objects of a category with the natural transformations as morphisms. This category is denoted by $[C, D]$ or $D^C$ (analogous to \ref{set:function_set}).
	\end{example}
	
	\newdef{Representable functor}{\index{functor!representable}
		Let $C$ be a locally small category. A functor $F:C\rightarrow\text{Set}$ is said to be representable if there exists an object $X\in\ob(C)$ such that $F$ is naturally isomorphic to $h^X$. The pair $(X, \psi)$, where $\psi$ is the natural isomorphism, is called a \textbf{representation} of $F$.
	}
	
	\begin{theorem}[Yoneda's lemma]\index{Yoneda}
		Let $C$ be a locally small category and let $F:C\rightarrow\emph{Set}$ be a functor. For every object $X\in\emph\ob(C)$ there exists a natural isomorphism\footnotemark\ between the set of natural transformations \emph{Nat}$(h^X, F)$ and $F(X)$.
		\footnotetext{Here we used the fact that Nat$(h^-, -)$ can be seen as a functor Set$^C\times C\rightarrow$ Set.}
	\end{theorem}
	\sremark{The image of a natural transformation $\psi\in\text{Nat}(h^X, F)$ is given by $\psi_X(\mathbbm{1}_X)$.}
	\begin{result}[Yoneda embedding]
		When $F$ is another hom-functor $h^Y$ we obtain the following result:
		\begin{equation}
			\text{Nat}(h^X, h^Y)\cong\text{hom}_C(Y, X)
		\end{equation}
		where one should pay attention to the right hand side where $Y$ appears in the \underline{first} argument.
		
		Let $\text{hom}(f, -)$ denote the natural transformation corresponding to the morphism $f\in\text{hom}_C(Y,X)$. The (contravariant) functor $h^-$ mapping every object $X\in\ob(C)$ to its hom-functor hom$(X, -)$ and every morphism $f\in\text{hom}_C(Y, X)$ to the natural transformation hom$(f, -)$ can also be interpreted as a covariant functor $G:C^{op}\rightarrow\text{Set}^C$. This way we see that Yoneda's lemma gives us a fully faithful functor (i.e. an embedding) $h^-$ from the opposite category $C^{op}$ to the functor category Set$^C$.
		
		As usual all of this can be done for contravariant functors. This gives us an embedding $h_-:C\hookrightarrow\text{Set}^{C^{op}}$, called the Yoneda embedding. 
	\end{result}

\subsection{Initial and terminal objects}

	\newdef{Initial object}{
		An object $O$ in a category $C$ is called initial if for every other object $P$ there exists a unique morphism $\iota_{O, P}:O\rightarrow P$.
	}
	\newdef{Terminal object}{
		An object $O$ in a category $C$ is called terminal if for every other object $P$ there exists a unique morphism $\tau_{O, P}:P\rightarrow O$.
	}
	\begin{property}
		If an initial (resp. terminal) object exists, then it is unique (possibly up to isomorphism).
	\end{property}

\subsection{Higher category theory}\label{cat:higher_category_theory}

	\newdef{$n$-Category}{\index{n-category}
		A (strict) $n$-category consists of:
		\begin{itemize}
			\item Objects, called 0-morphisms.
			\item 1-morphisms going between 0-morphisms.
			\item ...
			\item $n$-morphisms going between $(n-1)$-morphisms.
		\end{itemize}
		such that the composition of $k$-morphisms ($\forall k\leq n$) is associative and satisfies the unit laws as required in an ordinary category.
	}
	\begin{example}[2-Category]
		In a 2-category one can compose 2-morphisms in two different ways:
		\begin{enumerate}
			\item Horizontal composition:
			Consider the 2-morphisms $\alpha:f\implies g$ and $\beta:f'\implies g'$ where $f'\circ f, g'\circ g$ are well-defined. These 2-morphisms can be composed as: \[\beta\circ\alpha: f'\circ f\implies g'\circ g\]
			\item Vertical composition:
			Consider the 2-morphisms $\alpha:f\implies g$ and $\beta:g\implies h$ where $f, g$ and $h$ have the same domain and codomain. These 2-morphisms can be composed as: \[\beta\cdot\alpha: f\implies h\]
		\end{enumerate}
		Furthermore, the horizontal and vertical composition should satisfy an interchange law:
		\begin{equation}
			(\alpha\cdot\beta)\circ(\gamma\cdot\delta) = (\alpha\circ\gamma)\cdot(\beta\circ\delta)
		\end{equation}
	\end{example}
	
	\remark{$n$-Morphisms are also often called \textbf{$n$-cells}.}
	
	\begin{example}
		The classical example of a 1-category is Set, the classical example of a 2-category is Cat.
	\end{example}

\subsection{Groupoids}

	\newdef{Groupoid}{\index{groupoid}
		A groupoid $\mathcal{G}$ is a small category in which all morphisms are invertible.
	}
	
	\newdef{2-Groupoid}{
		An 2-groupoid is a 2-category in which all 1-morphisms are invertible and every 2-morphisms has a 'vertical' inverse. The 'horizontal' inverse can be constructed from the other inverses.
	}
	\newdef{2-Group}{
		A 2-group is defined as a 2-groupoid with only one object. From this it follows that the set of 1-morphisms forms a group and so does the set of 2-morphisms under horizontal composition. The 2-morphisms do not form a group under vertical composition\footnote{Because the sources/targets may not match up.}.
	}


\section{Operad theory}
\subsection{Operads}

	\newdef{Plain operad\footnotemark}{\index{operad}\index{arity}
		\footnotetext{Also called a \textbf{non-symmetric operad} or \textbf{non-$\Sigma$ operad}.}
		Let $\mathcal{O} = \{P(n)\}_{n\in\mathbb{N}}$ be a sequence of sets, called \textbf{$n$-ary operations} ($n$ is the \textbf{arity}). The set $\mathcal{O}$ is called a plain operad if it satisfies following axioms:
		\begin{enumerate}
			\item $P(1)$ contains an identity element $\mathbbm{1}$.
			\item For all positive integers $n, k_1, ..., k_n$ there exists a composition
			\begin{equation}
				\circ:P(n)\times P(k_1)\times\cdots\times P(k_n)\rightarrow P(k_1+\cdots k_n):(\psi, \theta_1, ..., \theta_n)\mapsto \psi\circ(\theta_1, ..., \theta_n)
			\end{equation}
			that satisfies two additional axioms:
			\begin{itemize}
				\item Identity:
				\begin{equation}
					\theta\circ (\mathbbm{1}, ..., \mathbbm{1}) = \mathbbm{1}\circ\theta = \theta
				\end{equation}
				\item Associativity:
				\begin{align}
					\psi\circ\Big(\theta_1\circ&(\theta_{1, 1}, ..., \theta_{1, k_1}), ..., \theta_n\circ(\theta_{n, 1}, ..., \theta_{n, k_n})\Big)\nonumber\\
					&= \Big(\psi\circ(\theta_1, ..., \theta_n)\Big) \circ (\theta_{1,1}, ..., \theta_{1, k_1}, \theta_{2, 1}, ..., \theta_{n, k_n})
				\end{align}
			\end{itemize}
		\end{enumerate}
	}

        \newdef{$O$-algebra}{\index{algebra!over an operad}
                An object $X$ is called an algebra over an operad $O$ if there exist morphisms $O(n)\times X^n\rightarrow X$ for every $n\in\mathbb{N}$ satisfying the usual composition and identity laws.
        }
        \begin{example}[Categorical $O$-algebra]
                An $O$-algebra in the category Cat.
        \end{example}

\section{Topos theory}

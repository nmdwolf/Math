\chapter{\difficult{Model theory}}\label{chapter:model_theory}

    General reference for this chapter are \cite{riehl_model, hovey}. For more on monoidal model categories see \cite{riehl_monoidal}. A good reference for the section on simplicial spaces and in particular for the theory of Segal spaces is \cite{rezk}. For more on Reedy model structures see \cite{riehl_verity_reedy}. A gentle introduction to the theory of homotopy (co)limits can be found in \cite{lambrechts}.

\section{Simplicial sets}

    \newdef{Simplex category}{\index{simplex!category}
        \nomenclature[S_simpcat]{$\simplex$}{The simplex category.}
        The simplex category $\simplex$ has as objects the posets of the form $[n] = \{0,\ldots,n\}$ and as morphisms the order-preserving maps.
    }
    \newdef{Simplicial set}{\index{simplicial!set}\label{sheaf:simplicial set}
        The category $\mathbf{sSet}$ of simplicial sets is given by the presheaf category $\mathbf{Psh(\Delta)}$. The set $X_n:=X([n])$ is called the set of \textbf{$n$-simplices} in $X$.
    }
    \newdef{Simplicial object}{\index{simplicial!object}
        By internalizing the notion of a simplicial set in any category one obtains the definition of a simplicial object, i.e. a simplicial object in a category $\mathbf{C}$ is a $\mathbf{C}$-valued presheaf on $\simplex$. This way a simplicial set is just a simplicial object in \textbf{Set}.
    }
    \remark{Note that the notion of \textbf{simplicial category} can mean two distinct things. In general it will mean a category enriched in $\mathbf{sSet}$. However, conform the above definition, it can also mean a simplicial object in the (2-)category $\mathbf{Cat}$. It can be shown that all simplicially enriched categories are a specific kind of degenerate simplicial object in $\mathbf{Cat}$ where the face and degeneracy maps are identity-on-objects.}

    \begin{property}\index{face!map}\index{degeneracy map}
        All morphisms in the simplex category $\simplex$ are generated by two types:
        \begin{itemize}
            \item For every $n$, the unique map $\delta_{n,i}:[n-1]\rightarrow[n]$ which misses the $i^{th}$ element.
            \item For every $n$, the unique map $\sigma_{n,i}:[n+1]\rightarrow[n]$ which duplicates the $i^{th}$ element.
        \end{itemize}
        Under the action of a presheaf this gives the \textbf{face} and \textbf{degeneracy} maps $d_{n, i}$ and $s_{n, i}$. (If the index $n$ is clear, then it is often omitted in the notation.)

        Their fundamental relations are called the \textbf{simplicial identities}:
        \begin{itemize}
            \item $d_i\circ d_j = d_{j-1}\circ d_i$ for $i<j$,
            \item $d_i\circ s_j = s_{j-1}\circ d_i$ for $i<j$,
            \item $d_i\circ s_j = \text{id}$ for $i=j$ or $i=j+1$,
            \item $d_i\circ s_j = s_j\circ d_{i-1}$ for $i>j+1$, and
            \item $s_i\circ s_j = s_{j+1}\circ s_i$ for $i\leq j$.
        \end{itemize}
    \end{property}

    \newdef{Standard simplex}{\index{simplex}\label{sheaf:standard_simplex}
        For every $n$ we define the standard simplicial $n$-simplex $\Delta[n]$ as the Yoneda embedding $\simplex(-, [n])$. We can also define a functor $\func{\Delta_{\text{top}}}{\Delta}{Top}$ that maps $[n]$ to the standard topological $n$-simplex $\Delta^n$ (see definition \ref{top:standard_simplex}).
    }
    \begin{property}
        By the Yoneda lemma there exists a natural bijection between the set of $n$-simplices of a simplicial set $X$ and the set of maps $\Delta[n]\rightarrow X$.
    \end{property}

    \newdef{Connected components}{\index{connected}
        Consider a simplicial set $X$. Its set of connected components $\pi_0X$ is defined as the quotient of $X_0$ under the relation \[X_1\underset{d_1}{\overset{d_0}{\rightrightarrows}}X_0\times X_0.\]
    }

    \begin{construct}[Nerve and realization]\label{model:nerve_and_realization}
        Consider a general functor $\func{F}{S}{C}$ into a cocomplete category ($\mathbf{S}$ will often be a category of geometric shapes such as the simplex category $\Delta$ or the cube category $\mbox{\mancube}$). Every such functor induces an adjunction
        \begin{gather}
            \mathbf{C}\adj{|-|}{N}\mathbf{Psh}(\mathbf{S}).
        \end{gather}
        The \textbf{realization functor} $|-|$ is defined as the left Kan extension $\text{Lan}_{\mathcal{Y}}F$. The \textbf{nerve functor} $\func{N}{C}{Psh(S)}$ is defined as $Nc := \mathbf{C}(F-, c)$.

        This definition also holds in an enriched setting, i.e. for  $\mathbf{Psh}(\mathbf{S})\equiv[\mathbf{S}^{op},\mathcal{V}]$. If we furthermore assume that $\mathbf{C}$ is copowered over $\mathcal{V}$, we can express the realization as a coend:
        \begin{gather}
            |X| = \int^{s\in\mathbf{S}}Xs\cdot Fs.
        \end{gather}
    \end{construct}

    \begin{example}[Nerve of a category]\index{nerve}\label{model:nerve}
        \nomenclature[S_Nerve]{$N\mathbf{C}$}{The simplicial nerve of a small category $\mathbf{C}$.}
        To every small category \textbf{C} we can associate a simplicial set $N\mathbf{C}$ in the following way. The set $N\mathbf{C}_0$ is given by the set of objects in $\mathbf{C}$. The set $N\mathbf{C}_1$ is given by the set of morphisms in $\mathbf{C}$. Now, for every two composable morphisms $f, g$ one obtains a canonical commuting triangle. Let $N\mathbf{C}_2$ be the set of all these triangles. The higher simplices are defined analogously. Face maps act by composing morphisms or by dropping the exterior morphisms. Degeneracy maps act by inserting an identity morphism.

        Equivalently, one can define the (simplicial) nerve functor in the following way: Every poset $[n]$ as defined above admits a canonical category structure for which the order-preserving maps give rise to the associated functors. This inclusion $\simplex\hookrightarrow\mathbf{Cat}$ induces the functor
        \begin{gather}
            N:\mathbf{Cat}\rightarrow\mathbf{sSet}:\mathbf{C}\mapsto\mathbf{Cat}(-, \mathbf{C}).
        \end{gather}
        This way we obtain $N\mathbf{C}_k=\mathbf{Cat}([k], \mathbf{C})$. This object is by definition equivalent to the collection of all strings of $k$ composable morphisms in $\mathbf{C}$.
    \end{example}

    \begin{example}[Geometric realization]\index{geometric!realization}\label{model:geometric_realization}
        Consider a simplicial set $X$. From this object we can construct a topological space as follows: First we take a point for every element in $X_0$. Then we glue 1-simplices between these points using the face maps. The higher (nondegenerate) simplices are attached analogously.

        For simplicial topological spaces\footnote{These include ordinary simplicial sets since every $n$-simplex $X_n$ can be endowed with the discrete topology.} this amounts to the following explicit formula:
        \begin{gather}
            |X| := \bigsqcup_{n\in\mathbb{N}}X_n\times\Delta^n / \sim
        \end{gather}
        where the equivalence relation identifies the points $(x,f_*y)$ and $(f^*x,y)$ for all morphisms $f\in\text{hom}(\Delta)$.\footnote{The morphisms $f^*, f_*$ are the ones induced by $X$ and $\Delta_{\text{top}}:\Delta\hookrightarrow\mathbf{Top}$.} For simplicial sets this can also be rewritten as a functor tensor product \ref{cat:functor_tensor_product}:
        \begin{gather}
            |X| = X\otimes_{\Delta}\Delta_{\text{top}}.
        \end{gather}
        It immediately follows that
        \begin{gather}
            |\Delta[n]| = \Delta^n.
        \end{gather}
    \end{example}
    \begin{example}[Singular set]\index{singular!set}\label{model:singular_set}
        Given a topological space $X$ we can define a simplicial set $\text{Sing}(X)$. Its components are defined as the set of morphisms from the standard (topological) $n$-simplex to $X$:
        \begin{gather}
            \text{Sing}(X)_n := \mathbf{Top}(\Delta^n, X).
        \end{gather}
        This is the object of relevance in the definition of singular (co)homology (see section \ref{section:singular_homology}).
    \end{example}

    \begin{property}[Classifying space]\index{bar construction}\index{classifying!space}
        For a (discrete) group $G$ one can construct two important objects: the delooping $\mathbf{B}G$ and the classifying space $BG$ (see definitions \ref{cat:group_delooping} and \ref{diff:prin:classifying_space} respectively). As their notations imply there exists some relation between these space: By first taking the nerve of $\mathbf{B}G$ and then going to its geometric realization we obtain $BG$. In fact this method can be applied to any monoid $A$ to obtain the so-called (two-sided) \textit{bar construction}.
    \end{property}

\subsection{Kan complexes}

    \newdef{Horn}{\index{horn}
        Consider the standard simplex $\Delta[n]$. For all $n\geq1$ and $0\leq k\leq n$ we define the $(n,k)$-horn $\Lambda^k[n]$ as the subsimplicial set obtained by removing the $k^{th}$ face from $\partial\Delta[n]$. When $k=0$ or $k=n$, the horn is said to be \textbf{outer}, otherwise it is said to be \textbf{inner}.
    }

    \newdef{Kan fibration}{\index{Kan!fibration}
        A morphism of simplicial sets that has the right lifting property with respect to all horn inclusions $\Lambda^k[n]\hookrightarrow\Delta[n]$.
    }
    \newdef{Kan complex}{\index{Kan!complex}
        \nomenclature[S_Kan]{$\mathbf{Kan}$}{category of Kan complexes}
        A simplicial set that has all horn fillers, or equivalently, a simplicial set for which the terminal morphism is a Kan fibration. The full subcategory on Kan complexes is denoted by $\mathbf{Kan}$.
    }

    \begin{property}[Horn filler condition]\label{model:horn_filler}
        A simplicial set is the nerve of a (small) category if and only if all of its inner horns admit a unique filler. If we require all horns to admit a unique filler, then we obtain the nerve of a groupoid.
    \end{property}

    By relaxing the above requirements we can generalize the notion of a category (due to \textit{Boardman} and \textit{Vogt}):
    \newdef{Quasicategory\footnotemark}{\index{quasicategory}\index{logos}\index{Boardman condition}
        \footnotetext{Some authors such as \textit{Joyal} call these \textbf{logoi} (singular: \textbf{logos}).}
        A simplicial set that has (not necessarily unique) fillers for all inner horns. This condition is sometimes called the \textbf{Boardman condition}.
    }

    \newdef{Homotopy category I}{\index{homotopy!category}
        Let $X$ be a quasicategory. The homotopy category $\mathbf{Ho}(X)$ consists of the following data:
        \begin{enumerate}
            \item $\text{ob}(\mathbf{Ho}(X)) := X_0$, and
            \item the morphism object is the quotient of $X_1$ under the relation $f\circ g\sim h$ if there exists a 2-simplex with edges $f,g$ and $h$.
        \end{enumerate}
    }
    \begin{property}[Fundamental category]\index{fundamental!category}
        If $X$ is a quasicategory, its homotopy category is equivalent to its \textbf{fundamental category} $\pi_1X$, i.e. the image under the left adjoint of the (simplicial) nerve functor.
    \end{property}

    The following theorem is a restatement of property \ref{model:horn_filler}:
    \begin{theorem}[Joyal]\index{Joyal}
        A quasicategory is a Kan complex if and only if its homotopy category is a groupoid.
    \end{theorem}

\subsection{Homological algebra}

    In this section we relate simplicial sets to homological algebra (see chapter \ref{chapter:hom_alg}). A basic introduction is \cite{master2020homology}.

    The objects of focus in this section will be simplicial vector spaces, i.e. functors $\Delta^{op}\rightarrow\mathbf{Vect}$. Any simplicial set $X:\Delta^{op}\rightarrow\mathbf{Set}$ can be turned into a simplicial vector space through composition with the free vector space functor.

    Given a simplicial vector space $X$, we can construct a chain complex $\mathbf{X}$ as follows:
    \begin{construct}[Alternating face map complex]\index{normalized!complex}
        For every $n\in\mathbb{N}$ we define
        \begin{gather}
            \mathbf{X}_n := X_n \equiv X([n]).
        \end{gather}
        The boundary maps $\delta_n$ are defined as an alternating sum of the face maps:
        \begin{gather}
            \delta_n := \sum_{i=1}^n(-1)^id_i.
        \end{gather}
        If we quotient out the degenerate simplices, we obtain the so-called \textbf{normalized complex}.
    \end{construct}
    \begin{theorem}[Dold-Kan correspondence]\index{Dold-Kan correspondence}\label{sheaf:dold_kan}
        The functor mapping simplicial vector spaces to normalized chain complexes gives an equivalence of categories $\mathbf{sVect}\rightarrow\mathbf{Ch}_\bullet(\mathbf{Vect})$.
    \end{theorem}

\section{Localization}

    \newdef{Category with weak equivalences}{\index{weak!equivalence}\label{cat:weak_equivalence}
        A category $\mathbf{C}$ with a subcategory $\mathbf{W}$ such that:
        \begin{enumerate}
            \item $\mathbf{W}$ contains all isomorphisms in $\mathbf{C}$.
            \item Any two composable morphisms $f, g\in\text{hom}(\mathbf{W})$ satisfy the ''2-out-of-3 property'': If any two of $\{f,g,f\circ g\}$ are in $\text{hom}(\mathbf{W})$, so is the third.
        \end{enumerate}
    }

    \newdef{Weak factorization system}{\index{factorization!weak}\label{model:wfc}
        Consider a category $\mathbf{C}$. A pair $(L, R)$ of classes of morphisms in $\mathbf{C}$ is called a weak factorization system (WFS) if it satisfies the folllowing 3 properties:
        \begin{enumerate}
            \item Every morphism in $\mathbf{C}$ factors as a composition $g\circ f$ where $f\in L$ and $g\in R$.
            \item $L$ consists of exactly those morphisms in $\mathbf{C}$ that have the left lifting property \ref{cat:lifting_property} with respect to morphisms in $R$.
            \item $R$ consists of exactly those morphisms in $\mathbf{C}$ that have the right lifting property with respect to morphisms in $L$.
        \end{enumerate}
    }
    \begin{remark*}
        The original definition by Quillen only required that $L$ and $R$ satisfied the lifting properties with respect to each other, not that they were closed under this condition.\footnote{Model categories defined using the ''strong'' notion of weak factorization system were then called \textbf{closed model categories}.} This was later fixed by introducing the condition that both $L$ and $R$ are closed under retracts in the arrow categories. (The latter being equivalent to our direct definition of closure.)
    \end{remark*}

    \newdef{Homotopical functor}{\index{functor!homotopical}
        Consider two categories with weak equivalences $\mathbf{C,D}$. A functor $\func{F}{C}{D}$ is said to be homotopical if it preserves weak equivalences.
    }

    \newdef{Gabriel-Zisman localization}{\index{localization!Gabriel-Zisman}\label{cat:localization}
        Consider a category $\mathbf{C}$ with a collection of morphisms $M\subset\text{mor}(\mathbf{C})$. The localization of $\mathbf{C}$ with respect to $M$ is constructed by adding for each morphism $f\in M$ a formal inverse to $\text{mor}(\textbf{C})$. More specifically the localization consists of the following data:
        \begin{enumerate}
            \item a category $\mathbf{C}[M^{-1}]$, and
            \item a functor $F_M:\mathbf{C}\rightarrow\mathbf{C}[M^{-1}]$ that inverts all morphisms in $M$
        \end{enumerate}
        such that $F_M$ is universal with respect to inverting $M$: For every other category $\mathbf{D}$ and functor $\func{F}{C}{D}$ that inverts all morphisms in $M$, the following conditions are satisfied:
        \begin{itemize}
            \item There exists a functor $Z_F:\mathbf{C}[M^{-1}]\rightarrow\mathbf{D}$ such that $Z_F\circ F_M$ is naturally isomorphic to $F$.
            \item The precomposition functor $F_M^*:[\mathbf{C}[M^{-1}],\mathbf{D}]\rightarrow[\mathbf{C},\mathbf{D}]$ is fully faithfull.
        \end{itemize}
    }
    \newdef{Homotopy category II}{\index{homotopy!category}
        When $\mathbf{C}$ is a category with weak equivalences $W$, the localization $\mathbf{C}[W^{-1}]$ is often called the homotopy category $\mathbf{Ho}(\mathbf{C})$. In this context the functor $\mathbf{C}\rightarrow\mathbf{Ho(C)}$ is also often denoted by $\gamma_{\mathbf{C}}$.
    }
    \begin{remark}[Size issues]
        When $\mathbf{C}$ is small, so is its localization. However, even in the case were $C$ is locally small, its localization might be large.
    \end{remark}

    \newdef{Derived functor}{\index{derived!functor}
        Consider a homotopical functor $\func{F}{C}{D}$ and let $\gamma$ be the composition with the localization functor $\gamma_{\mathbf{D}}$ (we also assume the weak equivalences in $\mathbf{C,D}$ to satisfy the 2-out-of-3 property). The derived functor $\func{\mathbf{Ho}(F)}{Ho(C)}{Ho(D)}$ is the functor obtained by the universal property of $\mathbf{Ho(C)}$ applied to this composition.

        This definition can be rephrased in terms of Kan extensions: Consider a homotopical functor $\func{F}{C}{D}$ between categories with weak equivalences. The left and right derived functors are defined as the following Kan extensions:
        \begin{gather}
            LF := \text{Ran}_{\gamma_{\mathbf{C}}}(\gamma_{\mathbf{D}}\circ F)\\
            RF := \text{Lan}_{\gamma_{\mathbf{C}}}(\gamma_{\mathbf{D}}\circ F).
        \end{gather}
        In fact we can drop the assumption that $\mathbf{D}$ has weak equivalences (here $F$ should map weak equivalences to isomorphisms). In this case we simply have to replace $\gamma_{\mathbf{D}}\circ F$ by $F$ in the above formulas.
    }

    \newdef{Derived category}{\index{derived!category}
        Consider an Abelian category $\mathbf{A}$ together with its category of chain complexes $\mathbf{Ch}_\bullet(\mathbf{A})$. The derived category $\mathcal{D}(\mathbf{A})$ is defined as the localization of $\mathbf{Ch}_\bullet(\mathbf{A})$ at the collection of quasi-isomorphisms.
    }
    \remark{It can be shown in this case that one can first restrict to the naive homotopy category $\mathbf{K}(\mathbf{A})$, consisting of chain complexes and chain maps up to chain-homotopy, and then localize at the collection of quasi-isomorphisms.}

\section{Model categories}\label{section:model_categories}

    \newdef{Model structure}{\index{fibration}\index{weak!equivalence}\index{acyclic}
        Let $C$ be a category. A model structure (in the sense of \textit{Quillen}) on $C$ consists of 3 classes of morphisms:
        \begin{enumerate}
            \item \textbf{weak equivalences} $W$,
            \item \textbf{fibrations} $\text{Fib}$, and
            \item \textbf{cofibrations} $\text{Cof}$.
        \end{enumerate}
        These are required to satisfy the following two conditions:
        \begin{itemize}
            \item $W$ turns $C$ into a category with weak equivalences \ref{cat:weak_equivalence}.
            \item $(\text{Cof},\text{Fib}\cap W)$ and $(\text{Cof}\cap W,\text{Fib})$ are weak factorization systems on $C$ (see definition \ref{category:wfc}).
        \end{itemize}
        The morphisms in $\text{Fib}\cap W$ and $\text{Cof}\cap W$ are said to be \textbf{acyclic} or \textbf{trivial}.
    }
    \sremark{That $W$ contains all isomorphisms in fact follows from the property that any class of morphisms satisfying a lifting property contains all isomorphisms.}

    \newdef{Model category}{\index{model!category}\index{category!model|see{model category}}
        A complete and cocomplete category equipped with a model structure.\footnote{\textit{Quillen}'s original definition only required finite limits and finite colimits.}
    }
    \newdef{Proper model category}{\index{proper!model category}
        A model category is said to be left proper (resp. right proper) if weak equivalences are preserved by pushouts along cofibrations (resp. pullbacks along fibrations).
    }

    \newdef{Fibrant object}{\index{fibrant}
        An object in a model category is said to be fibrant if terminal morphism is a fibration. Dually, an object in a model category is said to be cofibrant if its initial morphism is a cofibration.
    }

    \begin{property}[Model structure on functor categories]\label{cat:model_functor}
        Consider a (small) category $\mathbf{C}$ and a model category $\mathbf{D}$. In certain cases, or under specific assumptions, the functor category $[\mathbf{C},\mathbf{D}]$ admits two canonical model structures:
        \begin{itemize}
            \item \textbf{Injective model structure}: The weak equivalences are the natural transformations that are objectwise weak equivalences and the cofibrations are the natural transformations that are objectwise cofibrations.
            \item \textbf{Projective model structure}: The weak equivalences are the natural transformations that are objectwise weak equivalences and the fibrations are the natural transformations that are objectwise fibrations.
        \end{itemize}
    \end{property}

    \begin{property}[Resolution]\index{resolution}
        In a model category the (co)completeness property implies that the initial and terminal object always exist. The weak factorization property then implies that for every object $X$ we can find a weakly equivalent fibrant replacement $X^f$ and a weakly equivalent cofibrant replacement $X^c$ by suitably factorizing the initial and terminal morphisms. These replacements are also sometimes called \textbf{resolutions} or \textbf{approximations}.

        If the weak factorization system is in fact functorial \ref{cat:functorial_factorization}, (co)fibrant replacement defines an endofunctor that is weakly equivalent to the identity functor.
    \end{property}

    \newdef{Quillen adjunction}{\index{Quillen!adjunction}
        Let $\mathbf{C}, \mathbf{D}$ be two model categories. An adjunction \[\mathbf{D}\adj{F}{G}\mathbf{C}\] is called a \textbf{Quillen adjunction} if the left adjoint preserves cofibrations and acyclic cofibrations. The axioms imply that this is equivalent to requiring that the right adjoint preserves fibrations and acyclic fibrations. These adjoint functors are called (left and right) \textbf{Quillen functors}.

        If $(F,G)$ is a Quillen adjunction such that for all cofibrant objects $A$ and fibrant objects $B$ the morphism $FA\rightarrow B$ is a weak equivalence if and only if the adjunct morphism $A\rightarrow GB$ is a weak equivalence, then $(F,G)$ is called a \textbf{Quillen equivalence}.
    }
    Quillen equivalences can also be characterized on the level of homotopy categories:
    \begin{property}
        Let $F\dashv G$ be a Quillen adjunction. This pair is a Quillen equivalence if and only if the left (resp. right) derived functor $LF$ (resp. $RG$) is an equivalence.
    \end{property}

    \begin{property}[Derived adjunction]
        If $(F\dashv G)$ is a Quillen adjunction, the derived functors $(LF,RG)$ also form an adjunction.
    \end{property}

    \begin{property}[Doubly categorical interpretation]
        The map that sends a model category to its homotopy category and a Quillen functor to its derived functor is a \textit{double pseudofunctor}. Amongst other things this implies that the composition of derived functors is naturally weakly equivalent to the derived functor of the composition.
    \end{property}

\subsection{Homotopy category}

    \newdef{Homotopy}{\index{homotopy}
        Before we can construct homotopies in general model categories, thereby generalizing the ideas from section \ref{section:homotopy}, we have to define the counterpart of the unit interval in a model category $\mathbf{M}$. To this end consider an object $x\in\ob{M}$. By taking the product and coproduct of two copies of $x$ we can construct the unique diagonal and codiagonal morphisms $\Delta:x\rightarrow x\times x$ and $\nabla:x\sqcup x\rightarrow x$. By factorizing these morphisms in $\mathbf{M}$ we obtain two weak equivalences
        \begin{gather}
            x\rightarrow\text{Path}(x)\\
            \text{Cyl}(x)\rightarrow x.
        \end{gather}
        These objects are called the \textbf{path object} and \textbf{cylinder object} respectively. By choosing the morphism to be a fibration (resp. cofibration), we obtain the notion of \textbf{good} cylinder (resp. path) object.

        Using these objects we can define left and right homotopies between parallel morphisms $f,g:x\rightarrow y$. A left homotopy between $f$ and $g$ is a morphism $\eta:\text{Cyl}(x)\rightarrow y$ such that diagram \ref{fig:left_homotopy} commutes. Analogously, a right homotopy between $f$ and $g$ is a morphism $\lambda:x\rightarrow\text{Path}(y)$ such that diagram \ref{fig:right_homotopy} commutes.

        \begin{figure}
            \centering
            \begin{subfigure}[b]{0.49\textwidth}
                \centering
                \begin{tikzpicture}
                    \node (X) at (-2,0) {$x$};
                    \node (X2) at (2,0) {$x$};
                    \node (C) at (0,0) {$\text{Cyl}(x)$};
                    \node (Y) at (0,-2) {$y$};
                    \draw[->] (X) -- (C);
                    \draw[->] (X2) -- (C);
                    \draw[->] (C) -- node[right]{$\eta$} (Y);
                    \draw[->] (X) -- node[below left]{$f$} (Y);
                    \draw[->] (X2) -- node[below right]{$g$} (Y);
                \end{tikzpicture}
                \caption{A left homotopy.}
                \label{fig:left_homotopy}
            \end{subfigure}
            \begin{subfigure}[b]{0.49\textwidth}
                \centering
                \begin{tikzpicture}
                    \node (Y) at (-2,-2) {$y$};
                    \node (Y2) at (2,-2) {$y$};
                    \node (C) at (0,-2) {$\text{Path}(y)$};
                    \node (X) at (0,0) {$x$};
                    \draw[<-] (Y) -- (C);
                    \draw[<-] (Y2) -- (C);
                    \draw[<-] (C) -- node[right]{$\lambda$} (X);
                    \draw[<-] (Y) -- node[above left]{$f$} (X);
                    \draw[<-] (Y2) -- node[above right]{$g$} (X);
                \end{tikzpicture}
                \caption{A right homotopy.}
                \label{fig:right_homotopy}
            \end{subfigure}
        \end{figure}
    }

    \begin{property}
        If $x$ is cofibrant, every left homotopy induces a right homotopy. Dually, if $y$ is fibrant, every right homotopy induces a left homotopy.
    \end{property}
    \begin{result}
        Whenever $x$ is cofibrant and $y$ is fibrant the relations of being left homotopic (or equivalently right homotopic) coincide on $\mathbf{M}(x, y)$ and, in particular, define equivalence relations. The equivalence classes are denoted by $[x,y]$.
    \end{result}

    \begin{property}[Stability under composition]
        Homotopies are preserved under both precomposition and postcomposition by arbitrary morphisms.
    \end{property}
    \begin{property}[Weak equivalences]
        A morphism is a weak equivalence if and only if it is a homotopy inverse.
    \end{property}

    \newdef{Homotopy equivalence}{\index{homotopy!equivalence}
        Two objects in a model category are said to be homotopy equivalent if there exists morphisms $f:x\leftrightarrows y:g$ such that $f\circ g$ and $g\circ f$ are homotopic to the identity. The morphisms $f,g$ are then said to be homotopy equivalences.
    }

    In definition \ref{cat:localization} it was shown that we can assign to every category with weak equivalences a ''homotopy category''. When the category has more structure, in this case that of a model category, we can construct an equivalent category:
    \newadef{Homotopy category II}{\index{homotopy!category}\label{model:homotopy_category_2}
        Let $\mathbf{M}$ be a model category. The homotopy category $\mathbf{Ho}(\mathbf{M})$ is the category defined by the following data:
        \begin{itemize}
            \item $\ob{Ho(M)}:=\ob{M}$, and
            \item $\text{Hom}_{\mathbf{Ho}(\mathbf{M})}(X, Y) := [X^{cf},Y^{cf}]$.
        \end{itemize}
    }
    In fact it is easier to restrict to the subcategory $\mathbf{M}_{cf}$ of $\mathbf{Ho(M)}$ on the fibrant-cofibrant objects due to the following property (if we restrict to a subcategory, the resulting homotopy category is only equivalent and not isomorphic to the localization):
    \begin{property}
        The homotopy category of a model category coincides with those of the full subcategories on (co)fibrant objects:
        \begin{gather}
            \mathbf{Ho(M)}\cong\mathbf{Ho(M_f)}\cong\mathbf{Ho(M_c)}\cong\mathbf{Ho(M_{cf})}.
        \end{gather}
    \end{property}

    \begin{theorem}[Whitehead]\index{Whitehead}
        A weak equivalence between objects that are both fibrant and cofibrant is a homotopy equivalence.
    \end{theorem}

    \begin{property}
        A Quillen equivalence between model categories induces an equivalence of homotopy categories.
    \end{property}

    In some cases it is useful to consider categories weaker than model categories but stronger than categories with weak equivalences. The best example is given by the full subcategories of a model category on the (co)fibrant objects. These are often easier to handle in the setting of homotopy theory. To formalize this notion we introduce the following definition:
    \newdef{Category of fibrant objects}{\index{fibrant}\index{fibration}
        A category $\mathbf{C}$ with weak equivalences $\mathbf{W}\hookrightarrow\mathbf{C}$ equipped with another subcategory $\mathbf{F}\hookrightarrow\mathbf{C}$, for which the morphisms are called \textbf{fibrations}, such that the following conditions are satisfied:
        \begin{enumerate}
            \item $\mathbf{C}$ admits finite products.
            \item Fibrations and acyclic fibrations are preserved under arbitrary pullbacks.
            \item Every object admits a good path object, i.e. a factorization of the product map $x\rightarrow x\times x$ as the composition of a weak equivalence and a fibration.
            \item All objects are \textbf{fibrant}, i.e. the terminal map $x\rightarrow1$ is a fibration for all objects $x\in\ob{C}$.
        \end{enumerate}
    }

    \begin{theorem}[Factorization lemma]\index{factorization!lemma}
        Let $\mathbf{C}$ be a category of fibrant objects. Any morphism $f:x\rightarrow y$ can be factorized as the right inverse of an acyclic fibration followed by a fibration.
    \end{theorem}

    We now give an important theorem in characterizing when a functor preserves weak equivalences:
    \begin{theorem}[Ken Brown's lemma]\index{Ken Brown}\label{model:ken_brown}
        Let $\mathbf{C}$ be a category of fibrant objects and let $\mathbf{D}$ be a category with weak equivalences. If a functor $\func{F}{C}{D}$ maps acyclic fibrations to weak equivalences, it preserves all weak equivalences.
    \end{theorem}
    \remark{An analogous theorem exists for categories of cofibrant objects.}

    This lemma allows us to define derived functors for functors between model categories (in fact this one is better suited for working in the $\infty$-setting):
    \newadef{Derived functor}{\index{derived!functor}\label{model:derived_functor_replacement}
        Let $\func{F}{M}{N}$ be a left (resp. right) Quillen functor. The left (resp. right) derived functors are obtained by precomposition with the cofibrant (resp. fibrant) replacement functors.
    }
    \begin{property}[Derived functors are absolute]\label{model:absolute_derived_functors}
        It can be shown that derived functors built using (co)fibrant replacement are given by absolute (and in particular pointwise) Kan extensions. So even though homotopy categories often do not admit all (co)limits, the resulting Kan extensions do exist.
    \end{property}

\subsection{Reedy model structure}

    Consider a complete and cocomplete category $\mathbf{M}$ (in the remainder of this section we will often take $\mathbf{M}=\mathbf{sSet}$). For any full subcategory $\mathbf{D}\hookrightarrow\mathbf{C}$ we obtain an induced \textbf{truncation} functor (or \textbf{restriction}) functor $\text{tr}:\mathbf{M}^\mathbf{C}\rightarrow\mathbf{M}^\mathbf{D}$. The left and right adjoints of this functor are respectively called the \textbf{skeleton} and \textbf{coskeleton} functors.
    \begin{formula}
        The adjoint functors are defined by Kan extensions and hence we can express them in terms of (co)ends and weighted (co)limits:
        \begin{gather}
            \text{sk}(X)c := \int^{d\in\ob{D}}\mathbf{C}(d, c)\cdot Xd = \colim^{\text{tr}(\mathbf{C}(-, c))}\\
            \text{cosk}(X)c := \int_{d\in\ob{D}}[\mathbf{C}(c, d), Xd] = \wlim{\text{tr}(\mathbf{C}(c, -))}X.
        \end{gather}
    \end{formula}
    \newdef{Skeletal sets}{\index{skeleton}
        Let $\mathbf{M}=\mathbf{sSet}$ and consider the inclusion $\simplex_{\leq n}\hookrightarrow\simplex$ where the former category is the full subcategory on the objects $\{[0],\ldots,[n]\}$. The $n$-truncation functor $\text{tr}_n$ discards all sets of degree higher than $n$ (or in other words it ''truncates'' a simplicial set at degree $n$).

        The $n$-skeleton functor $\text{sk}_n$ takes a simplicial set $S$ of degree $\leq n$ and freely adds degenerate simplices in degrees $>n$, i.e. it is the smallest simplicial set containing $S$ as a simplicial subset. The $n$-coskeleton functor $\text{cosk}_n$ adds a simplex in degree $>n$ whenever all of its faces are present, i.e. the $m$-simplices in $\text{cosk}_nS$ are given by the collection of all $(m+1)$-tuples of $(m-1)$-simplices that are compatible (along lower simplices).
    }
    \begin{property}[Simplicial nerve]\index{nerve}
        The nerve functor $\func{N}{Cat}{sSet}$ from definition \ref{sheaf:nerve} is a fully faithful functor to the category of 2-coskeletal simplicial sets. This follows from the fact that in ordinary categories, compositions of morphisms are unique and, hence, all higher-order tuples of composable morphisms are determined by composable pairs. In fact this is just the characterization of (small) categories as categories internal to $\mathbf{Set}$ (under the isomorphism $C_2\cong C_1\times_{C_0}C_1$ which is just the first \textit{Segal condition} from definition \ref{model:segal_space}).
    \end{property}

    \newdef{Reedy category}{\index{Reedy category}\label{model:reedy}
        A category $\mathbf{C}$ equipped with a \textbf{degree} function $\ob{C}\rightarrow\alpha$, where $\alpha$ is an ordinal \ref{set:ordinal}, and two wide subcategories $\mathbf{C}_\pm$ that satisfy the following conditions:
        \begin{enumerate}
            \item Nontrivial morphisms in $\mathbf{C}_+$ (strictly) increase the degree.
            \item Nontrivial morphisms in $\mathbf{C}_-$ (strictly) decrease the degree.
            \item All morphisms admit a unique factorization as a morphism in $\mathbf{C}_-$ followed by a morphism in $\mathbf{C}_+$. This factorization is sometimes called the \textbf{(canonical) Reedy factorization}.
        \end{enumerate}
    }

    \begin{property}[Minimality]\index{degree!of factorization}
        The Reedy factorization is the (unique) factorization of minimal degree where the \textbf{degree} of a factorization $x\xrightarrow{f}y\xrightarrow{g}z$ is defined as the degree of $y$.
    \end{property}
    \begin{property}[Isomorphisms are trivial]
        A morphism in a Reedy category is an isomorphism if and only if it is trivial.
    \end{property}

    \begin{example}
        Some common examples of Reedy categories are discrete categories, finite posets, opposites of Reedy categories and the simplex category $\simplex$.
    \end{example}

    For Reedy categories we can also define $n$-truncation, $n$-skeleton and $n$-coskeleton functors by restricting to the full subcategories on elements of degree $\leq n$. In this case we define the following notions:
    \newdef{Matching and latching objects}{\index{matching!object}\index{latching object}
        Let $\mathbf{R}$ be a Reedy category and consider a diagram $X\in\funccat{R}{C}$ where $\mathbf{C}$ is small. Consider the skeleton monad and coskeleton comonads (also often just called the skeleton and coskeleton functors) $\mathbf{sk}_n:=\text{sk}_n\circ\text{tr}_n$ and $\mathbf{cosk}_n:=\text{cosk}_n\circ\text{tr}_n$. The latching and matching objects of $X$ are defined as the restrictions of $\mathbf{sk}_{n-1}$ and $\mathbf{cosk}_{n-1}$ to the degree $n$ subcategory of $R$.

        The counit of the skeleton adjunction and the unit of the coskeleton adjunction give rise to the \textbf{latching} and \textbf{matching} maps.

        We can also define the latching and matching objects through (co)limits. Define the subcategory $R^+(r)$ as the subcategory of $R^+/r$ on all objects except the identity. The latching object $L_rX$ can be shown to be isomorphic to the colimit of $X$ over $R^+(r)$.
    }

    \begin{example}[Simplicial objects]\index{Eilenberg-Zilber}
        The above property enables us to give a nice interpretation to latching objects in the case of $\mathbf{R}=\simplex^{op}$. Using the \textit{Eilenberg-Zilber} lemma it can be shown that the $n^{th}$ latching object of a simplicial object is given by its collection of degenerate $n$-simplices.
    \end{example}

    \newdef{Boundary}{\index{boundary}
        The boundary of a representable presheaf $\mathbf{R}(-, r)$ is defined as the latching object of the Yoneda embedding $\func{\mathcal{Y}}{R}{Psh(R)}$ at $r$. It is denoted by $\partial\mathbf{R}(-, r)$. It can be shown that $\partial\mathbf{R}(-, r)$ consists of exactly those morphisms that are not in $\mathbf{R}^-$ or, equivalently, as $\mathbf{sk}_{n-1}\mathbf{R}(-, r)$.

        The latching map coincides with the canonical inclusion $\partial\mathbf{R}(-, r)\hookrightarrow\mathbf{R}(-, r)$ if $r$ is of degree $n$.
    }
    \begin{formula}
        We can show that the latching and matching objects can be obtained through (co)limits weighted by boundaries:
        \begin{gather}
            M_rX \cong \wlim{\partial\mathbf{R}(r, -)}X\\
            L_rX \cong \colim^{\partial\mathbf{R}(-, r)}X\label{model:latching_boundary}
        \end{gather}
    \end{formula}

    From here on we will also assume $\mathbf{M}$ to be a model category (as was already the case in the previous section). We will define a model structure on the functor category $\funccat{R}{M}$ for Reedy $R$.
    \newdef{Relative matching and latching objects}{
        Consider the (weighted) colimit bifunctor $\func{\text{colim}}{Psh(R)\times[R, M]}{M}$. The \textit{Leibniz construction} (see definition \ref{model:pushout_product} below) allows us to define the relative latching object of $f:X\rightarrow Y$ at $r\in\ob{R}$ as the ''Leibniz colimit'' of the boundary inclusion $\partial\mathbf{R}(-, r)\hookrightarrow\mathbf{R}(-, r)$ and $f$.

        By equations \ref{cat:weighted_hom_colimit} and \ref{model:latching_boundary} the relative latching map is of the form $Xr\sqcup_{L_rX}L_rY\rightarrow Yr$ and the relative matching map is of the form $Xr\rightarrow Yr\times_{M_rY}M_rX$.
    }

    \begin{property}[Reedy model structure]
        Let $\mathbf{R}$ be a Reedy category and let $\mathbf{M}$ be a model category. The functor category $\funccat{R}{M}$ admits the following model structure:
        \begin{itemize}
            \item The weak equivalences are the objectwise weak equivalences.
            \item The (Reedy) fibrations are those morphisms for which the relative matching map is a fibration (in $\mathbf{M}$) for all $r\in\ob{R}$.
            \item The (Reedy) cofibrations are those morphisms for which the relative latching map is a cofibration (in $\mathbf{M}$) for all $r\in\ob{R}$.
        \end{itemize}
    \end{property}

    \begin{property}[Quillen (co)limit functors]
        Consider a $\mathcal{V}$-enriched model category $\mathbf{M}$ and a Reedy category $\mathbf{R}$. For every Reedy cofibrant functor $W$ in $\funccat{R}{\mathcal{V}}$ the weighted limit and colimit functors are right and left Quillen respectively.
    \end{property}

\subsection{Simplicial spaces}

    \begin{example}[Topological spaces]
        As a first example of model structures we look at the category $\mathbf{Top}$ of topological spaces\footnote{See chapter \ref{chapter:topology} and onwards.}. This category can be endowed with the structure of a model category by taking the weak equivalences to be the weak homotopy equivalences and by taking the fibrations to be the Serre fibrations.
    \end{example}
    \begin{example}[Simplicial sets]
        As a second example we consider the category $\mathbf{sSet}$ of simplicial sets \ref{sheaf:simplicial set}. This category can be turned into a model category by taking the weak equivalences to be the morphisms that induce weak homotopy equivalences between geometric realizations and by taking the fibrations to be Kan fibrations (fibrant objects are exactly the Kan complexes). The cofibrations are easily seen to be the levelwise injections, i.e. the cofibrations are the monomorphisms.
    \end{example}
    \newnot{Quillen's model structure}{\index{Quillen!model structure}
        The model structure defined in the above example is generally called Quillen's model structure on simplicial sets and it is denoted by $\mathbf{sSet}_{Quillen}$.
    }
    \begin{property}\label{cat:quillen_sset_top}
        The adjoint pair of geometric realization and singular set functors (\ref{model:geometric_realization} and \ref{model:singular_set}) gives a Quillen equivalence between the above model categories. This result enables us to look at simplicial sets as if they were spaces and vice versa. Consequently, most of homotopy theory can be done in either categories.
    \end{property}
    \begin{property}
        Equivalent categories have weakly equivalent nerves.
    \end{property}
    The converse is not true:
    \remark{Because the information in nerves is not sufficient to distinguish between categories (and groupoids) since information about things such as invertibility is lost, i.e. weakly equivalent nerves do not necessarily come from equivalent categories, it is often useful to replace the model structure on $\mathbf{sSet}$ by an alternative one. Instead of taking the Kan complexes to be the fibrant object, \textit{Joyal} and \textit{Lurie} have shown that one can also take the (strictly weaker) quasicategories as fibrant objects to obtain a more informative structure, i.e. weak equivalences can distinguish between (nerves of) categories and groupoids. The fibrations will now be the inner Kan fibrations.}

    \newdef{Homotopy category III}{\index{homotopy!category}\label{model:enriched_homotopy_category}
        Consider a simplicially enriched category $\mathbf{C}$. Its homotopy category $\mathbf{Ho(C)}$ is defined as follows:
        \begin{itemize}
            \item $\text{ob}(\mathbf{Ho(C)}):=\ob{C}$, and
            \item $\text{Hom}_{\mathbf{Ho(C)}}(x, y) := \pi_0\text{Map}(x, y)$.
        \end{itemize}
        Two points $f,g\in\text{Map}(x, y)$ are said to be \textbf{homotopic} if they are identified in $\mathbf{Ho(C)}$. A point $f\in\text{Map}(x, y)$ is called a \textbf{homotopy equivalence} if it admits both a left and a right inverse in $\mathbf{Ho(C)}$, if it becomes an isomorphism.
    }
    \newdef{Dwyer-Kan equivalence I}{\index{equivalence!Dwyer-Kan}\label{model:enriched_dwyer_kan}
        Consider a simplicial functor $\func{F}{C}{D}$ between two simplicially enriched categories. This functor is called a Dwyer-Kan equivalence if:
        \begin{itemize}
            \item The induced map on Hom-objects is a weak equivalence. $F$ is also said to be $\infty$-fully faithful.\footnote{This is related to the fact that simplicial categories are models for $\infty$-categories.}
            \item The induced map on connected components $\pi_0 F:\pi_0\mathbf{C}\rightarrow\pi_0\mathbf{D}$ is an equivalence (of categories). In fact we can relax this condition to $\pi_0F$ being essentially surjective, since together with the previous condition this implies that $\pi_0F$ is an equivalence.
        \end{itemize}
    }

    \begin{construct}[Hammock localization]\index{localization!hammock}
        Let $(\mathbf{C},W)$ be a category with weak equivalences. We construct its so-called hammock localization (or \textbf{simplicial localization}) $L^H\mathbf{C}$ as follows:
        \begin{enumerate}
            \item \textbf{Objects}: The objects of $L^H\mathbf{C}$ are the same as those of $\mathbf{C}$.
            \item \textbf{Morphisms}: For every integer $n\geq1$ we construct a category whose objects are zigzags of morphisms in $\mathbf{C}$ relating $x$ and $y$ such that all left-pointing morphisms are in $W$ and the morphisms are endpoint-preserving ''natural transformations'' (in the sense that all triangles/squares in the resulting diagram commute). The mapping space $L^H\mathbf{C}(x, y)$ is then defined as the simplicial set obtained by taking the coproduct of the (simplicial) nerves of these morphism categories over all $n\in\mathbb{N}$ and quotienting out the equivalence relation generated by:
            \begin{itemize}
                \item Inserting and removing identity morphisms.
                \item Composing composable morphisms.
            \end{itemize}
        \end{enumerate}
    \end{construct}

    \begin{property}
        Let $(\mathbf{C},W)$ be a category with weak equivalences. It can be shown that
        \begin{gather}
            \pi_0(L^H\mathbf{C}) \cong \mathbf{C}[W^{-1}].
        \end{gather}
        This construction gives a more explicit description of the homotopy category. Furthermore, if $\mathbf{M}$ is a simplicial model category, the categories $\mathbf{M}_{cf}$ and $L^H\mathbf{M}$ are Dwyer-Kan equivalent.
    \end{property}
    \begin{property}
        Quillen equivalent model categories have Dwyer-Kan equivalent simplicial localizations.
    \end{property}

    \newdef{Simplicial resolution}{\index{resolution!(co)simplicial}
        Consider an object $x$ in a model category $\mathbf{M}$. A (co)simplicial resolution of $x$ is a Reedy (co)fibrant (co)simplicial object $X$ together with a weak equivalence $x\simeq X_0$.

        Every object in a model category admits a (co)simplicial resolution by taking a (co)fibrant replacement of the constant (co)simplicial object.
    }

    \newdef{Bergner model structure}{\index{Bergner model structure}
        The catgory of simplicially enriched categories admits the following model structure:
        \begin{itemize}
            \item The weak equivalences are Dwyer-Kan equivalences.
            \item The cofibrant objects are \textit{simplicial computads}.
            \item The fibrant objects are the $\mathbf{Kan}$-enriched categories.
        \end{itemize}
    }
    \newconstr{Free resolution}{\index{resolution}\label{model:bergner_free_resolution}
        Consider a (small) category $\mathbf{C}$. From this category we can construct a simplicial category $\mathfrak{C}\mathbf{C}$ consisting of the following data:
        \begin{itemize}
            \item $\ob{\mathfrak{C}C} := \ob{C}$, and
            \item $\text{hom}(\mathfrak{C}\mathbf{C})_n := \text{hom}(F^{n+1}\mathbf{C})$ where $F$ is identity-on-objects and $F\mathbf{C}$ has as morphisms strings of composable morphisms in $\mathbf{C}$.
        \end{itemize}
        It can be shown that $\mathfrak{C}\mathbf{C}$ is a \textit{simplicial computad} for any simplicially enriched category $\mathbf{C}$.
    }

\subsection{Segal spaces}

    \begin{example}[Bisimplicial sets]
        We can also look at the simplicial objects in $\mathbf{sSet}$ (these are in particular $\mathbf{sSet}$-enriched). These are often called bisimplicial sets or \textbf{simplicial spaces}\footnote{The latter name follows from the fact that topological spaces and simplicial sets are (Quillen) equivalent.}. Since $\mathbf{sSet}$ is a model category we know from property \ref{cat:model_functor} above that $\mathbf{ssSet}$ itself admits a model structure. It can furthermore be shown that the injective model structure on $\mathbf{ssSet}$ coincides with the Reedy model structure.\footnote{This is, however, a highly nontrivial statement.}
    \end{example}
    This allows us to define the notion of \textit{Segal spaces}:
    \newdef{Segal space}{\index{Segal!space}\index{spine}\label{model:segal_space}
        Consider a fibrant object $X$ in the injective (or Reedy) model structure on $\mathbf{ssSet}$. This bisimplicial set is called a Segal space if it satisfies the following weak form of the \textit{Segal condition}:
        \begin{gather}
            X_n\xrightarrow{\ \simeq\ }X_1\times_{X_0}\cdots\times_{X_0}X_1\ \ (n\text{ factors})
        \end{gather}
        is a weak equivalence for all $n\geq1$.\footnote{If we omit the Reedy condition, the limit on the right-hand side has to be replaced by a \textit{homotopy limit}.} These maps are called \textbf{Segal maps} in general. They are the morphisms induced by \textbf{spine} inclusions, i.e. inclusions of the union of edge 1-cells.
    }
    \newdef{Segal category}{\index{Segal!category}
        A bisimplicial set $X$ is called a \textbf{Segal precategory} if $X_0$ is discrete. It is called a Segal category if in addition all its Segal maps are weak equivalences.
    }

    \newdef{Mapping space}{\index{mapping space}
        Consider a Segal space $X$. For every two points $x,y\in X_0$ we define the mapping space $\text{Map}(x, y)$ as the fibre of $(d_1,d_0):X_1\rightrightarrows X_0\times X_0$ over the point $(x,y)$. The identity element can then be defined as $s_0x$ for all $x\in X_0$.
    }

    The following two definitions should be compared to definitions \ref{model:enriched_homotopy_category} and \ref{model:enriched_dwyer_kan}:
    \newdef{Homotopy category IV}{\index{homotopy!category}
        Consider a Segal category $X$. Its homotopy category $\mathbf{Ho}(X)$ is defined as follows:
        \begin{itemize}
            \item $\text{ob}(\mathbf{Ho}(X)):=X_0$, and
            \item $\text{Hom}_{\mathbf{Ho}(X)}(x, y) := \pi_0\text{Map}(x, y)$.
        \end{itemize}
        Two points $f,g\in \text{Map}(x, y)$ are said to be \textbf{homotopic} if they are identified in $\mathbf{Ho}(X)$. A point $f\in\text{Map}(x, y)$ is called a \textbf{homotopy equivalence} if it admits both a left and a right inverse in $\mathbf{Ho}(X)$, i.e. if it becomes an isomorphism. The subspace $X_{hoequiv}\subset X_1$ consists of the components that contain homotopy equivalences.\footnote{It should be noted that if any one point in a component is a homotopy equivalence, then all points in that component are homotopy equivalences.}
    }
    \newdef{Dwyer-Kan equivalence II}{\index{equivalence!Dwyer-Kan}
        A map $F$ of Segal spaces such that
        \begin{itemize}
            \item the induced map on mapping spaces is a weak equivalence, and
            \item the induced map between homotopy categories is an equivalence (of categories).
        \end{itemize}
    }

    \newdef{Complete Segal space}{
        A Segal space $X$ for which the map $s_0:X_0\rightarrow X_{hoequiv}$ is a weak equivalence.
    }
    \begin{property}
        A map of Segal spaces is a Dwyer-Kan equivalence if and only if it is a weak equivalence in the \textit{complete Segal space model structure}. A map of complete Segal spaces is a Dwyer-Kan equivalence if and only if it is a levelwise weak equivalence.
    \end{property}

    Instead of changing the model structure on $\mathbf{sSet}$ to overcome the issues with taking nerves of categories or groupoids (as mentioned before) we can also change the construction of the nerve functor. Here we introduce an alternative notion introduced by \textit{Rezk}:
    \newdef{Classifying diagram}{\index{classifying!diagram}
        Consider a (small) category $\mathbf{C}$ together with the functor category $\mathbf{C}^{[n]}$ where $[n]$ is the totally ordered set on $n+1$ elements interpreted as a category. The classifying diagram of $\mathbf{C}$ is the bisimplicial set $\widetilde{N}\mathbf{C}$ defined levelwise as follows:
        \begin{gather}
            \widetilde{N}\mathbf{C}_k := N(\text{Core}(\mathbf{C}))
        \end{gather}
        where $N$ is the ordinary nerve functor and the core $\text{Core}$ was defined in \ref{cat:core}.

        The reason why this construction is better for distinguishing categories and groupoids comes from the fact that information about isomoprhisms is already captured at level 0, while information about noninvertible morphisms is only captured from level 1 onwards.
    }
    \begin{property}
        If $\mathbf{C}$ is small then $\widetilde{N}\mathbf{C}$ is a complete Segal space.
    \end{property}

    ?? COMPLETE ??

\section{Monoidal structures}

    \newdef{Pushout-product}{\index{pushout}\index{Leibniz!construction}\label{model:pushout_product}
        Let $(\mathbf{M}, \otimes)$ be a closed symmetric monoidal category and consider two morphisms $f:a\rightarrow b$ and $g:x\rightarrow y$ in $\mathbf{M}$. After taking tensor products we can form the span $a\otimes y\leftarrow a\otimes x\rightarrow b\otimes x$. If the pushout $a\otimes y\sqcup_{a\otimes x}b\otimes x$ of this diagram exists, the pushout-product $f\square g$ is defined as the unique morphism from this pushout to $b\otimes y$ defined by the obvious diagram
        \begin{gather*}
            \begin{tikzpicture}
                \node (1) at (0, 0) {$a\otimes x$};
                \node (2) at (2, 0) {$b\otimes x$};
                \node (3) at (0, -2) {$a\otimes y$};
                \node (4) at (2, -2) {$b\otimes y$};
                \draw[->] (1) -- (2);
                \draw[->] (1) -- (3);
                \draw[->] (2) -- (4);
                \draw[->] (3) -- (4);
            \end{tikzpicture}
        \end{gather*}
        The dual concept (where one of the arguments is contravariant) is sometimes called a \textbf{pullback-hom}, \textbf{pullback-exponential} or \textbf{pullback-power} (depending on which bifunctor is used in the definition). In fact we can drop the requirement that $\mathbf{M}$ carries a monoidal structure and start from any bifunctor $\func{\circledast}{C\times D}{E}$. This more general construction is sometimes called the \textbf{Leibniz construction} and the case where the bifunctor is a tensor bifunctor is then called the \textbf{Leibniz tensor}.
    }

    \newdef{Quillen bifunctor}{\index{Quillen!bifunctor}
        Any bifunctor satisfying the pushout-product axiom such that it preserves colimits in both variables is called a \textbf{(left) Quillen bifunctor}. It should be noted that the tensor product automatically satisfies this last property in the case of closed monoidal categories.

        In fact the natural setting for defining Quillen bifunctors is that of two-variable adjunctions \ref{cat:two_variable_adjunction}. Consider such a triple of bifunctors $(\otimes, \text{hom}_L, \text{hom}_R)$.
        \begin{itemize}
            \item The bifunctor $\func{-\otimes-}{C\times D}{E}$ is said to be \textbf{left Quillen} if its pushout-product of cofibrations is again a cofibration where the acyclicity of any of the domain morphisms implies the acyclicity of the result.
            \item The bifunctors $\text{hom}_L:\mathbf{C}^{op}\times\mathbf{E}\rightarrow\mathbf{D}$ and $\text{hom}_R:\mathbf{D}^{op}\times\mathbf{E}\rightarrow\mathbf{C}$ are said to be \textbf{right Quillen} if the Leibniz product of a cofibration and a fibration is a fibration where the acyclicity of any of the domain morphisms implies the acyclicity of the result.
        \end{itemize}
        In fact it can be shown that one of these bifunctors being Quillen implies that the other two are also Quillen.
    }
    \remark{The fact that in the two-variable adjunction approach we do not mention preservation of (co)limits follows from the property that left (resp. right) adjoints preserve colimits (resp. limits).}

    \newdef{Monoidal model category}{\index{monoidal!model category}
        A model category $\mathbf{M}$ that carries the structure of closed symmetric monoidal category $(\mathbf{M},\otimes,\mathbf{1})$ such that the following compatibility conditions are satisfied:
        \begin{enumerate}
            \item \textbf{Pushout-product}: The tensor bifunctor and internal homs define a Quillen two-variable adjunction.
            \item \textbf{Unit}: For every cofibrant object $x$ and every cofibrant replacement $\widetilde{\mathbf{1}}$ of $\mathbf{1}$, the induced morphism $\widetilde{\mathbf{1}}\otimes x\rightarrow x$ is a weak equivalence.
        \end{enumerate}
    }

    \newdef{Enriched model category}{\index{category!enriched}\index{Joyal-Tierney calculus}
        Let $\mathcal{V}$ be a monoidal model category. A category $\mathbf{M}$ is called a $\mathcal{V}$-enriched model category if is satisfies the following conditions:
        \begin{enumerate}
            \item $\mathbf{M}$ is a $\mathcal{V}$-enriched category that is both powered and copowered over $\mathcal{V}$.
            \item The underlying category $\mathbf{M}_0$ is a model category.
            \item The copower is a left Quillen bifunctor or, equivalently, the power is a right Quillen bifunctor.
        \end{enumerate}
    }
    \begin{example}[Simplicial model category]\label{model:simplicial_model_category}
        A model category enriched over the standard model category of simplicial sets $\mathbf{sSet}_{Quillen}$. Furthermore, the full subcategory of a simplicial model category on fibrant-cofibrant objects is enriched over Kan-complexes.
    \end{example}

    \begin{property}[Homotopy categories]
        The homotopy category of a monoidal model category has a closed monoidal structure defined by the induced derived adjunction. The homotopy category of an enriched model category is the underlying category of a category enriched, powered and copowered over the homotopy category of its enriching category, where the enriched structure is again given by the induced derived adjunction.
    \end{property}

\section{Cofibrant generation}
\subsection{Transfinite constructions}

    We first generalize some notions from ordinary category to the context of regular cardinals $\kappa$:
    \newdef{$\kappa$-filtered category}{\index{category!filtered}
        A  category in which every diagram with less than $\kappa$ arrows admits a cocone.
    }
    \newdef{$\kappa$-directed limit}{\index{limit!directed}
        Consider a poset $I$ such that every subposet of cardinality less than $\kappa$ has a lower bound (upper bound for directed colimits). Such a set is said to be $\kappa$-(co)directed. A limit of a diagram over this poset is called a $\kappa$-(co)directed (co)limit.
    }
    The following definition is a categorification of the previous one:
    \newdef{$\kappa$-filtered limit}{\index{limit!filtered}
        Consider a diagram $\func{D}{I}{C}$. The limit (resp. colimit) of $D$ is said to be $\kappa$-cofiltered (resp. $\kappa$-filtered) if $\mathbf{I}$ is a $\kappa$-cofiltered (resp. $\kappa$-filtered) category.
    }
    It should be noted that an analogue of property \ref{cat:directed_filtered} also holds in the $\kappa$-context, i.e. a category has all $\kappa$-directed colimits if and only if it has all $\kappa$-filtered colimits (and analogously for limits).

    \newdef{Small object}{\index{small}\index{presentable}
        An object for which there exists a regular cardinal $\kappa$ such that its covariant hom-functor preserves all $\kappa$-filtered colimits. These objects are also said to be \textbf{$\kappa$-compact} or \textbf{$\kappa$-presentable}.
    }
    \newdef{Accessible category}{\index{accessible}
        A locally small category $\mathbf{C}$ for which there exists a regular cardinal $\kappa$ such that $\mathbf{C}$ has all $\kappa$-filtered colimits and such that $\mathbf{C}$ contains a set of $\kappa$-small objects that generate all objects by $\kappa$-filtered colimits.
    }
    \newdef{Locally presentable category}{\index{presentable}
        A cocomplete accessible category.
    }

    For ordinary categories the axioms guarantee a (unique) composite of any finite number of (composable) morphisms. However, in some cases it is useful or even necessary to talk about the ''composite'' of an infinite amount of morphisms:
    \newdef{Transfinite composition}{\index{composition}\label{cat:transfinite_composition}
        Consider a category $\mathbf{C}$ with a collection of morphisms $I\subseteq\text{hom}(\mathbf{C})$ and let $\alpha$ be an infinite ordinal\footnote{See definition \ref{set:ordinal} and beyond.}. A ($\alpha$-indexed) \textbf{transfinite sequence} of morphisms in $I$ is a diagram of the form $\func{D}{\alpha}{C}$ such that:
        \begin{enumerate}
            \item Successor morphisms in $\alpha$ are mapped to elements of $I$.
            \item $D$ is \textit{continuous} in the sense that for every limit ordinal $\beta<\alpha$: $D\beta\cong\underset{\gamma<\beta}{\text{colim}}\ D\gamma$.
        \end{enumerate}
        $D\lambda$ denotes the restriction of $D$ to the (full) subdiagram $\{\gamma:\gamma<\lambda\}$ of $\alpha$. The transfinite composition of this sequence is the induced morphism $D_0\rightarrow D\alpha\equiv\text{colim}D$.
    }
    \newdef{Cell complex}{\index{cell!complex}
        Consider a cocomplete category $\mathbf{C}$ with a designated set of morphisms $I\subseteq\text{hom}(\mathbf{C})$. A \textbf{relative} $I$-cell complex is a transfinite composition of pushouts (of coproducts\footnote{It can be shown that closure under coproducts follows automatically.}) of morphisms in $I$. An $I$-cell complex is an object such that the unique morphism from the initial object is a relative $I$-cell complex.
    }
    \newnot{Relative cell complexes}{
        The set of all relative $I$-cell complexes is often denoted by $\text{cell}(I)$.
    }

\subsection{Cofibrant generation}

    We are now ready to state a famous result by \textit{Quillen}:
    \begin{theorem}[Small object argument]\index{small object argument}
        Let $\mathbf{C}$ be a locally presentable category with a designated set of morphisms $I\subseteq\text{hom}(\mathbf{C})$. Every morphism in $\mathbf{C}$ can be factorized as the composition of a morphism in $\text{rlp}(I)$ followed by a morphism in $\text{cell}(I)$.
    \end{theorem}
    \remark{This theorem can be generalized to cocomplete categories where the morphisms in $I$ are small relative\footnote{\textit{Small relative} to a set of morphisms $I$ is defined just as ordinary smallness, but with general $\kappa$-filtered colimits replaced by those that start from morphisms in $I$.} to $\text{cell}(I)$. Sets of morphisms with this property are said to \textbf{admit a small object argument}.}

    \newdef{Cofibrantly generated model category}{\index{model!category}
        Consider a model category $\mathbf{C}$. This category is said to be cofibrantly generated by two sets of morphisms $I,J\subseteq\text{hom}(\mathbf{C})$ if it satisfies the following conditions:
        \begin{enumerate}
            \item $I$ and $J$ both admit the small object argument.
            \item The fibrations are given by $\text{rlp}(J)$.
            \item The acyclic fibrations are given by $\text{rlp}(I)$.
        \end{enumerate}
        It can be shown that the last two conditions are equivalent to the following ones:
        \begin{enumerate}
            \item[$2^*.$] The cofibrations are the retracts (in the arrow category) of $\text{cell}(I)$.
            \item[$3^*.$] The acyclic fibrations are retracts (in the arrow category) of $\text{cell}(J)$.
        \end{enumerate}
        The morphisms in $I$ and $J$ are called the \textbf{generating cofibrations} and \textbf{generating acyclic cofibrations} respectively.
    }

    Sometimes we want our model category $\mathbf{M}$ to have more weak equivalences than it already has. To this end we could try to construct a new model structure $\mathbf{M}_0$. If the cofibrations remain the same then this has some nice properties:
    \begin{itemize}
        \item The fibrations are a subclass of the original ones.
        \item The acyclic fibrations remain the same.
        \item The identity functors $\text{Id}:\mathbf{M}_0\leftrightarrows\mathbf{M}:\text{Id}$ form a Quillen adjunction.
        \item Every object in $\mathbf{M}$ is weakly equivalent (in $\mathbf{M}_0$) to one in $\mathbf{M}_0$.
    \end{itemize}
    We will now make this procedure explicit for a specific class of model categories. Let $\mathbf{M}$ be a left proper, cofibrantly generated simplicial model category and consider a class $S\subset\text{hom}(\mathbf{M})$ of cofibrations with cofibrant domain. First we introduce the notion of ''$S$-local objects'':
    \newdef{Local object}{\index{local!object}
        A fibrant object $x$ is said to be $S$-local if for all morphisms in $S$ their image under its Yoneda embedding is an acyclic Kan fibration. Analogously, a morphism is said to be an $S$-local weak equivalence if for all $S$-local fibrant objects its image under their Yoneda embeddings is an acyclic Kan fibration.
    }
    \begin{property}
        Every weak equivalence is also an $S$-local weak equivalence: $W\subset W_S$.
    \end{property}
    \begin{construct}[Left Bousfield localization]\index{localization!Bousfield}
        Given a model category $\mathbf{M}$ with the same assumptions as before, we define the (left) Bousfield localization $L_S\mathbf{M}$ as the same category but with the following model structure:
        \begin{enumerate}
            \item cofibrations: $\text{cof}(L_S\mathbf{M}):=\text{cof}(\mathbf{M})$, and
            \item acyclic cofibrations: cofibrations that are also $S$-local weak equivalences.
        \end{enumerate}
    \end{construct}

    ?? FINISH ??

\section{Homotopy (co)limits}

    Consider a category $\mathbf{C}$ with weak equivalences together with diagrams $\func{D,D'}{I}{C}$. Let us assume that there exists a weak equivalence between $D$ and $D'$, i.e. a natural transformation that consists of componentwise weak equivalences. Clearly this induces a morphism between (co)limits, but it would be nice if the construction of (co)limits would also preserve the homotopy structure, i.e. we want this morphism to be a weak equivalence itself.

    The main purpose of this section is to introduce a correction of the ordinary (co)limit functors to take into account the underlying homotopical structure.

    We first give a homotopical incarnation of (co)products:
    \newdef{Homotopy (co)products}{\index{homotopy!(co)product}
        In ordinary categories the universal property of a product (and dually for coproducts) characterizes it as an object with an isomorphism
        \begin{gather}
            \mathbf{M}(-, m) \cong \prod_{i\in I}\mathbf{M}(-, m_i)
        \end{gather}
        such that every $I$-indexed collection of morphisms $f_i:x\rightarrow m_i$ can be factorized as follows
        \begin{gather*}
            \begin{tikzpicture}
                \node (X) at (-1, 1) {$x$};
                \node (M) at (-1, -1) {$m$};
                \node (MI) at (1, -1) {$m_i.$};
                \draw[->] (X) -- node[above right]{$f_i$} (MI);
                \draw[->] (M) -- node[below]{$\cong$} (MI);
                \draw[->, dashed] (X) -- node[left]{$\exists!$} (M);
            \end{tikzpicture}
        \end{gather*}
        To obtain a homotopical version, we relax the commutativity of this diagram up to a homotopy/path in the mapping space $\text{Map}(x, m_i)$. This leads us to defining a homotopy product as an object $m$ with a natural weak (homotopy) equivalence
        \begin{gather}
            \text{Map}(x, m)\xrightarrow{\ \simeq\ }\prod_{i\in I}\text{Map}(x, m_i).
        \end{gather}
        The homotopy (co)products are unusual in the sense that they can be obtained as (co)limits in the homotopy category $\mathbf{Ho(M)}$.
    }

    For general homotopical categories we can define homotopy (co)limits by passing to derived functors:
    \newdef{Homotopy (co)limits}{\index{homotopy!(co)limits}
        Let $\mathbf{C}$ be a homotopical category and let $\mathbf{D}$ be small. The homotopy limit and colimit functors are defined as the derived functors of the limit and colimit functors $\text{(co)lim}:\funccat{D}{C}\rightarrow\mathbf{C}$.
    }
    \begin{remark}
        The reason why (co)products can be obtained as ordinary (co)limits  is related to the fact that their indexing categories are discrete. In this case the adjoint of the derived functor is equivalent to the diagonal functor on the homotopy category.
    \end{remark}

    \begin{property}
        Consider the specific case where $\mathbf{C}$ is a model category. If $\funccat{D}{C}$ admits a injective (resp. projective) model structure, the homotopy limit (resp. colimit) always exists and can be obtained through fibrant (resp. cofibrant) replacement as in definition \ref{model:derived_functor_replacement}.
    \end{property}
    \begin{example}[Reedy source categories]
        Consider the general case where we look at diagrams $\func{D}{R}{M}$ with $\mathbf{R}$ Reedy. First note that the constant functor $\func{\Delta}{M}{[R,M]}$ maps weak equivalences to (pointwise) weak equivalences.\footnote{This is clearly also true even when $\mathbf{R}$ is not Reedy.} If the Reedy structure is such that the constant functor preserves cofibrations, then this functor is left Quillen and Ken Brown's lemma \ref{model:ken_brown} implies that its right Quillen adjoint, the limit functor, preserves weak equivalences. In this case we can define the \textbf{homotopy limit} $\text{holim} D$ as the functor $\lim(D\circ Q_f)$ where $Q_f$ is the fibrant replacement-functor (which in this case acts pointwise). A dual construction gives rise to \textbf{homotopy colimits}.
    \end{example}

\subsection{Simplicially enriched diagrams}

    In the setting where we consider diagrams in categories enriched over $\mathbf{sSet}$ one can define homotopy (co)limits in a more sophisticated way. References are \cite{hocolim_riehl}. For a refresher on enriched category theory see section \ref{section:enriched_category_theory}.

    \newdef{Homotopy colimit}{
        Consider a diagram $\func{D}{I}{M}$ with $\mathbf{M}$ $\mathbf{sSet}$-enriched. The homotopy colimit of $D$ is defined as the following tensor product:
        \begin{gather}
            \text{hocolim}D := N(-/\mathbf{I})\otimes_{\mathbf{I}}D \overset{\ref{cat:copower_product}}{=} \int^{i\in\mathbf{I}}N(i/\mathbf{I})\cdot Di.
        \end{gather}
    }
    A similar definition for homotopy limits makes use of a powering:
    \newdef{Homotopy limit}{
        Consider a diagram $\func{D}{I}{M}$ with $\mathbf{M}$ $\mathbf{sSet}$-enriched. The homotopy limit of $D$ is defined as the following hom-like object:
        \begin{gather}
            \text{holim}D := \int_{i\in\mathbf{I}}[N(\mathbf{I}/i),Di].
        \end{gather}
        This is exactly the characterization of the holimit as the $\mathbf{sSet}$-natural transformations between $N(\mathbf{I}/-)$ and $D$.
    }
    \begin{remark}[Bousfield-Kan map]\index{Bousfield-Kan map}
        The expressions from the above formulas are also known as the \textit{Bousfield-Kan formulas}. In fact the above definitions are not quite equivalent to the ones from the previous section. To be precise, the Bousfield-Kan formulas are strictly speaking only weakly equivalent (and hence give satisfying definitions) if we replace the objects in $\mathbf{M}$ by their (co)fibrant replacements, i.e. postcompose $D$ in the above expressions by a (co)fibrant replacement-functor.
    \end{remark}

\subsection{Simplicial nerve}

    The nerve and realization functors \ref{model:nerve_and_realization} can also be modified to incorporate the higher homotopical data included in a simplicially enriched category.

    First we define a cosimplicial simplicially enriched category $\func{S}{\Delta}{sSetCat}$ that assigns to every finite ordinal $[n]$ the category consisting of the following data:
    \begin{itemize}
        \item $\text{ob}(S[n]) := [n]\equiv\{0,1,\ldots,n\}$.
        \item $S[n](i, j) := N(P_{ij})$ where $N$ is the ordinary nerve functor on $\mathbf{Cat}$ and $P_{ij}$ is the poset consisting of all subsets of $\{i,\ldots,j\}$ that contain both $i$ and $j$.
    \end{itemize}
    The homotopy coherent nerve functor (or \textbf{simplicial nerve functor}\footnote{We also use this terminology for the ordinary nerve functor taking values in $\mathbf{sSet}$. In general it should be clear from the context which one we mean.}) is the nerve functor induced by this cosimplicial object.
    \begin{remark}
        The cosimplicial object $\func{S}{\Delta}{sSetCat}$ is in fact just the free resolution functor $\mathfrak{C}$ in the Bergner model structure (see construction \ref{model:bergner_free_resolution}) restricted to the subcategory $\simplex$.
    \end{remark}

    \begin{property}
        The homotopy coherent nerve functor $N$ is uniquely determined by the following relation:
        \begin{gather}
            \mathbf{sSet}(\Delta[n], N\mathbf{C})=\mathbf{sSetCat}(S[n], \mathbf{C}).
        \end{gather}
    \end{property}

    \begin{property}[Simplicial realization]
        The left adjoint to the homotopy coherent nerve functor, here called the simplicial realization functor, satisfies the following relation for all finite ordinals $[n]$:
        \begin{gather}
            |\Delta[n]| \cong S[n].
        \end{gather}
    \end{property}

    \begin{property}[Quasicategories]
        If $\mathbf{C}$ is $\mathbf{Kan}$-enriched, its simplicial nerve is a quasicategory. By example \ref{model:simplicial_model_category} this allows us to associate a quasicategory to any simplicial model category by passing to the simplicial nerve of its fibrant-cofibrant subcategory.
    \end{property}

    By definition \ref{model:homotopy_category_2} we can construct morphisms in a homotopy category as morphisms from a cofibrant replacement to a fibrant replacement. This allows us to define diagrams-up-to-homotopy (in two settings):
    \newdef{Homotopy coherent diagram}{\index{homotopy!diagram}
        A morphism in the homotopy category of the Bergner model category. When we consider diagrams taking values in a $\mathbf{Kan}$-enriched category, we can use the free resolution functor to characterize them as functors $D:\mathfrak{C}\mathbf{I}\rightarrow\mathbf{C}$. Since the simplicial realization functor extends the free resolution functor $\mathfrak{C}$ to simplicial sets, we can also define homotopy coherent diagrams on simplicial sets.

        Natural transformations between such diagrams are given by homotopy coherent diagrams $\mathfrak{C}(\mathbf{I}\times\Delta[1])\rightarrow\mathbf{C}$ in analogy with ordinary homotopies. However, these do no compose uniquely in the sense that we do not obtain a well-defined diagram on $\mathbf{I}\times\Delta[2]$. Therefore, we do not obtain a category of homotopy coherent diagrams. For simplicial sets $I$ we can show that the natural structure is that of a quasicategory:
        \begin{gather}
            \text{CohDgrm}(I, \mathbf{C}) \cong (N\mathbf{C})^I
        \end{gather}
        where $N$ is the simplicial nerve functor.
    }

    ?? COMPLETE ??